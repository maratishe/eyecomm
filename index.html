<html>
<title>serverless</title>
<head>
<meta HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=UTF8">
</head>
<body style="overflow:hidden;">
<html><head><title>WebSocket</title>
<style type="text/css">
html,body { font:normal 0.9em arial,helvetica; }
#log { width:600px;  height:300px;  border:1px solid #7F9DB9;  overflow:auto; }
#msg { width:400px; }
</style>
</head>
<body></body>
</html>
</body>
</html>

<script>



(function(window,undefined){var
readyList,rootjQuery,core_strundefined=typeof undefined,document=window.document,location=window.location,_jQuery=window.jQuery,_$=window.$,class2type={},core_deletedIds=[],core_version="1.9.1",core_concat=core_deletedIds.concat,core_push=core_deletedIds.push,core_slice=core_deletedIds.slice,core_indexOf=core_deletedIds.indexOf,core_toString=class2type.toString,core_hasOwn=class2type.hasOwnProperty,core_trim=core_version.trim,jQuery=function(selector,context){return new jQuery.fn.init(selector,context,rootjQuery);},core_pnum=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,core_rnotwhite=/\S+/g,rtrim=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,rquickExpr=/^(?:(<[\w\W]+>)[^>]*|#([\w-]*))$/,rsingleTag=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,rvalidchars=/^[\],:{}\s]*$/,rvalidbraces=/(?:^|:|,)(?:\s*\[)+/g,rvalidescape=/\\(?:["\\\/bfnrt]|u[\da-fA-F]{4})/g,rvalidtokens=/"[^"\\\r\n]*"|true|false|null|-?(?:\d+\.|)\d+(?:[eE][+-]?\d+|)/g,rmsPrefix=/^-ms-/,rdashAlpha=/-([\da-z])/gi,fcamelCase=function(all,letter){return letter.toUpperCase();},completed=function(event){if(document.addEventListener||event.type==="load"||document.readyState==="complete"){detach();jQuery.ready();}},detach=function(){if(document.addEventListener){document.removeEventListener("DOMContentLoaded",completed,false);window.removeEventListener("load",completed,false);}else{document.detachEvent("onreadystatechange",completed);window.detachEvent("onload",completed);}};jQuery.fn=jQuery.prototype={jquery:core_version,constructor:jQuery,init:function(selector,context,rootjQuery){var match,elem;if(!selector){return this;}
if(typeof selector==="string"){if(selector.charAt(0)==="<"&&selector.charAt(selector.length-1)===">"&&selector.length>=3){match=[null,selector,null];}else{match=rquickExpr.exec(selector);}
if(match&&(match[1]||!context)){if(match[1]){context=context instanceof jQuery?context[0]:context;jQuery.merge(this,jQuery.parseHTML(match[1],context&&context.nodeType?context.ownerDocument||context:document,true));if(rsingleTag.test(match[1])&&jQuery.isPlainObject(context)){for(match in context){if(jQuery.isFunction(this[match])){this[match](context[match]);}else{this.attr(match,context[match]);}}}
return this;}else{elem=document.getElementById(match[2]);if(elem&&elem.parentNode){if(elem.id!==match[2]){return rootjQuery.find(selector);}
this.length=1;this[0]=elem;}
this.context=document;this.selector=selector;return this;}}else if(!context||context.jquery){return(context||rootjQuery).find(selector);}else{return this.constructor(context).find(selector);}}else if(selector.nodeType){this.context=this[0]=selector;this.length=1;return this;}else if(jQuery.isFunction(selector)){return rootjQuery.ready(selector);}
if(selector.selector!==undefined){this.selector=selector.selector;this.context=selector.context;}
return jQuery.makeArray(selector,this);},selector:"",length:0,size:function(){return this.length;},toArray:function(){return core_slice.call(this);},get:function(num){return num==null?this.toArray():(num<0?this[this.length+num]:this[num]);},pushStack:function(elems){var ret=jQuery.merge(this.constructor(),elems);ret.prevObject=this;ret.context=this.context;return ret;},each:function(callback,args){return jQuery.each(this,callback,args);},ready:function(fn){jQuery.ready.promise().done(fn);return this;},slice:function(){return this.pushStack(core_slice.apply(this,arguments));},first:function(){return this.eq(0);},last:function(){return this.eq(-1);},eq:function(i){var len=this.length,j=+i+(i<0?len:0);return this.pushStack(j>=0&&j<len?[this[j]]:[]);},map:function(callback){return this.pushStack(jQuery.map(this,function(elem,i){return callback.call(elem,i,elem);}));},end:function(){return this.prevObject||this.constructor(null);},push:core_push,sort:[].sort,splice:[].splice};jQuery.fn.init.prototype=jQuery.fn;jQuery.extend=jQuery.fn.extend=function(){var src,copyIsArray,copy,name,options,clone,target=arguments[0]||{},i=1,length=arguments.length,deep=false;if(typeof target==="boolean"){deep=target;target=arguments[1]||{};i=2;}
if(typeof target!=="object"&&!jQuery.isFunction(target)){target={};}
if(length===i){target=this;--i;}
for(;i<length;i++){if((options=arguments[i])!=null){for(name in options){src=target[name];copy=options[name];if(target===copy){continue;}
if(deep&&copy&&(jQuery.isPlainObject(copy)||(copyIsArray=jQuery.isArray(copy)))){if(copyIsArray){copyIsArray=false;clone=src&&jQuery.isArray(src)?src:[];}else{clone=src&&jQuery.isPlainObject(src)?src:{};}
target[name]=jQuery.extend(deep,clone,copy);}else if(copy!==undefined){target[name]=copy;}}}}
return target;};jQuery.extend({noConflict:function(deep){if(window.$===jQuery){window.$=_$;}
if(deep&&window.jQuery===jQuery){window.jQuery=_jQuery;}
return jQuery;},isReady:false,readyWait:1,holdReady:function(hold){if(hold){jQuery.readyWait++;}else{jQuery.ready(true);}},ready:function(wait){if(wait===true?--jQuery.readyWait:jQuery.isReady){return;}
if(!document.body){return setTimeout(jQuery.ready);}
jQuery.isReady=true;if(wait!==true&&--jQuery.readyWait>0){return;}
readyList.resolveWith(document,[jQuery]);if(jQuery.fn.trigger){jQuery(document).trigger("ready").off("ready");}},isFunction:function(obj){return jQuery.type(obj)==="function";},isArray:Array.isArray||function(obj){return jQuery.type(obj)==="array";},isWindow:function(obj){return obj!=null&&obj==obj.window;},isNumeric:function(obj){return!isNaN(parseFloat(obj))&&isFinite(obj);},type:function(obj){if(obj==null){return String(obj);}
return typeof obj==="object"||typeof obj==="function"?class2type[core_toString.call(obj)]||"object":typeof obj;},isPlainObject:function(obj){if(!obj||jQuery.type(obj)!=="object"||obj.nodeType||jQuery.isWindow(obj)){return false;}
try{if(obj.constructor&&!core_hasOwn.call(obj,"constructor")&&!core_hasOwn.call(obj.constructor.prototype,"isPrototypeOf")){return false;}}catch(e){return false;}
var key;for(key in obj){}
return key===undefined||core_hasOwn.call(obj,key);},isEmptyObject:function(obj){var name;for(name in obj){return false;}
return true;},error:function(msg){throw new Error(msg);},parseHTML:function(data,context,keepScripts){if(!data||typeof data!=="string"){return null;}
if(typeof context==="boolean"){keepScripts=context;context=false;}
context=context||document;var parsed=rsingleTag.exec(data),scripts=!keepScripts&&[];if(parsed){return[context.createElement(parsed[1])];}
parsed=jQuery.buildFragment([data],context,scripts);if(scripts){jQuery(scripts).remove();}
return jQuery.merge([],parsed.childNodes);},parseJSON:function(data){if(window.JSON&&window.JSON.parse){return window.JSON.parse(data);}
if(data===null){return data;}
if(typeof data==="string"){data=jQuery.trim(data);if(data){if(rvalidchars.test(data.replace(rvalidescape,"@").replace(rvalidtokens,"]").replace(rvalidbraces,""))){return(new Function("return "+data))();}}}
jQuery.error("Invalid JSON: "+data);},parseXML:function(data){var xml,tmp;if(!data||typeof data!=="string"){return null;}
try{if(window.DOMParser){tmp=new DOMParser();xml=tmp.parseFromString(data,"text/xml");}else{xml=new ActiveXObject("Microsoft.XMLDOM");xml.async="false";xml.loadXML(data);}}catch(e){xml=undefined;}
if(!xml||!xml.documentElement||xml.getElementsByTagName("parsererror").length){jQuery.error("Invalid XML: "+data);}
return xml;},noop:function(){},globalEval:function(data){if(data&&jQuery.trim(data)){(window.execScript||function(data){window["eval"].call(window,data);})(data);}},camelCase:function(string){return string.replace(rmsPrefix,"ms-").replace(rdashAlpha,fcamelCase);},nodeName:function(elem,name){return elem.nodeName&&elem.nodeName.toLowerCase()===name.toLowerCase();},each:function(obj,callback,args){var value,i=0,length=obj.length,isArray=isArraylike(obj);if(args){if(isArray){for(;i<length;i++){value=callback.apply(obj[i],args);if(value===false){break;}}}else{for(i in obj){value=callback.apply(obj[i],args);if(value===false){break;}}}}else{if(isArray){for(;i<length;i++){value=callback.call(obj[i],i,obj[i]);if(value===false){break;}}}else{for(i in obj){value=callback.call(obj[i],i,obj[i]);if(value===false){break;}}}}
return obj;},trim:core_trim&&!core_trim.call("\uFEFF\xA0")?function(text){return text==null?"":core_trim.call(text);}:function(text){return text==null?"":(text+"").replace(rtrim,"");},makeArray:function(arr,results){var ret=results||[];if(arr!=null){if(isArraylike(Object(arr))){jQuery.merge(ret,typeof arr==="string"?[arr]:arr);}else{core_push.call(ret,arr);}}
return ret;},inArray:function(elem,arr,i){var len;if(arr){if(core_indexOf){return core_indexOf.call(arr,elem,i);}
len=arr.length;i=i?i<0?Math.max(0,len+i):i:0;for(;i<len;i++){if(i in arr&&arr[i]===elem){return i;}}}
return-1;},merge:function(first,second){var l=second.length,i=first.length,j=0;if(typeof l==="number"){for(;j<l;j++){first[i++]=second[j];}}else{while(second[j]!==undefined){first[i++]=second[j++];}}
first.length=i;return first;},grep:function(elems,callback,inv){var retVal,ret=[],i=0,length=elems.length;inv=!!inv;for(;i<length;i++){retVal=!!callback(elems[i],i);if(inv!==retVal){ret.push(elems[i]);}}
return ret;},map:function(elems,callback,arg){var value,i=0,length=elems.length,isArray=isArraylike(elems),ret=[];if(isArray){for(;i<length;i++){value=callback(elems[i],i,arg);if(value!=null){ret[ret.length]=value;}}}else{for(i in elems){value=callback(elems[i],i,arg);if(value!=null){ret[ret.length]=value;}}}
return core_concat.apply([],ret);},guid:1,proxy:function(fn,context){var args,proxy,tmp;if(typeof context==="string"){tmp=fn[context];context=fn;fn=tmp;}
if(!jQuery.isFunction(fn)){return undefined;}
args=core_slice.call(arguments,2);proxy=function(){return fn.apply(context||this,args.concat(core_slice.call(arguments)));};proxy.guid=fn.guid=fn.guid||jQuery.guid++;return proxy;},access:function(elems,fn,key,value,chainable,emptyGet,raw){var i=0,length=elems.length,bulk=key==null;if(jQuery.type(key)==="object"){chainable=true;for(i in key){jQuery.access(elems,fn,i,key[i],true,emptyGet,raw);}}else if(value!==undefined){chainable=true;if(!jQuery.isFunction(value)){raw=true;}
if(bulk){if(raw){fn.call(elems,value);fn=null;}else{bulk=fn;fn=function(elem,key,value){return bulk.call(jQuery(elem),value);};}}
if(fn){for(;i<length;i++){fn(elems[i],key,raw?value:value.call(elems[i],i,fn(elems[i],key)));}}}
return chainable?elems:bulk?fn.call(elems):length?fn(elems[0],key):emptyGet;},now:function(){return(new Date()).getTime();}});jQuery.ready.promise=function(obj){if(!readyList){readyList=jQuery.Deferred();if(document.readyState==="complete"){setTimeout(jQuery.ready);}else if(document.addEventListener){document.addEventListener("DOMContentLoaded",completed,false);window.addEventListener("load",completed,false);}else{document.attachEvent("onreadystatechange",completed);window.attachEvent("onload",completed);var top=false;try{top=window.frameElement==null&&document.documentElement;}catch(e){}
if(top&&top.doScroll){(function doScrollCheck(){if(!jQuery.isReady){try{top.doScroll("left");}catch(e){return setTimeout(doScrollCheck,50);}
detach();jQuery.ready();}})();}}}
return readyList.promise(obj);};jQuery.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(i,name){class2type["[object "+name+"]"]=name.toLowerCase();});function isArraylike(obj){var length=obj.length,type=jQuery.type(obj);if(jQuery.isWindow(obj)){return false;}
if(obj.nodeType===1&&length){return true;}
return type==="array"||type!=="function"&&(length===0||typeof length==="number"&&length>0&&(length-1)in obj);}
rootjQuery=jQuery(document);var optionsCache={};function createOptions(options){var object=optionsCache[options]={};jQuery.each(options.match(core_rnotwhite)||[],function(_,flag){object[flag]=true;});return object;}
jQuery.Callbacks=function(options){options=typeof options==="string"?(optionsCache[options]||createOptions(options)):jQuery.extend({},options);var
firing,memory,fired,firingLength,firingIndex,firingStart,list=[],stack=!options.once&&[],fire=function(data){memory=options.memory&&data;fired=true;firingIndex=firingStart||0;firingStart=0;firingLength=list.length;firing=true;for(;list&&firingIndex<firingLength;firingIndex++){if(list[firingIndex].apply(data[0],data[1])===false&&options.stopOnFalse){memory=false;break;}}
firing=false;if(list){if(stack){if(stack.length){fire(stack.shift());}}else if(memory){list=[];}else{self.disable();}}},self={add:function(){if(list){var start=list.length;(function add(args){jQuery.each(args,function(_,arg){var type=jQuery.type(arg);if(type==="function"){if(!options.unique||!self.has(arg)){list.push(arg);}}else if(arg&&arg.length&&type!=="string"){add(arg);}});})(arguments);if(firing){firingLength=list.length;}else if(memory){firingStart=start;fire(memory);}}
return this;},remove:function(){if(list){jQuery.each(arguments,function(_,arg){var index;while((index=jQuery.inArray(arg,list,index))>-1){list.splice(index,1);if(firing){if(index<=firingLength){firingLength--;}
if(index<=firingIndex){firingIndex--;}}}});}
return this;},has:function(fn){return fn?jQuery.inArray(fn,list)>-1:!!(list&&list.length);},empty:function(){list=[];return this;},disable:function(){list=stack=memory=undefined;return this;},disabled:function(){return!list;},lock:function(){stack=undefined;if(!memory){self.disable();}
return this;},locked:function(){return!stack;},fireWith:function(context,args){args=args||[];args=[context,args.slice?args.slice():args];if(list&&(!fired||stack)){if(firing){stack.push(args);}else{fire(args);}}
return this;},fire:function(){self.fireWith(this,arguments);return this;},fired:function(){return!!fired;}};return self;};jQuery.extend({Deferred:function(func){var tuples=[["resolve","done",jQuery.Callbacks("once memory"),"resolved"],["reject","fail",jQuery.Callbacks("once memory"),"rejected"],["notify","progress",jQuery.Callbacks("memory")]],state="pending",promise={state:function(){return state;},always:function(){deferred.done(arguments).fail(arguments);return this;},then:function(){var fns=arguments;return jQuery.Deferred(function(newDefer){jQuery.each(tuples,function(i,tuple){var action=tuple[0],fn=jQuery.isFunction(fns[i])&&fns[i];deferred[tuple[1]](function(){var returned=fn&&fn.apply(this,arguments);if(returned&&jQuery.isFunction(returned.promise)){returned.promise().done(newDefer.resolve).fail(newDefer.reject).progress(newDefer.notify);}else{newDefer[action+"With"](this===promise?newDefer.promise():this,fn?[returned]:arguments);}});});fns=null;}).promise();},promise:function(obj){return obj!=null?jQuery.extend(obj,promise):promise;}},deferred={};promise.pipe=promise.then;jQuery.each(tuples,function(i,tuple){var list=tuple[2],stateString=tuple[3];promise[tuple[1]]=list.add;if(stateString){list.add(function(){state=stateString;},tuples[i^1][2].disable,tuples[2][2].lock);}
deferred[tuple[0]]=function(){deferred[tuple[0]+"With"](this===deferred?promise:this,arguments);return this;};deferred[tuple[0]+"With"]=list.fireWith;});promise.promise(deferred);if(func){func.call(deferred,deferred);}
return deferred;},when:function(subordinate){var i=0,resolveValues=core_slice.call(arguments),length=resolveValues.length,remaining=length!==1||(subordinate&&jQuery.isFunction(subordinate.promise))?length:0,deferred=remaining===1?subordinate:jQuery.Deferred(),updateFunc=function(i,contexts,values){return function(value){contexts[i]=this;values[i]=arguments.length>1?core_slice.call(arguments):value;if(values===progressValues){deferred.notifyWith(contexts,values);}else if(!(--remaining)){deferred.resolveWith(contexts,values);}};},progressValues,progressContexts,resolveContexts;if(length>1){progressValues=new Array(length);progressContexts=new Array(length);resolveContexts=new Array(length);for(;i<length;i++){if(resolveValues[i]&&jQuery.isFunction(resolveValues[i].promise)){resolveValues[i].promise().done(updateFunc(i,resolveContexts,resolveValues)).fail(deferred.reject).progress(updateFunc(i,progressContexts,progressValues));}else{--remaining;}}}
if(!remaining){deferred.resolveWith(resolveContexts,resolveValues);}
return deferred.promise();}});jQuery.support=(function(){var support,all,a,input,select,fragment,opt,eventName,isSupported,i,div=document.createElement("div");div.setAttribute("className","t");div.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>";all=div.getElementsByTagName("*");a=div.getElementsByTagName("a")[0];if(!all||!a||!all.length){return{};}
select=document.createElement("select");opt=select.appendChild(document.createElement("option"));input=div.getElementsByTagName("input")[0];a.style.cssText="top:1px;float:left;opacity:.5";support={getSetAttribute:div.className!=="t",leadingWhitespace:div.firstChild.nodeType===3,tbody:!div.getElementsByTagName("tbody").length,htmlSerialize:!!div.getElementsByTagName("link").length,style:/top/.test(a.getAttribute("style")),hrefNormalized:a.getAttribute("href")==="/a",opacity:/^0.5/.test(a.style.opacity),cssFloat:!!a.style.cssFloat,checkOn:!!input.value,optSelected:opt.selected,enctype:!!document.createElement("form").enctype,html5Clone:document.createElement("nav").cloneNode(true).outerHTML!=="<:nav></:nav>",boxModel:document.compatMode==="CSS1Compat",deleteExpando:true,noCloneEvent:true,inlineBlockNeedsLayout:false,shrinkWrapBlocks:false,reliableMarginRight:true,boxSizingReliable:true,pixelPosition:false};input.checked=true;support.noCloneChecked=input.cloneNode(true).checked;select.disabled=true;support.optDisabled=!opt.disabled;try{delete div.test;}catch(e){support.deleteExpando=false;}
input=document.createElement("input");input.setAttribute("value","");support.input=input.getAttribute("value")==="";input.value="t";input.setAttribute("type","radio");support.radioValue=input.value==="t";input.setAttribute("checked","t");input.setAttribute("name","t");fragment=document.createDocumentFragment();fragment.appendChild(input);support.appendChecked=input.checked;support.checkClone=fragment.cloneNode(true).cloneNode(true).lastChild.checked;if(div.attachEvent){div.attachEvent("onclick",function(){support.noCloneEvent=false;});div.cloneNode(true).click();}
for(i in{submit:true,change:true,focusin:true}){div.setAttribute(eventName="on"+i,"t");support[i+"Bubbles"]=eventName in window||div.attributes[eventName].expando===false;}
div.style.backgroundClip="content-box";div.cloneNode(true).style.backgroundClip="";support.clearCloneStyle=div.style.backgroundClip==="content-box";jQuery(function(){var container,marginDiv,tds,divReset="padding:0;margin:0;border:0;display:block;box-sizing:content-box;-moz-box-sizing:content-box;-webkit-box-sizing:content-box;",body=document.getElementsByTagName("body")[0];if(!body){return;}
container=document.createElement("div");container.style.cssText="border:0;width:0;height:0;position:absolute;top:0;left:-9999px;margin-top:1px";body.appendChild(container).appendChild(div);div.innerHTML="<table><tr><td></td><td>t</td></tr></table>";tds=div.getElementsByTagName("td");tds[0].style.cssText="padding:0;margin:0;border:0;display:none";isSupported=(tds[0].offsetHeight===0);tds[0].style.display="";tds[1].style.display="none";support.reliableHiddenOffsets=isSupported&&(tds[0].offsetHeight===0);div.innerHTML="";div.style.cssText="box-sizing:border-box;-moz-box-sizing:border-box;-webkit-box-sizing:border-box;padding:1px;border:1px;display:block;width:4px;margin-top:1%;position:absolute;top:1%;";support.boxSizing=(div.offsetWidth===4);support.doesNotIncludeMarginInBodyOffset=(body.offsetTop!==1);if(window.getComputedStyle){support.pixelPosition=(window.getComputedStyle(div,null)||{}).top!=="1%";support.boxSizingReliable=(window.getComputedStyle(div,null)||{width:"4px"}).width==="4px";marginDiv=div.appendChild(document.createElement("div"));marginDiv.style.cssText=div.style.cssText=divReset;marginDiv.style.marginRight=marginDiv.style.width="0";div.style.width="1px";support.reliableMarginRight=!parseFloat((window.getComputedStyle(marginDiv,null)||{}).marginRight);}
if(typeof div.style.zoom!==core_strundefined){div.innerHTML="";div.style.cssText=divReset+"width:1px;padding:1px;display:inline;zoom:1";support.inlineBlockNeedsLayout=(div.offsetWidth===3);div.style.display="block";div.innerHTML="<div></div>";div.firstChild.style.width="5px";support.shrinkWrapBlocks=(div.offsetWidth!==3);if(support.inlineBlockNeedsLayout){body.style.zoom=1;}}
body.removeChild(container);container=div=tds=marginDiv=null;});all=select=fragment=opt=a=input=null;return support;})();var rbrace=/(?:\{[\s\S]*\}|\[[\s\S]*\])$/,rmultiDash=/([A-Z])/g;function internalData(elem,name,data,pvt){if(!jQuery.acceptData(elem)){return;}
var thisCache,ret,internalKey=jQuery.expando,getByName=typeof name==="string",isNode=elem.nodeType,cache=isNode?jQuery.cache:elem,id=isNode?elem[internalKey]:elem[internalKey]&&internalKey;if((!id||!cache[id]||(!pvt&&!cache[id].data))&&getByName&&data===undefined){return;}
if(!id){if(isNode){elem[internalKey]=id=core_deletedIds.pop()||jQuery.guid++;}else{id=internalKey;}}
if(!cache[id]){cache[id]={};if(!isNode){cache[id].toJSON=jQuery.noop;}}
if(typeof name==="object"||typeof name==="function"){if(pvt){cache[id]=jQuery.extend(cache[id],name);}else{cache[id].data=jQuery.extend(cache[id].data,name);}}
thisCache=cache[id];if(!pvt){if(!thisCache.data){thisCache.data={};}
thisCache=thisCache.data;}
if(data!==undefined){thisCache[jQuery.camelCase(name)]=data;}
if(getByName){ret=thisCache[name];if(ret==null){ret=thisCache[jQuery.camelCase(name)];}}else{ret=thisCache;}
return ret;}
function internalRemoveData(elem,name,pvt){if(!jQuery.acceptData(elem)){return;}
var i,l,thisCache,isNode=elem.nodeType,cache=isNode?jQuery.cache:elem,id=isNode?elem[jQuery.expando]:jQuery.expando;if(!cache[id]){return;}
if(name){thisCache=pvt?cache[id]:cache[id].data;if(thisCache){if(!jQuery.isArray(name)){if(name in thisCache){name=[name];}else{name=jQuery.camelCase(name);if(name in thisCache){name=[name];}else{name=name.split(" ");}}}else{name=name.concat(jQuery.map(name,jQuery.camelCase));}
for(i=0,l=name.length;i<l;i++){delete thisCache[name[i]];}
if(!(pvt?isEmptyDataObject:jQuery.isEmptyObject)(thisCache)){return;}}}
if(!pvt){delete cache[id].data;if(!isEmptyDataObject(cache[id])){return;}}
if(isNode){jQuery.cleanData([elem],true);}else if(jQuery.support.deleteExpando||cache!=cache.window){delete cache[id];}else{cache[id]=null;}}
jQuery.extend({cache:{},expando:"jQuery"+(core_version+Math.random()).replace(/\D/g,""),noData:{"embed":true,"object":"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000","applet":true},hasData:function(elem){elem=elem.nodeType?jQuery.cache[elem[jQuery.expando]]:elem[jQuery.expando];return!!elem&&!isEmptyDataObject(elem);},data:function(elem,name,data){return internalData(elem,name,data);},removeData:function(elem,name){return internalRemoveData(elem,name);},_data:function(elem,name,data){return internalData(elem,name,data,true);},_removeData:function(elem,name){return internalRemoveData(elem,name,true);},acceptData:function(elem){if(elem.nodeType&&elem.nodeType!==1&&elem.nodeType!==9){return false;}
var noData=elem.nodeName&&jQuery.noData[elem.nodeName.toLowerCase()];return!noData||noData!==true&&elem.getAttribute("classid")===noData;}});jQuery.fn.extend({data:function(key,value){var attrs,name,elem=this[0],i=0,data=null;if(key===undefined){if(this.length){data=jQuery.data(elem);if(elem.nodeType===1&&!jQuery._data(elem,"parsedAttrs")){attrs=elem.attributes;for(;i<attrs.length;i++){name=attrs[i].name;if(!name.indexOf("data-")){name=jQuery.camelCase(name.slice(5));dataAttr(elem,name,data[name]);}}
jQuery._data(elem,"parsedAttrs",true);}}
return data;}
if(typeof key==="object"){return this.each(function(){jQuery.data(this,key);});}
return jQuery.access(this,function(value){if(value===undefined){return elem?dataAttr(elem,key,jQuery.data(elem,key)):null;}
this.each(function(){jQuery.data(this,key,value);});},null,value,arguments.length>1,null,true);},removeData:function(key){return this.each(function(){jQuery.removeData(this,key);});}});function dataAttr(elem,key,data){if(data===undefined&&elem.nodeType===1){var name="data-"+key.replace(rmultiDash,"-$1").toLowerCase();data=elem.getAttribute(name);if(typeof data==="string"){try{data=data==="true"?true:data==="false"?false:data==="null"?null:+data+""===data?+data:rbrace.test(data)?jQuery.parseJSON(data):data;}catch(e){}
jQuery.data(elem,key,data);}else{data=undefined;}}
return data;}
function isEmptyDataObject(obj){var name;for(name in obj){if(name==="data"&&jQuery.isEmptyObject(obj[name])){continue;}
if(name!=="toJSON"){return false;}}
return true;}
jQuery.extend({queue:function(elem,type,data){var queue;if(elem){type=(type||"fx")+"queue";queue=jQuery._data(elem,type);if(data){if(!queue||jQuery.isArray(data)){queue=jQuery._data(elem,type,jQuery.makeArray(data));}else{queue.push(data);}}
return queue||[];}},dequeue:function(elem,type){type=type||"fx";var queue=jQuery.queue(elem,type),startLength=queue.length,fn=queue.shift(),hooks=jQuery._queueHooks(elem,type),next=function(){jQuery.dequeue(elem,type);};if(fn==="inprogress"){fn=queue.shift();startLength--;}
hooks.cur=fn;if(fn){if(type==="fx"){queue.unshift("inprogress");}
delete hooks.stop;fn.call(elem,next,hooks);}
if(!startLength&&hooks){hooks.empty.fire();}},_queueHooks:function(elem,type){var key=type+"queueHooks";return jQuery._data(elem,key)||jQuery._data(elem,key,{empty:jQuery.Callbacks("once memory").add(function(){jQuery._removeData(elem,type+"queue");jQuery._removeData(elem,key);})});}});jQuery.fn.extend({queue:function(type,data){var setter=2;if(typeof type!=="string"){data=type;type="fx";setter--;}
if(arguments.length<setter){return jQuery.queue(this[0],type);}
return data===undefined?this:this.each(function(){var queue=jQuery.queue(this,type,data);jQuery._queueHooks(this,type);if(type==="fx"&&queue[0]!=="inprogress"){jQuery.dequeue(this,type);}});},dequeue:function(type){return this.each(function(){jQuery.dequeue(this,type);});},delay:function(time,type){time=jQuery.fx?jQuery.fx.speeds[time]||time:time;type=type||"fx";return this.queue(type,function(next,hooks){var timeout=setTimeout(next,time);hooks.stop=function(){clearTimeout(timeout);};});},clearQueue:function(type){return this.queue(type||"fx",[]);},promise:function(type,obj){var tmp,count=1,defer=jQuery.Deferred(),elements=this,i=this.length,resolve=function(){if(!(--count)){defer.resolveWith(elements,[elements]);}};if(typeof type!=="string"){obj=type;type=undefined;}
type=type||"fx";while(i--){tmp=jQuery._data(elements[i],type+"queueHooks");if(tmp&&tmp.empty){count++;tmp.empty.add(resolve);}}
resolve();return defer.promise(obj);}});var nodeHook,boolHook,rclass=/[\t\r\n]/g,rreturn=/\r/g,rfocusable=/^(?:input|select|textarea|button|object)$/i,rclickable=/^(?:a|area)$/i,rboolean=/^(?:checked|selected|autofocus|autoplay|async|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped)$/i,ruseDefault=/^(?:checked|selected)$/i,getSetAttribute=jQuery.support.getSetAttribute,getSetInput=jQuery.support.input;jQuery.fn.extend({attr:function(name,value){return jQuery.access(this,jQuery.attr,name,value,arguments.length>1);},removeAttr:function(name){return this.each(function(){jQuery.removeAttr(this,name);});},prop:function(name,value){return jQuery.access(this,jQuery.prop,name,value,arguments.length>1);},removeProp:function(name){name=jQuery.propFix[name]||name;return this.each(function(){try{this[name]=undefined;delete this[name];}catch(e){}});},addClass:function(value){var classes,elem,cur,clazz,j,i=0,len=this.length,proceed=typeof value==="string"&&value;if(jQuery.isFunction(value)){return this.each(function(j){jQuery(this).addClass(value.call(this,j,this.className));});}
if(proceed){classes=(value||"").match(core_rnotwhite)||[];for(;i<len;i++){elem=this[i];cur=elem.nodeType===1&&(elem.className?(" "+elem.className+" ").replace(rclass," "):" ");if(cur){j=0;while((clazz=classes[j++])){if(cur.indexOf(" "+clazz+" ")<0){cur+=clazz+" ";}}
elem.className=jQuery.trim(cur);}}}
return this;},removeClass:function(value){var classes,elem,cur,clazz,j,i=0,len=this.length,proceed=arguments.length===0||typeof value==="string"&&value;if(jQuery.isFunction(value)){return this.each(function(j){jQuery(this).removeClass(value.call(this,j,this.className));});}
if(proceed){classes=(value||"").match(core_rnotwhite)||[];for(;i<len;i++){elem=this[i];cur=elem.nodeType===1&&(elem.className?(" "+elem.className+" ").replace(rclass," "):"");if(cur){j=0;while((clazz=classes[j++])){while(cur.indexOf(" "+clazz+" ")>=0){cur=cur.replace(" "+clazz+" "," ");}}
elem.className=value?jQuery.trim(cur):"";}}}
return this;},toggleClass:function(value,stateVal){var type=typeof value,isBool=typeof stateVal==="boolean";if(jQuery.isFunction(value)){return this.each(function(i){jQuery(this).toggleClass(value.call(this,i,this.className,stateVal),stateVal);});}
return this.each(function(){if(type==="string"){var className,i=0,self=jQuery(this),state=stateVal,classNames=value.match(core_rnotwhite)||[];while((className=classNames[i++])){state=isBool?state:!self.hasClass(className);self[state?"addClass":"removeClass"](className);}}else if(type===core_strundefined||type==="boolean"){if(this.className){jQuery._data(this,"__className__",this.className);}
this.className=this.className||value===false?"":jQuery._data(this,"__className__")||"";}});},hasClass:function(selector){var className=" "+selector+" ",i=0,l=this.length;for(;i<l;i++){if(this[i].nodeType===1&&(" "+this[i].className+" ").replace(rclass," ").indexOf(className)>=0){return true;}}
return false;},val:function(value){var ret,hooks,isFunction,elem=this[0];if(!arguments.length){if(elem){hooks=jQuery.valHooks[elem.type]||jQuery.valHooks[elem.nodeName.toLowerCase()];if(hooks&&"get"in hooks&&(ret=hooks.get(elem,"value"))!==undefined){return ret;}
ret=elem.value;return typeof ret==="string"?ret.replace(rreturn,""):ret==null?"":ret;}
return;}
isFunction=jQuery.isFunction(value);return this.each(function(i){var val,self=jQuery(this);if(this.nodeType!==1){return;}
if(isFunction){val=value.call(this,i,self.val());}else{val=value;}
if(val==null){val="";}else if(typeof val==="number"){val+="";}else if(jQuery.isArray(val)){val=jQuery.map(val,function(value){return value==null?"":value+"";});}
hooks=jQuery.valHooks[this.type]||jQuery.valHooks[this.nodeName.toLowerCase()];if(!hooks||!("set"in hooks)||hooks.set(this,val,"value")===undefined){this.value=val;}});}});jQuery.extend({valHooks:{option:{get:function(elem){var val=elem.attributes.value;return!val||val.specified?elem.value:elem.text;}},select:{get:function(elem){var value,option,options=elem.options,index=elem.selectedIndex,one=elem.type==="select-one"||index<0,values=one?null:[],max=one?index+1:options.length,i=index<0?max:one?index:0;for(;i<max;i++){option=options[i];if((option.selected||i===index)&&(jQuery.support.optDisabled?!option.disabled:option.getAttribute("disabled")===null)&&(!option.parentNode.disabled||!jQuery.nodeName(option.parentNode,"optgroup"))){value=jQuery(option).val();if(one){return value;}
values.push(value);}}
return values;},set:function(elem,value){var values=jQuery.makeArray(value);jQuery(elem).find("option").each(function(){this.selected=jQuery.inArray(jQuery(this).val(),values)>=0;});if(!values.length){elem.selectedIndex=-1;}
return values;}}},attr:function(elem,name,value){var hooks,notxml,ret,nType=elem.nodeType;if(!elem||nType===3||nType===8||nType===2){return;}
if(typeof elem.getAttribute===core_strundefined){return jQuery.prop(elem,name,value);}
notxml=nType!==1||!jQuery.isXMLDoc(elem);if(notxml){name=name.toLowerCase();hooks=jQuery.attrHooks[name]||(rboolean.test(name)?boolHook:nodeHook);}
if(value!==undefined){if(value===null){jQuery.removeAttr(elem,name);}else if(hooks&&notxml&&"set"in hooks&&(ret=hooks.set(elem,value,name))!==undefined){return ret;}else{elem.setAttribute(name,value+"");return value;}}else if(hooks&&notxml&&"get"in hooks&&(ret=hooks.get(elem,name))!==null){return ret;}else{if(typeof elem.getAttribute!==core_strundefined){ret=elem.getAttribute(name);}
return ret==null?undefined:ret;}},removeAttr:function(elem,value){var name,propName,i=0,attrNames=value&&value.match(core_rnotwhite);if(attrNames&&elem.nodeType===1){while((name=attrNames[i++])){propName=jQuery.propFix[name]||name;if(rboolean.test(name)){if(!getSetAttribute&&ruseDefault.test(name)){elem[jQuery.camelCase("default-"+name)]=elem[propName]=false;}else{elem[propName]=false;}}else{jQuery.attr(elem,name,"");}
elem.removeAttribute(getSetAttribute?name:propName);}}},attrHooks:{type:{set:function(elem,value){if(!jQuery.support.radioValue&&value==="radio"&&jQuery.nodeName(elem,"input")){var val=elem.value;elem.setAttribute("type",value);if(val){elem.value=val;}
return value;}}}},propFix:{tabindex:"tabIndex",readonly:"readOnly","for":"htmlFor","class":"className",maxlength:"maxLength",cellspacing:"cellSpacing",cellpadding:"cellPadding",rowspan:"rowSpan",colspan:"colSpan",usemap:"useMap",frameborder:"frameBorder",contenteditable:"contentEditable"},prop:function(elem,name,value){var ret,hooks,notxml,nType=elem.nodeType;if(!elem||nType===3||nType===8||nType===2){return;}
notxml=nType!==1||!jQuery.isXMLDoc(elem);if(notxml){name=jQuery.propFix[name]||name;hooks=jQuery.propHooks[name];}
if(value!==undefined){if(hooks&&"set"in hooks&&(ret=hooks.set(elem,value,name))!==undefined){return ret;}else{return(elem[name]=value);}}else{if(hooks&&"get"in hooks&&(ret=hooks.get(elem,name))!==null){return ret;}else{return elem[name];}}},propHooks:{tabIndex:{get:function(elem){var attributeNode=elem.getAttributeNode("tabindex");return attributeNode&&attributeNode.specified?parseInt(attributeNode.value,10):rfocusable.test(elem.nodeName)||rclickable.test(elem.nodeName)&&elem.href?0:undefined;}}}});boolHook={get:function(elem,name){var
prop=jQuery.prop(elem,name),attr=typeof prop==="boolean"&&elem.getAttribute(name),detail=typeof prop==="boolean"?getSetInput&&getSetAttribute?attr!=null:ruseDefault.test(name)?elem[jQuery.camelCase("default-"+name)]:!!attr:elem.getAttributeNode(name);return detail&&detail.value!==false?name.toLowerCase():undefined;},set:function(elem,value,name){if(value===false){jQuery.removeAttr(elem,name);}else if(getSetInput&&getSetAttribute||!ruseDefault.test(name)){elem.setAttribute(!getSetAttribute&&jQuery.propFix[name]||name,name);}else{elem[jQuery.camelCase("default-"+name)]=elem[name]=true;}
return name;}};if(!getSetInput||!getSetAttribute){jQuery.attrHooks.value={get:function(elem,name){var ret=elem.getAttributeNode(name);return jQuery.nodeName(elem,"input")?elem.defaultValue:ret&&ret.specified?ret.value:undefined;},set:function(elem,value,name){if(jQuery.nodeName(elem,"input")){elem.defaultValue=value;}else{return nodeHook&&nodeHook.set(elem,value,name);}}};}
if(!getSetAttribute){nodeHook=jQuery.valHooks.button={get:function(elem,name){var ret=elem.getAttributeNode(name);return ret&&(name==="id"||name==="name"||name==="coords"?ret.value!=="":ret.specified)?ret.value:undefined;},set:function(elem,value,name){var ret=elem.getAttributeNode(name);if(!ret){elem.setAttributeNode((ret=elem.ownerDocument.createAttribute(name)));}
ret.value=value+="";return name==="value"||value===elem.getAttribute(name)?value:undefined;}};jQuery.attrHooks.contenteditable={get:nodeHook.get,set:function(elem,value,name){nodeHook.set(elem,value===""?false:value,name);}};jQuery.each(["width","height"],function(i,name){jQuery.attrHooks[name]=jQuery.extend(jQuery.attrHooks[name],{set:function(elem,value){if(value===""){elem.setAttribute(name,"auto");return value;}}});});}
if(!jQuery.support.hrefNormalized){jQuery.each(["href","src","width","height"],function(i,name){jQuery.attrHooks[name]=jQuery.extend(jQuery.attrHooks[name],{get:function(elem){var ret=elem.getAttribute(name,2);return ret==null?undefined:ret;}});});jQuery.each(["href","src"],function(i,name){jQuery.propHooks[name]={get:function(elem){return elem.getAttribute(name,4);}};});}
if(!jQuery.support.style){jQuery.attrHooks.style={get:function(elem){return elem.style.cssText||undefined;},set:function(elem,value){return(elem.style.cssText=value+"");}};}
if(!jQuery.support.optSelected){jQuery.propHooks.selected=jQuery.extend(jQuery.propHooks.selected,{get:function(elem){var parent=elem.parentNode;if(parent){parent.selectedIndex;if(parent.parentNode){parent.parentNode.selectedIndex;}}
return null;}});}
if(!jQuery.support.enctype){jQuery.propFix.enctype="encoding";}
if(!jQuery.support.checkOn){jQuery.each(["radio","checkbox"],function(){jQuery.valHooks[this]={get:function(elem){return elem.getAttribute("value")===null?"on":elem.value;}};});}
jQuery.each(["radio","checkbox"],function(){jQuery.valHooks[this]=jQuery.extend(jQuery.valHooks[this],{set:function(elem,value){if(jQuery.isArray(value)){return(elem.checked=jQuery.inArray(jQuery(elem).val(),value)>=0);}}});});var rformElems=/^(?:input|select|textarea)$/i,rkeyEvent=/^key/,rmouseEvent=/^(?:mouse|contextmenu)|click/,rfocusMorph=/^(?:focusinfocus|focusoutblur)$/,rtypenamespace=/^([^.]*)(?:\.(.+)|)$/;function returnTrue(){return true;}
function returnFalse(){return false;}
jQuery.event={global:{},add:function(elem,types,handler,data,selector){var tmp,events,t,handleObjIn,special,eventHandle,handleObj,handlers,type,namespaces,origType,elemData=jQuery._data(elem);if(!elemData){return;}
if(handler.handler){handleObjIn=handler;handler=handleObjIn.handler;selector=handleObjIn.selector;}
if(!handler.guid){handler.guid=jQuery.guid++;}
if(!(events=elemData.events)){events=elemData.events={};}
if(!(eventHandle=elemData.handle)){eventHandle=elemData.handle=function(e){return typeof jQuery!==core_strundefined&&(!e||jQuery.event.triggered!==e.type)?jQuery.event.dispatch.apply(eventHandle.elem,arguments):undefined;};eventHandle.elem=elem;}
types=(types||"").match(core_rnotwhite)||[""];t=types.length;while(t--){tmp=rtypenamespace.exec(types[t])||[];type=origType=tmp[1];namespaces=(tmp[2]||"").split(".").sort();special=jQuery.event.special[type]||{};type=(selector?special.delegateType:special.bindType)||type;special=jQuery.event.special[type]||{};handleObj=jQuery.extend({type:type,origType:origType,data:data,handler:handler,guid:handler.guid,selector:selector,needsContext:selector&&jQuery.expr.match.needsContext.test(selector),namespace:namespaces.join(".")},handleObjIn);if(!(handlers=events[type])){handlers=events[type]=[];handlers.delegateCount=0;if(!special.setup||special.setup.call(elem,data,namespaces,eventHandle)===false){if(elem.addEventListener){elem.addEventListener(type,eventHandle,false);}else if(elem.attachEvent){elem.attachEvent("on"+type,eventHandle);}}}
if(special.add){special.add.call(elem,handleObj);if(!handleObj.handler.guid){handleObj.handler.guid=handler.guid;}}
if(selector){handlers.splice(handlers.delegateCount++,0,handleObj);}else{handlers.push(handleObj);}
jQuery.event.global[type]=true;}
elem=null;},remove:function(elem,types,handler,selector,mappedTypes){var j,handleObj,tmp,origCount,t,events,special,handlers,type,namespaces,origType,elemData=jQuery.hasData(elem)&&jQuery._data(elem);if(!elemData||!(events=elemData.events)){return;}
types=(types||"").match(core_rnotwhite)||[""];t=types.length;while(t--){tmp=rtypenamespace.exec(types[t])||[];type=origType=tmp[1];namespaces=(tmp[2]||"").split(".").sort();if(!type){for(type in events){jQuery.event.remove(elem,type+types[t],handler,selector,true);}
continue;}
special=jQuery.event.special[type]||{};type=(selector?special.delegateType:special.bindType)||type;handlers=events[type]||[];tmp=tmp[2]&&new RegExp("(^|\\.)"+namespaces.join("\\.(?:.*\\.|)")+"(\\.|$)");origCount=j=handlers.length;while(j--){handleObj=handlers[j];if((mappedTypes||origType===handleObj.origType)&&(!handler||handler.guid===handleObj.guid)&&(!tmp||tmp.test(handleObj.namespace))&&(!selector||selector===handleObj.selector||selector==="**"&&handleObj.selector)){handlers.splice(j,1);if(handleObj.selector){handlers.delegateCount--;}
if(special.remove){special.remove.call(elem,handleObj);}}}
if(origCount&&!handlers.length){if(!special.teardown||special.teardown.call(elem,namespaces,elemData.handle)===false){jQuery.removeEvent(elem,type,elemData.handle);}
delete events[type];}}
if(jQuery.isEmptyObject(events)){delete elemData.handle;jQuery._removeData(elem,"events");}},trigger:function(event,data,elem,onlyHandlers){var handle,ontype,cur,bubbleType,special,tmp,i,eventPath=[elem||document],type=core_hasOwn.call(event,"type")?event.type:event,namespaces=core_hasOwn.call(event,"namespace")?event.namespace.split("."):[];cur=tmp=elem=elem||document;if(elem.nodeType===3||elem.nodeType===8){return;}
if(rfocusMorph.test(type+jQuery.event.triggered)){return;}
if(type.indexOf(".")>=0){namespaces=type.split(".");type=namespaces.shift();namespaces.sort();}
ontype=type.indexOf(":")<0&&"on"+type;event=event[jQuery.expando]?event:new jQuery.Event(type,typeof event==="object"&&event);event.isTrigger=true;event.namespace=namespaces.join(".");event.namespace_re=event.namespace?new RegExp("(^|\\.)"+namespaces.join("\\.(?:.*\\.|)")+"(\\.|$)"):null;event.result=undefined;if(!event.target){event.target=elem;}
data=data==null?[event]:jQuery.makeArray(data,[event]);special=jQuery.event.special[type]||{};if(!onlyHandlers&&special.trigger&&special.trigger.apply(elem,data)===false){return;}
if(!onlyHandlers&&!special.noBubble&&!jQuery.isWindow(elem)){bubbleType=special.delegateType||type;if(!rfocusMorph.test(bubbleType+type)){cur=cur.parentNode;}
for(;cur;cur=cur.parentNode){eventPath.push(cur);tmp=cur;}
if(tmp===(elem.ownerDocument||document)){eventPath.push(tmp.defaultView||tmp.parentWindow||window);}}
i=0;while((cur=eventPath[i++])&&!event.isPropagationStopped()){event.type=i>1?bubbleType:special.bindType||type;handle=(jQuery._data(cur,"events")||{})[event.type]&&jQuery._data(cur,"handle");if(handle){handle.apply(cur,data);}
handle=ontype&&cur[ontype];if(handle&&jQuery.acceptData(cur)&&handle.apply&&handle.apply(cur,data)===false){event.preventDefault();}}
event.type=type;if(!onlyHandlers&&!event.isDefaultPrevented()){if((!special._default||special._default.apply(elem.ownerDocument,data)===false)&&!(type==="click"&&jQuery.nodeName(elem,"a"))&&jQuery.acceptData(elem)){if(ontype&&elem[type]&&!jQuery.isWindow(elem)){tmp=elem[ontype];if(tmp){elem[ontype]=null;}
jQuery.event.triggered=type;try{elem[type]();}catch(e){}
jQuery.event.triggered=undefined;if(tmp){elem[ontype]=tmp;}}}}
return event.result;},dispatch:function(event){event=jQuery.event.fix(event);var i,ret,handleObj,matched,j,handlerQueue=[],args=core_slice.call(arguments),handlers=(jQuery._data(this,"events")||{})[event.type]||[],special=jQuery.event.special[event.type]||{};args[0]=event;event.delegateTarget=this;if(special.preDispatch&&special.preDispatch.call(this,event)===false){return;}
handlerQueue=jQuery.event.handlers.call(this,event,handlers);i=0;while((matched=handlerQueue[i++])&&!event.isPropagationStopped()){event.currentTarget=matched.elem;j=0;while((handleObj=matched.handlers[j++])&&!event.isImmediatePropagationStopped()){if(!event.namespace_re||event.namespace_re.test(handleObj.namespace)){event.handleObj=handleObj;event.data=handleObj.data;ret=((jQuery.event.special[handleObj.origType]||{}).handle||handleObj.handler).apply(matched.elem,args);if(ret!==undefined){if((event.result=ret)===false){event.preventDefault();event.stopPropagation();}}}}}
if(special.postDispatch){special.postDispatch.call(this,event);}
return event.result;},handlers:function(event,handlers){var sel,handleObj,matches,i,handlerQueue=[],delegateCount=handlers.delegateCount,cur=event.target;if(delegateCount&&cur.nodeType&&(!event.button||event.type!=="click")){for(;cur!=this;cur=cur.parentNode||this){if(cur.nodeType===1&&(cur.disabled!==true||event.type!=="click")){matches=[];for(i=0;i<delegateCount;i++){handleObj=handlers[i];sel=handleObj.selector+" ";if(matches[sel]===undefined){matches[sel]=handleObj.needsContext?jQuery(sel,this).index(cur)>=0:jQuery.find(sel,this,null,[cur]).length;}
if(matches[sel]){matches.push(handleObj);}}
if(matches.length){handlerQueue.push({elem:cur,handlers:matches});}}}}
if(delegateCount<handlers.length){handlerQueue.push({elem:this,handlers:handlers.slice(delegateCount)});}
return handlerQueue;},fix:function(event){if(event[jQuery.expando]){return event;}
var i,prop,copy,type=event.type,originalEvent=event,fixHook=this.fixHooks[type];if(!fixHook){this.fixHooks[type]=fixHook=rmouseEvent.test(type)?this.mouseHooks:rkeyEvent.test(type)?this.keyHooks:{};}
copy=fixHook.props?this.props.concat(fixHook.props):this.props;event=new jQuery.Event(originalEvent);i=copy.length;while(i--){prop=copy[i];event[prop]=originalEvent[prop];}
if(!event.target){event.target=originalEvent.srcElement||document;}
if(event.target.nodeType===3){event.target=event.target.parentNode;}
event.metaKey=!!event.metaKey;return fixHook.filter?fixHook.filter(event,originalEvent):event;},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(event,original){if(event.which==null){event.which=original.charCode!=null?original.charCode:original.keyCode;}
return event;}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(event,original){var body,eventDoc,doc,button=original.button,fromElement=original.fromElement;if(event.pageX==null&&original.clientX!=null){eventDoc=event.target.ownerDocument||document;doc=eventDoc.documentElement;body=eventDoc.body;event.pageX=original.clientX+(doc&&doc.scrollLeft||body&&body.scrollLeft||0)-(doc&&doc.clientLeft||body&&body.clientLeft||0);event.pageY=original.clientY+(doc&&doc.scrollTop||body&&body.scrollTop||0)-(doc&&doc.clientTop||body&&body.clientTop||0);}
if(!event.relatedTarget&&fromElement){event.relatedTarget=fromElement===event.target?original.toElement:fromElement;}
if(!event.which&&button!==undefined){event.which=(button&1?1:(button&2?3:(button&4?2:0)));}
return event;}},special:{load:{noBubble:true},click:{trigger:function(){if(jQuery.nodeName(this,"input")&&this.type==="checkbox"&&this.click){this.click();return false;}}},focus:{trigger:function(){if(this!==document.activeElement&&this.focus){try{this.focus();return false;}catch(e){}}},delegateType:"focusin"},blur:{trigger:function(){if(this===document.activeElement&&this.blur){this.blur();return false;}},delegateType:"focusout"},beforeunload:{postDispatch:function(event){if(event.result!==undefined){event.originalEvent.returnValue=event.result;}}}},simulate:function(type,elem,event,bubble){var e=jQuery.extend(new jQuery.Event(),event,{type:type,isSimulated:true,originalEvent:{}});if(bubble){jQuery.event.trigger(e,null,elem);}else{jQuery.event.dispatch.call(elem,e);}
if(e.isDefaultPrevented()){event.preventDefault();}}};jQuery.removeEvent=document.removeEventListener?function(elem,type,handle){if(elem.removeEventListener){elem.removeEventListener(type,handle,false);}}:function(elem,type,handle){var name="on"+type;if(elem.detachEvent){if(typeof elem[name]===core_strundefined){elem[name]=null;}
elem.detachEvent(name,handle);}};jQuery.Event=function(src,props){if(!(this instanceof jQuery.Event)){return new jQuery.Event(src,props);}
if(src&&src.type){this.originalEvent=src;this.type=src.type;this.isDefaultPrevented=(src.defaultPrevented||src.returnValue===false||src.getPreventDefault&&src.getPreventDefault())?returnTrue:returnFalse;}else{this.type=src;}
if(props){jQuery.extend(this,props);}
this.timeStamp=src&&src.timeStamp||jQuery.now();this[jQuery.expando]=true;};jQuery.Event.prototype={isDefaultPrevented:returnFalse,isPropagationStopped:returnFalse,isImmediatePropagationStopped:returnFalse,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=returnTrue;if(!e){return;}
if(e.preventDefault){e.preventDefault();}else{e.returnValue=false;}},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=returnTrue;if(!e){return;}
if(e.stopPropagation){e.stopPropagation();}
e.cancelBubble=true;},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=returnTrue;this.stopPropagation();}};jQuery.each({mouseenter:"mouseover",mouseleave:"mouseout"},function(orig,fix){jQuery.event.special[orig]={delegateType:fix,bindType:fix,handle:function(event){var ret,target=this,related=event.relatedTarget,handleObj=event.handleObj;if(!related||(related!==target&&!jQuery.contains(target,related))){event.type=handleObj.origType;ret=handleObj.handler.apply(this,arguments);event.type=fix;}
return ret;}};});if(!jQuery.support.submitBubbles){jQuery.event.special.submit={setup:function(){if(jQuery.nodeName(this,"form")){return false;}
jQuery.event.add(this,"click._submit keypress._submit",function(e){var elem=e.target,form=jQuery.nodeName(elem,"input")||jQuery.nodeName(elem,"button")?elem.form:undefined;if(form&&!jQuery._data(form,"submitBubbles")){jQuery.event.add(form,"submit._submit",function(event){event._submit_bubble=true;});jQuery._data(form,"submitBubbles",true);}});},postDispatch:function(event){if(event._submit_bubble){delete event._submit_bubble;if(this.parentNode&&!event.isTrigger){jQuery.event.simulate("submit",this.parentNode,event,true);}}},teardown:function(){if(jQuery.nodeName(this,"form")){return false;}
jQuery.event.remove(this,"._submit");}};}
if(!jQuery.support.changeBubbles){jQuery.event.special.change={setup:function(){if(rformElems.test(this.nodeName)){if(this.type==="checkbox"||this.type==="radio"){jQuery.event.add(this,"propertychange._change",function(event){if(event.originalEvent.propertyName==="checked"){this._just_changed=true;}});jQuery.event.add(this,"click._change",function(event){if(this._just_changed&&!event.isTrigger){this._just_changed=false;}
jQuery.event.simulate("change",this,event,true);});}
return false;}
jQuery.event.add(this,"beforeactivate._change",function(e){var elem=e.target;if(rformElems.test(elem.nodeName)&&!jQuery._data(elem,"changeBubbles")){jQuery.event.add(elem,"change._change",function(event){if(this.parentNode&&!event.isSimulated&&!event.isTrigger){jQuery.event.simulate("change",this.parentNode,event,true);}});jQuery._data(elem,"changeBubbles",true);}});},handle:function(event){var elem=event.target;if(this!==elem||event.isSimulated||event.isTrigger||(elem.type!=="radio"&&elem.type!=="checkbox")){return event.handleObj.handler.apply(this,arguments);}},teardown:function(){jQuery.event.remove(this,"._change");return!rformElems.test(this.nodeName);}};}
if(!jQuery.support.focusinBubbles){jQuery.each({focus:"focusin",blur:"focusout"},function(orig,fix){var attaches=0,handler=function(event){jQuery.event.simulate(fix,event.target,jQuery.event.fix(event),true);};jQuery.event.special[fix]={setup:function(){if(attaches++===0){document.addEventListener(orig,handler,true);}},teardown:function(){if(--attaches===0){document.removeEventListener(orig,handler,true);}}};});}
jQuery.fn.extend({on:function(types,selector,data,fn,one){var type,origFn;if(typeof types==="object"){if(typeof selector!=="string"){data=data||selector;selector=undefined;}
for(type in types){this.on(type,selector,data,types[type],one);}
return this;}
if(data==null&&fn==null){fn=selector;data=selector=undefined;}else if(fn==null){if(typeof selector==="string"){fn=data;data=undefined;}else{fn=data;data=selector;selector=undefined;}}
if(fn===false){fn=returnFalse;}else if(!fn){return this;}
if(one===1){origFn=fn;fn=function(event){jQuery().off(event);return origFn.apply(this,arguments);};fn.guid=origFn.guid||(origFn.guid=jQuery.guid++);}
return this.each(function(){jQuery.event.add(this,types,fn,data,selector);});},one:function(types,selector,data,fn){return this.on(types,selector,data,fn,1);},off:function(types,selector,fn){var handleObj,type;if(types&&types.preventDefault&&types.handleObj){handleObj=types.handleObj;jQuery(types.delegateTarget).off(handleObj.namespace?handleObj.origType+"."+handleObj.namespace:handleObj.origType,handleObj.selector,handleObj.handler);return this;}
if(typeof types==="object"){for(type in types){this.off(type,selector,types[type]);}
return this;}
if(selector===false||typeof selector==="function"){fn=selector;selector=undefined;}
if(fn===false){fn=returnFalse;}
return this.each(function(){jQuery.event.remove(this,types,fn,selector);});},bind:function(types,data,fn){return this.on(types,null,data,fn);},unbind:function(types,fn){return this.off(types,null,fn);},delegate:function(selector,types,data,fn){return this.on(types,selector,data,fn);},undelegate:function(selector,types,fn){return arguments.length===1?this.off(selector,"**"):this.off(types,selector||"**",fn);},trigger:function(type,data){return this.each(function(){jQuery.event.trigger(type,data,this);});},triggerHandler:function(type,data){var elem=this[0];if(elem){return jQuery.event.trigger(type,data,elem,true);}}});(function(window,undefined){var i,cachedruns,Expr,getText,isXML,compile,hasDuplicate,outermostContext,setDocument,document,docElem,documentIsXML,rbuggyQSA,rbuggyMatches,matches,contains,sortOrder,expando="sizzle"+-(new Date()),preferredDoc=window.document,support={},dirruns=0,done=0,classCache=createCache(),tokenCache=createCache(),compilerCache=createCache(),strundefined=typeof undefined,MAX_NEGATIVE=1<<31,arr=[],pop=arr.pop,push=arr.push,slice=arr.slice,indexOf=arr.indexOf||function(elem){var i=0,len=this.length;for(;i<len;i++){if(this[i]===elem){return i;}}
return-1;},whitespace="[\\x20\\t\\r\\n\\f]",characterEncoding="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",identifier=characterEncoding.replace("w","w#"),operators="([*^$|!~]?=)",attributes="\\["+whitespace+"*("+characterEncoding+")"+whitespace+"*(?:"+operators+whitespace+"*(?:(['\"])((?:\\\\.|[^\\\\])*?)\\3|("+identifier+")|)|)"+whitespace+"*\\]",pseudos=":("+characterEncoding+")(?:\\(((['\"])((?:\\\\.|[^\\\\])*?)\\3|((?:\\\\.|[^\\\\()[\\]]|"+attributes.replace(3,8)+")*)|.*)\\)|)",rtrim=new RegExp("^"+whitespace+"+|((?:^|[^\\\\])(?:\\\\.)*)"+whitespace+"+$","g"),rcomma=new RegExp("^"+whitespace+"*,"+whitespace+"*"),rcombinators=new RegExp("^"+whitespace+"*([\\x20\\t\\r\\n\\f>+~])"+whitespace+"*"),rpseudo=new RegExp(pseudos),ridentifier=new RegExp("^"+identifier+"$"),matchExpr={"ID":new RegExp("^#("+characterEncoding+")"),"CLASS":new RegExp("^\\.("+characterEncoding+")"),"NAME":new RegExp("^\\[name=['\"]?("+characterEncoding+")['\"]?\\]"),"TAG":new RegExp("^("+characterEncoding.replace("w","w*")+")"),"ATTR":new RegExp("^"+attributes),"PSEUDO":new RegExp("^"+pseudos),"CHILD":new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+whitespace+"*(even|odd|(([+-]|)(\\d*)n|)"+whitespace+"*(?:([+-]|)"+whitespace+"*(\\d+)|))"+whitespace+"*\\)|)","i"),"needsContext":new RegExp("^"+whitespace+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+
whitespace+"*((?:-\\d)?\\d*)"+whitespace+"*\\)|)(?=[^-]|$)","i")},rsibling=/[\x20\t\r\n\f]*[+~]/,rnative=/^[^{]+\{\s*\[native code/,rquickExpr=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,rinputs=/^(?:input|select|textarea|button)$/i,rheader=/^h\d$/i,rescape=/'|\\/g,rattributeQuotes=/\=[\x20\t\r\n\f]*([^'"\]]*)[\x20\t\r\n\f]*\]/g,runescape=/\\([\da-fA-F]{1,6}[\x20\t\r\n\f]?|.)/g,funescape=function(_,escaped){var high="0x"+escaped-0x10000;return high!==high?escaped:high<0?String.fromCharCode(high+0x10000):String.fromCharCode(high>>10|0xD800,high&0x3FF|0xDC00);};try{slice.call(preferredDoc.documentElement.childNodes,0)[0].nodeType;}catch(e){slice=function(i){var elem,results=[];while((elem=this[i++])){results.push(elem);}
return results;};}
function isNative(fn){return rnative.test(fn+"");}
function createCache(){var cache,keys=[];return(cache=function(key,value){if(keys.push(key+=" ")>Expr.cacheLength){delete cache[keys.shift()];}
return(cache[key]=value);});}
function markFunction(fn){fn[expando]=true;return fn;}
function assert(fn){var div=document.createElement("div");try{return fn(div);}catch(e){return false;}finally{div=null;}}
function Sizzle(selector,context,results,seed){var match,elem,m,nodeType,i,groups,old,nid,newContext,newSelector;if((context?context.ownerDocument||context:preferredDoc)!==document){setDocument(context);}
context=context||document;results=results||[];if(!selector||typeof selector!=="string"){return results;}
if((nodeType=context.nodeType)!==1&&nodeType!==9){return[];}
if(!documentIsXML&&!seed){if((match=rquickExpr.exec(selector))){if((m=match[1])){if(nodeType===9){elem=context.getElementById(m);if(elem&&elem.parentNode){if(elem.id===m){results.push(elem);return results;}}else{return results;}}else{if(context.ownerDocument&&(elem=context.ownerDocument.getElementById(m))&&contains(context,elem)&&elem.id===m){results.push(elem);return results;}}}else if(match[2]){push.apply(results,slice.call(context.getElementsByTagName(selector),0));return results;}else if((m=match[3])&&support.getByClassName&&context.getElementsByClassName){push.apply(results,slice.call(context.getElementsByClassName(m),0));return results;}}
if(support.qsa&&!rbuggyQSA.test(selector)){old=true;nid=expando;newContext=context;newSelector=nodeType===9&&selector;if(nodeType===1&&context.nodeName.toLowerCase()!=="object"){groups=tokenize(selector);if((old=context.getAttribute("id"))){nid=old.replace(rescape,"\\$&");}else{context.setAttribute("id",nid);}
nid="[id='"+nid+"'] ";i=groups.length;while(i--){groups[i]=nid+toSelector(groups[i]);}
newContext=rsibling.test(selector)&&context.parentNode||context;newSelector=groups.join(",");}
if(newSelector){try{push.apply(results,slice.call(newContext.querySelectorAll(newSelector),0));return results;}catch(qsaError){}finally{if(!old){context.removeAttribute("id");}}}}}
return select(selector.replace(rtrim,"$1"),context,results,seed);}
isXML=Sizzle.isXML=function(elem){var documentElement=elem&&(elem.ownerDocument||elem).documentElement;return documentElement?documentElement.nodeName!=="HTML":false;};setDocument=Sizzle.setDocument=function(node){var doc=node?node.ownerDocument||node:preferredDoc;if(doc===document||doc.nodeType!==9||!doc.documentElement){return document;}
document=doc;docElem=doc.documentElement;documentIsXML=isXML(doc);support.tagNameNoComments=assert(function(div){div.appendChild(doc.createComment(""));return!div.getElementsByTagName("*").length;});support.attributes=assert(function(div){div.innerHTML="<select></select>";var type=typeof div.lastChild.getAttribute("multiple");return type!=="boolean"&&type!=="string";});support.getByClassName=assert(function(div){div.innerHTML="<div class='hidden e'></div><div class='hidden'></div>";if(!div.getElementsByClassName||!div.getElementsByClassName("e").length){return false;}
div.lastChild.className="e";return div.getElementsByClassName("e").length===2;});support.getByName=assert(function(div){div.id=expando+0;div.innerHTML="<a name='"+expando+"'></a><div name='"+expando+"'></div>";docElem.insertBefore(div,docElem.firstChild);var pass=doc.getElementsByName&&doc.getElementsByName(expando).length===2+
doc.getElementsByName(expando+0).length;support.getIdNotName=!doc.getElementById(expando);docElem.removeChild(div);return pass;});Expr.attrHandle=assert(function(div){div.innerHTML="<a href='#'></a>";return div.firstChild&&typeof div.firstChild.getAttribute!==strundefined&&div.firstChild.getAttribute("href")==="#";})?{}:{"href":function(elem){return elem.getAttribute("href",2);},"type":function(elem){return elem.getAttribute("type");}};if(support.getIdNotName){Expr.find["ID"]=function(id,context){if(typeof context.getElementById!==strundefined&&!documentIsXML){var m=context.getElementById(id);return m&&m.parentNode?[m]:[];}};Expr.filter["ID"]=function(id){var attrId=id.replace(runescape,funescape);return function(elem){return elem.getAttribute("id")===attrId;};};}else{Expr.find["ID"]=function(id,context){if(typeof context.getElementById!==strundefined&&!documentIsXML){var m=context.getElementById(id);return m?m.id===id||typeof m.getAttributeNode!==strundefined&&m.getAttributeNode("id").value===id?[m]:undefined:[];}};Expr.filter["ID"]=function(id){var attrId=id.replace(runescape,funescape);return function(elem){var node=typeof elem.getAttributeNode!==strundefined&&elem.getAttributeNode("id");return node&&node.value===attrId;};};}
Expr.find["TAG"]=support.tagNameNoComments?function(tag,context){if(typeof context.getElementsByTagName!==strundefined){return context.getElementsByTagName(tag);}}:function(tag,context){var elem,tmp=[],i=0,results=context.getElementsByTagName(tag);if(tag==="*"){while((elem=results[i++])){if(elem.nodeType===1){tmp.push(elem);}}
return tmp;}
return results;};Expr.find["NAME"]=support.getByName&&function(tag,context){if(typeof context.getElementsByName!==strundefined){return context.getElementsByName(name);}};Expr.find["CLASS"]=support.getByClassName&&function(className,context){if(typeof context.getElementsByClassName!==strundefined&&!documentIsXML){return context.getElementsByClassName(className);}};rbuggyMatches=[];rbuggyQSA=[":focus"];if((support.qsa=isNative(doc.querySelectorAll))){assert(function(div){div.innerHTML="<select><option selected=''></option></select>";if(!div.querySelectorAll("[selected]").length){rbuggyQSA.push("\\["+whitespace+"*(?:checked|disabled|ismap|multiple|readonly|selected|value)");}
if(!div.querySelectorAll(":checked").length){rbuggyQSA.push(":checked");}});assert(function(div){div.innerHTML="<input type='hidden' i=''/>";if(div.querySelectorAll("[i^='']").length){rbuggyQSA.push("[*^$]="+whitespace+"*(?:\"\"|'')");}
if(!div.querySelectorAll(":enabled").length){rbuggyQSA.push(":enabled",":disabled");}
div.querySelectorAll("*,:x");rbuggyQSA.push(",.*:");});}
if((support.matchesSelector=isNative((matches=docElem.matchesSelector||docElem.mozMatchesSelector||docElem.webkitMatchesSelector||docElem.oMatchesSelector||docElem.msMatchesSelector)))){assert(function(div){support.disconnectedMatch=matches.call(div,"div");matches.call(div,"[s!='']:x");rbuggyMatches.push("!=",pseudos);});}
rbuggyQSA=new RegExp(rbuggyQSA.join("|"));rbuggyMatches=new RegExp(rbuggyMatches.join("|"));contains=isNative(docElem.contains)||docElem.compareDocumentPosition?function(a,b){var adown=a.nodeType===9?a.documentElement:a,bup=b&&b.parentNode;return a===bup||!!(bup&&bup.nodeType===1&&(adown.contains?adown.contains(bup):a.compareDocumentPosition&&a.compareDocumentPosition(bup)&16));}:function(a,b){if(b){while((b=b.parentNode)){if(b===a){return true;}}}
return false;};sortOrder=docElem.compareDocumentPosition?function(a,b){var compare;if(a===b){hasDuplicate=true;return 0;}
if((compare=b.compareDocumentPosition&&a.compareDocumentPosition&&a.compareDocumentPosition(b))){if(compare&1||a.parentNode&&a.parentNode.nodeType===11){if(a===doc||contains(preferredDoc,a)){return-1;}
if(b===doc||contains(preferredDoc,b)){return 1;}
return 0;}
return compare&4?-1:1;}
return a.compareDocumentPosition?-1:1;}:function(a,b){var cur,i=0,aup=a.parentNode,bup=b.parentNode,ap=[a],bp=[b];if(a===b){hasDuplicate=true;return 0;}else if(!aup||!bup){return a===doc?-1:b===doc?1:aup?-1:bup?1:0;}else if(aup===bup){return siblingCheck(a,b);}
cur=a;while((cur=cur.parentNode)){ap.unshift(cur);}
cur=b;while((cur=cur.parentNode)){bp.unshift(cur);}
while(ap[i]===bp[i]){i++;}
return i?siblingCheck(ap[i],bp[i]):ap[i]===preferredDoc?-1:bp[i]===preferredDoc?1:0;};hasDuplicate=false;[0,0].sort(sortOrder);support.detectDuplicates=hasDuplicate;return document;};Sizzle.matches=function(expr,elements){return Sizzle(expr,null,null,elements);};Sizzle.matchesSelector=function(elem,expr){if((elem.ownerDocument||elem)!==document){setDocument(elem);}
expr=expr.replace(rattributeQuotes,"='$1']");if(support.matchesSelector&&!documentIsXML&&(!rbuggyMatches||!rbuggyMatches.test(expr))&&!rbuggyQSA.test(expr)){try{var ret=matches.call(elem,expr);if(ret||support.disconnectedMatch||elem.document&&elem.document.nodeType!==11){return ret;}}catch(e){}}
return Sizzle(expr,document,null,[elem]).length>0;};Sizzle.contains=function(context,elem){if((context.ownerDocument||context)!==document){setDocument(context);}
return contains(context,elem);};Sizzle.attr=function(elem,name){var val;if((elem.ownerDocument||elem)!==document){setDocument(elem);}
if(!documentIsXML){name=name.toLowerCase();}
if((val=Expr.attrHandle[name])){return val(elem);}
if(documentIsXML||support.attributes){return elem.getAttribute(name);}
return((val=elem.getAttributeNode(name))||elem.getAttribute(name))&&elem[name]===true?name:val&&val.specified?val.value:null;};Sizzle.error=function(msg){throw new Error("Syntax error, unrecognized expression: "+msg);};Sizzle.uniqueSort=function(results){var elem,duplicates=[],i=1,j=0;hasDuplicate=!support.detectDuplicates;results.sort(sortOrder);if(hasDuplicate){for(;(elem=results[i]);i++){if(elem===results[i-1]){j=duplicates.push(i);}}
while(j--){results.splice(duplicates[j],1);}}
return results;};function siblingCheck(a,b){var cur=b&&a,diff=cur&&(~b.sourceIndex||MAX_NEGATIVE)-(~a.sourceIndex||MAX_NEGATIVE);if(diff){return diff;}
if(cur){while((cur=cur.nextSibling)){if(cur===b){return-1;}}}
return a?1:-1;}
function createInputPseudo(type){return function(elem){var name=elem.nodeName.toLowerCase();return name==="input"&&elem.type===type;};}
function createButtonPseudo(type){return function(elem){var name=elem.nodeName.toLowerCase();return(name==="input"||name==="button")&&elem.type===type;};}
function createPositionalPseudo(fn){return markFunction(function(argument){argument=+argument;return markFunction(function(seed,matches){var j,matchIndexes=fn([],seed.length,argument),i=matchIndexes.length;while(i--){if(seed[(j=matchIndexes[i])]){seed[j]=!(matches[j]=seed[j]);}}});});}
getText=Sizzle.getText=function(elem){var node,ret="",i=0,nodeType=elem.nodeType;if(!nodeType){for(;(node=elem[i]);i++){ret+=getText(node);}}else if(nodeType===1||nodeType===9||nodeType===11){if(typeof elem.textContent==="string"){return elem.textContent;}else{for(elem=elem.firstChild;elem;elem=elem.nextSibling){ret+=getText(elem);}}}else if(nodeType===3||nodeType===4){return elem.nodeValue;}
return ret;};Expr=Sizzle.selectors={cacheLength:50,createPseudo:markFunction,match:matchExpr,find:{},relative:{">":{dir:"parentNode",first:true}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:true},"~":{dir:"previousSibling"}},preFilter:{"ATTR":function(match){match[1]=match[1].replace(runescape,funescape);match[3]=(match[4]||match[5]||"").replace(runescape,funescape);if(match[2]==="~="){match[3]=" "+match[3]+" ";}
return match.slice(0,4);},"CHILD":function(match){match[1]=match[1].toLowerCase();if(match[1].slice(0,3)==="nth"){if(!match[3]){Sizzle.error(match[0]);}
match[4]=+(match[4]?match[5]+(match[6]||1):2*(match[3]==="even"||match[3]==="odd"));match[5]=+((match[7]+match[8])||match[3]==="odd");}else if(match[3]){Sizzle.error(match[0]);}
return match;},"PSEUDO":function(match){var excess,unquoted=!match[5]&&match[2];if(matchExpr["CHILD"].test(match[0])){return null;}
if(match[4]){match[2]=match[4];}else if(unquoted&&rpseudo.test(unquoted)&&(excess=tokenize(unquoted,true))&&(excess=unquoted.indexOf(")",unquoted.length-excess)-unquoted.length)){match[0]=match[0].slice(0,excess);match[2]=unquoted.slice(0,excess);}
return match.slice(0,3);}},filter:{"TAG":function(nodeName){if(nodeName==="*"){return function(){return true;};}
nodeName=nodeName.replace(runescape,funescape).toLowerCase();return function(elem){return elem.nodeName&&elem.nodeName.toLowerCase()===nodeName;};},"CLASS":function(className){var pattern=classCache[className+" "];return pattern||(pattern=new RegExp("(^|"+whitespace+")"+className+"("+whitespace+"|$)"))&&classCache(className,function(elem){return pattern.test(elem.className||(typeof elem.getAttribute!==strundefined&&elem.getAttribute("class"))||"");});},"ATTR":function(name,operator,check){return function(elem){var result=Sizzle.attr(elem,name);if(result==null){return operator==="!=";}
if(!operator){return true;}
result+="";return operator==="="?result===check:operator==="!="?result!==check:operator==="^="?check&&result.indexOf(check)===0:operator==="*="?check&&result.indexOf(check)>-1:operator==="$="?check&&result.slice(-check.length)===check:operator==="~="?(" "+result+" ").indexOf(check)>-1:operator==="|="?result===check||result.slice(0,check.length+1)===check+"-":false;};},"CHILD":function(type,what,argument,first,last){var simple=type.slice(0,3)!=="nth",forward=type.slice(-4)!=="last",ofType=what==="of-type";return first===1&&last===0?function(elem){return!!elem.parentNode;}:function(elem,context,xml){var cache,outerCache,node,diff,nodeIndex,start,dir=simple!==forward?"nextSibling":"previousSibling",parent=elem.parentNode,name=ofType&&elem.nodeName.toLowerCase(),useCache=!xml&&!ofType;if(parent){if(simple){while(dir){node=elem;while((node=node[dir])){if(ofType?node.nodeName.toLowerCase()===name:node.nodeType===1){return false;}}
start=dir=type==="only"&&!start&&"nextSibling";}
return true;}
start=[forward?parent.firstChild:parent.lastChild];if(forward&&useCache){outerCache=parent[expando]||(parent[expando]={});cache=outerCache[type]||[];nodeIndex=cache[0]===dirruns&&cache[1];diff=cache[0]===dirruns&&cache[2];node=nodeIndex&&parent.childNodes[nodeIndex];while((node=++nodeIndex&&node&&node[dir]||(diff=nodeIndex=0)||start.pop())){if(node.nodeType===1&&++diff&&node===elem){outerCache[type]=[dirruns,nodeIndex,diff];break;}}}else if(useCache&&(cache=(elem[expando]||(elem[expando]={}))[type])&&cache[0]===dirruns){diff=cache[1];}else{while((node=++nodeIndex&&node&&node[dir]||(diff=nodeIndex=0)||start.pop())){if((ofType?node.nodeName.toLowerCase()===name:node.nodeType===1)&&++diff){if(useCache){(node[expando]||(node[expando]={}))[type]=[dirruns,diff];}
if(node===elem){break;}}}}
diff-=last;return diff===first||(diff%first===0&&diff / first>=0);}};},"PSEUDO":function(pseudo,argument){var args,fn=Expr.pseudos[pseudo]||Expr.setFilters[pseudo.toLowerCase()]||Sizzle.error("unsupported pseudo: "+pseudo);if(fn[expando]){return fn(argument);}
if(fn.length>1){args=[pseudo,pseudo,"",argument];return Expr.setFilters.hasOwnProperty(pseudo.toLowerCase())?markFunction(function(seed,matches){var idx,matched=fn(seed,argument),i=matched.length;while(i--){idx=indexOf.call(seed,matched[i]);seed[idx]=!(matches[idx]=matched[i]);}}):function(elem){return fn(elem,0,args);};}
return fn;}},pseudos:{"not":markFunction(function(selector){var input=[],results=[],matcher=compile(selector.replace(rtrim,"$1"));return matcher[expando]?markFunction(function(seed,matches,context,xml){var elem,unmatched=matcher(seed,null,xml,[]),i=seed.length;while(i--){if((elem=unmatched[i])){seed[i]=!(matches[i]=elem);}}}):function(elem,context,xml){input[0]=elem;matcher(input,null,xml,results);return!results.pop();};}),"has":markFunction(function(selector){return function(elem){return Sizzle(selector,elem).length>0;};}),"contains":markFunction(function(text){return function(elem){return(elem.textContent||elem.innerText||getText(elem)).indexOf(text)>-1;};}),"lang":markFunction(function(lang){if(!ridentifier.test(lang||"")){Sizzle.error("unsupported lang: "+lang);}
lang=lang.replace(runescape,funescape).toLowerCase();return function(elem){var elemLang;do{if((elemLang=documentIsXML?elem.getAttribute("xml:lang")||elem.getAttribute("lang"):elem.lang)){elemLang=elemLang.toLowerCase();return elemLang===lang||elemLang.indexOf(lang+"-")===0;}}while((elem=elem.parentNode)&&elem.nodeType===1);return false;};}),"target":function(elem){var hash=window.location&&window.location.hash;return hash&&hash.slice(1)===elem.id;},"root":function(elem){return elem===docElem;},"focus":function(elem){return elem===document.activeElement&&(!document.hasFocus||document.hasFocus())&&!!(elem.type||elem.href||~elem.tabIndex);},"enabled":function(elem){return elem.disabled===false;},"disabled":function(elem){return elem.disabled===true;},"checked":function(elem){var nodeName=elem.nodeName.toLowerCase();return(nodeName==="input"&&!!elem.checked)||(nodeName==="option"&&!!elem.selected);},"selected":function(elem){if(elem.parentNode){elem.parentNode.selectedIndex;}
return elem.selected===true;},"empty":function(elem){for(elem=elem.firstChild;elem;elem=elem.nextSibling){if(elem.nodeName>"@"||elem.nodeType===3||elem.nodeType===4){return false;}}
return true;},"parent":function(elem){return!Expr.pseudos["empty"](elem);},"header":function(elem){return rheader.test(elem.nodeName);},"input":function(elem){return rinputs.test(elem.nodeName);},"button":function(elem){var name=elem.nodeName.toLowerCase();return name==="input"&&elem.type==="button"||name==="button";},"text":function(elem){var attr;return elem.nodeName.toLowerCase()==="input"&&elem.type==="text"&&((attr=elem.getAttribute("type"))==null||attr.toLowerCase()===elem.type);},"first":createPositionalPseudo(function(){return[0];}),"last":createPositionalPseudo(function(matchIndexes,length){return[length-1];}),"eq":createPositionalPseudo(function(matchIndexes,length,argument){return[argument<0?argument+length:argument];}),"even":createPositionalPseudo(function(matchIndexes,length){var i=0;for(;i<length;i+=2){matchIndexes.push(i);}
return matchIndexes;}),"odd":createPositionalPseudo(function(matchIndexes,length){var i=1;for(;i<length;i+=2){matchIndexes.push(i);}
return matchIndexes;}),"lt":createPositionalPseudo(function(matchIndexes,length,argument){var i=argument<0?argument+length:argument;for(;--i>=0;){matchIndexes.push(i);}
return matchIndexes;}),"gt":createPositionalPseudo(function(matchIndexes,length,argument){var i=argument<0?argument+length:argument;for(;++i<length;){matchIndexes.push(i);}
return matchIndexes;})}};for(i in{radio:true,checkbox:true,file:true,password:true,image:true}){Expr.pseudos[i]=createInputPseudo(i);}
for(i in{submit:true,reset:true}){Expr.pseudos[i]=createButtonPseudo(i);}
function tokenize(selector,parseOnly){var matched,match,tokens,type,soFar,groups,preFilters,cached=tokenCache[selector+" "];if(cached){return parseOnly?0:cached.slice(0);}
soFar=selector;groups=[];preFilters=Expr.preFilter;while(soFar){if(!matched||(match=rcomma.exec(soFar))){if(match){soFar=soFar.slice(match[0].length)||soFar;}
groups.push(tokens=[]);}
matched=false;if((match=rcombinators.exec(soFar))){matched=match.shift();tokens.push({value:matched,type:match[0].replace(rtrim," ")});soFar=soFar.slice(matched.length);}
for(type in Expr.filter){if((match=matchExpr[type].exec(soFar))&&(!preFilters[type]||(match=preFilters[type](match)))){matched=match.shift();tokens.push({value:matched,type:type,matches:match});soFar=soFar.slice(matched.length);}}
if(!matched){break;}}
return parseOnly?soFar.length:soFar?Sizzle.error(selector):tokenCache(selector,groups).slice(0);}
function toSelector(tokens){var i=0,len=tokens.length,selector="";for(;i<len;i++){selector+=tokens[i].value;}
return selector;}
function addCombinator(matcher,combinator,base){var dir=combinator.dir,checkNonElements=base&&dir==="parentNode",doneName=done++;return combinator.first?function(elem,context,xml){while((elem=elem[dir])){if(elem.nodeType===1||checkNonElements){return matcher(elem,context,xml);}}}:function(elem,context,xml){var data,cache,outerCache,dirkey=dirruns+" "+doneName;if(xml){while((elem=elem[dir])){if(elem.nodeType===1||checkNonElements){if(matcher(elem,context,xml)){return true;}}}}else{while((elem=elem[dir])){if(elem.nodeType===1||checkNonElements){outerCache=elem[expando]||(elem[expando]={});if((cache=outerCache[dir])&&cache[0]===dirkey){if((data=cache[1])===true||data===cachedruns){return data===true;}}else{cache=outerCache[dir]=[dirkey];cache[1]=matcher(elem,context,xml)||cachedruns;if(cache[1]===true){return true;}}}}}};}
function elementMatcher(matchers){return matchers.length>1?function(elem,context,xml){var i=matchers.length;while(i--){if(!matchers[i](elem,context,xml)){return false;}}
return true;}:matchers[0];}
function condense(unmatched,map,filter,context,xml){var elem,newUnmatched=[],i=0,len=unmatched.length,mapped=map!=null;for(;i<len;i++){if((elem=unmatched[i])){if(!filter||filter(elem,context,xml)){newUnmatched.push(elem);if(mapped){map.push(i);}}}}
return newUnmatched;}
function setMatcher(preFilter,selector,matcher,postFilter,postFinder,postSelector){if(postFilter&&!postFilter[expando]){postFilter=setMatcher(postFilter);}
if(postFinder&&!postFinder[expando]){postFinder=setMatcher(postFinder,postSelector);}
return markFunction(function(seed,results,context,xml){var temp,i,elem,preMap=[],postMap=[],preexisting=results.length,elems=seed||multipleContexts(selector||"*",context.nodeType?[context]:context,[]),matcherIn=preFilter&&(seed||!selector)?condense(elems,preMap,preFilter,context,xml):elems,matcherOut=matcher?postFinder||(seed?preFilter:preexisting||postFilter)?[]:results:matcherIn;if(matcher){matcher(matcherIn,matcherOut,context,xml);}
if(postFilter){temp=condense(matcherOut,postMap);postFilter(temp,[],context,xml);i=temp.length;while(i--){if((elem=temp[i])){matcherOut[postMap[i]]=!(matcherIn[postMap[i]]=elem);}}}
if(seed){if(postFinder||preFilter){if(postFinder){temp=[];i=matcherOut.length;while(i--){if((elem=matcherOut[i])){temp.push((matcherIn[i]=elem));}}
postFinder(null,(matcherOut=[]),temp,xml);}
i=matcherOut.length;while(i--){if((elem=matcherOut[i])&&(temp=postFinder?indexOf.call(seed,elem):preMap[i])>-1){seed[temp]=!(results[temp]=elem);}}}}else{matcherOut=condense(matcherOut===results?matcherOut.splice(preexisting,matcherOut.length):matcherOut);if(postFinder){postFinder(null,results,matcherOut,xml);}else{push.apply(results,matcherOut);}}});}
function matcherFromTokens(tokens){var checkContext,matcher,j,len=tokens.length,leadingRelative=Expr.relative[tokens[0].type],implicitRelative=leadingRelative||Expr.relative[" "],i=leadingRelative?1:0,matchContext=addCombinator(function(elem){return elem===checkContext;},implicitRelative,true),matchAnyContext=addCombinator(function(elem){return indexOf.call(checkContext,elem)>-1;},implicitRelative,true),matchers=[function(elem,context,xml){return(!leadingRelative&&(xml||context!==outermostContext))||((checkContext=context).nodeType?matchContext(elem,context,xml):matchAnyContext(elem,context,xml));}];for(;i<len;i++){if((matcher=Expr.relative[tokens[i].type])){matchers=[addCombinator(elementMatcher(matchers),matcher)];}else{matcher=Expr.filter[tokens[i].type].apply(null,tokens[i].matches);if(matcher[expando]){j=++i;for(;j<len;j++){if(Expr.relative[tokens[j].type]){break;}}
return setMatcher(i>1&&elementMatcher(matchers),i>1&&toSelector(tokens.slice(0,i-1)).replace(rtrim,"$1"),matcher,i<j&&matcherFromTokens(tokens.slice(i,j)),j<len&&matcherFromTokens((tokens=tokens.slice(j))),j<len&&toSelector(tokens));}
matchers.push(matcher);}}
return elementMatcher(matchers);}
function matcherFromGroupMatchers(elementMatchers,setMatchers){var matcherCachedRuns=0,bySet=setMatchers.length>0,byElement=elementMatchers.length>0,superMatcher=function(seed,context,xml,results,expandContext){var elem,j,matcher,setMatched=[],matchedCount=0,i="0",unmatched=seed&&[],outermost=expandContext!=null,contextBackup=outermostContext,elems=seed||byElement&&Expr.find["TAG"]("*",expandContext&&context.parentNode||context),dirrunsUnique=(dirruns+=contextBackup==null?1:Math.random()||0.1);if(outermost){outermostContext=context!==document&&context;cachedruns=matcherCachedRuns;}
for(;(elem=elems[i])!=null;i++){if(byElement&&elem){j=0;while((matcher=elementMatchers[j++])){if(matcher(elem,context,xml)){results.push(elem);break;}}
if(outermost){dirruns=dirrunsUnique;cachedruns=++matcherCachedRuns;}}
if(bySet){if((elem=!matcher&&elem)){matchedCount--;}
if(seed){unmatched.push(elem);}}}
matchedCount+=i;if(bySet&&i!==matchedCount){j=0;while((matcher=setMatchers[j++])){matcher(unmatched,setMatched,context,xml);}
if(seed){if(matchedCount>0){while(i--){if(!(unmatched[i]||setMatched[i])){setMatched[i]=pop.call(results);}}}
setMatched=condense(setMatched);}
push.apply(results,setMatched);if(outermost&&!seed&&setMatched.length>0&&(matchedCount+setMatchers.length)>1){Sizzle.uniqueSort(results);}}
if(outermost){dirruns=dirrunsUnique;outermostContext=contextBackup;}
return unmatched;};return bySet?markFunction(superMatcher):superMatcher;}
compile=Sizzle.compile=function(selector,group){var i,setMatchers=[],elementMatchers=[],cached=compilerCache[selector+" "];if(!cached){if(!group){group=tokenize(selector);}
i=group.length;while(i--){cached=matcherFromTokens(group[i]);if(cached[expando]){setMatchers.push(cached);}else{elementMatchers.push(cached);}}
cached=compilerCache(selector,matcherFromGroupMatchers(elementMatchers,setMatchers));}
return cached;};function multipleContexts(selector,contexts,results){var i=0,len=contexts.length;for(;i<len;i++){Sizzle(selector,contexts[i],results);}
return results;}
function select(selector,context,results,seed){var i,tokens,token,type,find,match=tokenize(selector);if(!seed){if(match.length===1){tokens=match[0]=match[0].slice(0);if(tokens.length>2&&(token=tokens[0]).type==="ID"&&context.nodeType===9&&!documentIsXML&&Expr.relative[tokens[1].type]){context=Expr.find["ID"](token.matches[0].replace(runescape,funescape),context)[0];if(!context){return results;}
selector=selector.slice(tokens.shift().value.length);}
i=matchExpr["needsContext"].test(selector)?0:tokens.length;while(i--){token=tokens[i];if(Expr.relative[(type=token.type)]){break;}
if((find=Expr.find[type])){if((seed=find(token.matches[0].replace(runescape,funescape),rsibling.test(tokens[0].type)&&context.parentNode||context))){tokens.splice(i,1);selector=seed.length&&toSelector(tokens);if(!selector){push.apply(results,slice.call(seed,0));return results;}
break;}}}}}
compile(selector,match)(seed,context,documentIsXML,results,rsibling.test(selector));return results;}
Expr.pseudos["nth"]=Expr.pseudos["eq"];function setFilters(){}
Expr.filters=setFilters.prototype=Expr.pseudos;Expr.setFilters=new setFilters();setDocument();Sizzle.attr=jQuery.attr;jQuery.find=Sizzle;jQuery.expr=Sizzle.selectors;jQuery.expr[":"]=jQuery.expr.pseudos;jQuery.unique=Sizzle.uniqueSort;jQuery.text=Sizzle.getText;jQuery.isXMLDoc=Sizzle.isXML;jQuery.contains=Sizzle.contains;})(window);var runtil=/Until$/,rparentsprev=/^(?:parents|prev(?:Until|All))/,isSimple=/^.[^:#\[\.,]*$/,rneedsContext=jQuery.expr.match.needsContext,guaranteedUnique={children:true,contents:true,next:true,prev:true};jQuery.fn.extend({find:function(selector){var i,ret,self,len=this.length;if(typeof selector!=="string"){self=this;return this.pushStack(jQuery(selector).filter(function(){for(i=0;i<len;i++){if(jQuery.contains(self[i],this)){return true;}}}));}
ret=[];for(i=0;i<len;i++){jQuery.find(selector,this[i],ret);}
ret=this.pushStack(len>1?jQuery.unique(ret):ret);ret.selector=(this.selector?this.selector+" ":"")+selector;return ret;},has:function(target){var i,targets=jQuery(target,this),len=targets.length;return this.filter(function(){for(i=0;i<len;i++){if(jQuery.contains(this,targets[i])){return true;}}});},not:function(selector){return this.pushStack(winnow(this,selector,false));},filter:function(selector){return this.pushStack(winnow(this,selector,true));},is:function(selector){return!!selector&&(typeof selector==="string"?rneedsContext.test(selector)?jQuery(selector,this.context).index(this[0])>=0:jQuery.filter(selector,this).length>0:this.filter(selector).length>0);},closest:function(selectors,context){var cur,i=0,l=this.length,ret=[],pos=rneedsContext.test(selectors)||typeof selectors!=="string"?jQuery(selectors,context||this.context):0;for(;i<l;i++){cur=this[i];while(cur&&cur.ownerDocument&&cur!==context&&cur.nodeType!==11){if(pos?pos.index(cur)>-1:jQuery.find.matchesSelector(cur,selectors)){ret.push(cur);break;}
cur=cur.parentNode;}}
return this.pushStack(ret.length>1?jQuery.unique(ret):ret);},index:function(elem){if(!elem){return(this[0]&&this[0].parentNode)?this.first().prevAll().length:-1;}
if(typeof elem==="string"){return jQuery.inArray(this[0],jQuery(elem));}
return jQuery.inArray(elem.jquery?elem[0]:elem,this);},add:function(selector,context){var set=typeof selector==="string"?jQuery(selector,context):jQuery.makeArray(selector&&selector.nodeType?[selector]:selector),all=jQuery.merge(this.get(),set);return this.pushStack(jQuery.unique(all));},addBack:function(selector){return this.add(selector==null?this.prevObject:this.prevObject.filter(selector));}});jQuery.fn.andSelf=jQuery.fn.addBack;function sibling(cur,dir){do{cur=cur[dir];}while(cur&&cur.nodeType!==1);return cur;}
jQuery.each({parent:function(elem){var parent=elem.parentNode;return parent&&parent.nodeType!==11?parent:null;},parents:function(elem){return jQuery.dir(elem,"parentNode");},parentsUntil:function(elem,i,until){return jQuery.dir(elem,"parentNode",until);},next:function(elem){return sibling(elem,"nextSibling");},prev:function(elem){return sibling(elem,"previousSibling");},nextAll:function(elem){return jQuery.dir(elem,"nextSibling");},prevAll:function(elem){return jQuery.dir(elem,"previousSibling");},nextUntil:function(elem,i,until){return jQuery.dir(elem,"nextSibling",until);},prevUntil:function(elem,i,until){return jQuery.dir(elem,"previousSibling",until);},siblings:function(elem){return jQuery.sibling((elem.parentNode||{}).firstChild,elem);},children:function(elem){return jQuery.sibling(elem.firstChild);},contents:function(elem){return jQuery.nodeName(elem,"iframe")?elem.contentDocument||elem.contentWindow.document:jQuery.merge([],elem.childNodes);}},function(name,fn){jQuery.fn[name]=function(until,selector){var ret=jQuery.map(this,fn,until);if(!runtil.test(name)){selector=until;}
if(selector&&typeof selector==="string"){ret=jQuery.filter(selector,ret);}
ret=this.length>1&&!guaranteedUnique[name]?jQuery.unique(ret):ret;if(this.length>1&&rparentsprev.test(name)){ret=ret.reverse();}
return this.pushStack(ret);};});jQuery.extend({filter:function(expr,elems,not){if(not){expr=":not("+expr+")";}
return elems.length===1?jQuery.find.matchesSelector(elems[0],expr)?[elems[0]]:[]:jQuery.find.matches(expr,elems);},dir:function(elem,dir,until){var matched=[],cur=elem[dir];while(cur&&cur.nodeType!==9&&(until===undefined||cur.nodeType!==1||!jQuery(cur).is(until))){if(cur.nodeType===1){matched.push(cur);}
cur=cur[dir];}
return matched;},sibling:function(n,elem){var r=[];for(;n;n=n.nextSibling){if(n.nodeType===1&&n!==elem){r.push(n);}}
return r;}});function winnow(elements,qualifier,keep){qualifier=qualifier||0;if(jQuery.isFunction(qualifier)){return jQuery.grep(elements,function(elem,i){var retVal=!!qualifier.call(elem,i,elem);return retVal===keep;});}else if(qualifier.nodeType){return jQuery.grep(elements,function(elem){return(elem===qualifier)===keep;});}else if(typeof qualifier==="string"){var filtered=jQuery.grep(elements,function(elem){return elem.nodeType===1;});if(isSimple.test(qualifier)){return jQuery.filter(qualifier,filtered,!keep);}else{qualifier=jQuery.filter(qualifier,filtered);}}
return jQuery.grep(elements,function(elem){return(jQuery.inArray(elem,qualifier)>=0)===keep;});}
function createSafeFragment(document){var list=nodeNames.split("|"),safeFrag=document.createDocumentFragment();if(safeFrag.createElement){while(list.length){safeFrag.createElement(list.pop());}}
return safeFrag;}
var nodeNames="abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|"+"header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",rinlinejQuery=/ jQuery\d+="(?:null|\d+)"/g,rnoshimcache=new RegExp("<(?:"+nodeNames+")[\\s/>]","i"),rleadingWhitespace=/^\s+/,rxhtmlTag=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,rtagName=/<([\w:]+)/,rtbody=/<tbody/i,rhtml=/<|&#?\w+;/,rnoInnerhtml=/<(?:script|style|link)/i,manipulation_rcheckableType=/^(?:checkbox|radio)$/i,rchecked=/checked\s*(?:[^=]|=\s*.checked.)/i,rscriptType=/^$|\/(?:java|ecma)script/i,rscriptTypeMasked=/^true\/(.*)/,rcleanScript=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,wrapMap={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],area:[1,"<map>","</map>"],param:[1,"<object>","</object>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:jQuery.support.htmlSerialize?[0,"",""]:[1,"X<div>","</div>"]},safeFragment=createSafeFragment(document),fragmentDiv=safeFragment.appendChild(document.createElement("div"));wrapMap.optgroup=wrapMap.option;wrapMap.tbody=wrapMap.tfoot=wrapMap.colgroup=wrapMap.caption=wrapMap.thead;wrapMap.th=wrapMap.td;jQuery.fn.extend({text:function(value){return jQuery.access(this,function(value){return value===undefined?jQuery.text(this):this.empty().append((this[0]&&this[0].ownerDocument||document).createTextNode(value));},null,value,arguments.length);},wrapAll:function(html){if(jQuery.isFunction(html)){return this.each(function(i){jQuery(this).wrapAll(html.call(this,i));});}
if(this[0]){var wrap=jQuery(html,this[0].ownerDocument).eq(0).clone(true);if(this[0].parentNode){wrap.insertBefore(this[0]);}
wrap.map(function(){var elem=this;while(elem.firstChild&&elem.firstChild.nodeType===1){elem=elem.firstChild;}
return elem;}).append(this);}
return this;},wrapInner:function(html){if(jQuery.isFunction(html)){return this.each(function(i){jQuery(this).wrapInner(html.call(this,i));});}
return this.each(function(){var self=jQuery(this),contents=self.contents();if(contents.length){contents.wrapAll(html);}else{self.append(html);}});},wrap:function(html){var isFunction=jQuery.isFunction(html);return this.each(function(i){jQuery(this).wrapAll(isFunction?html.call(this,i):html);});},unwrap:function(){return this.parent().each(function(){if(!jQuery.nodeName(this,"body")){jQuery(this).replaceWith(this.childNodes);}}).end();},append:function(){return this.domManip(arguments,true,function(elem){if(this.nodeType===1||this.nodeType===11||this.nodeType===9){this.appendChild(elem);}});},prepend:function(){return this.domManip(arguments,true,function(elem){if(this.nodeType===1||this.nodeType===11||this.nodeType===9){this.insertBefore(elem,this.firstChild);}});},before:function(){return this.domManip(arguments,false,function(elem){if(this.parentNode){this.parentNode.insertBefore(elem,this);}});},after:function(){return this.domManip(arguments,false,function(elem){if(this.parentNode){this.parentNode.insertBefore(elem,this.nextSibling);}});},remove:function(selector,keepData){var elem,i=0;for(;(elem=this[i])!=null;i++){if(!selector||jQuery.filter(selector,[elem]).length>0){if(!keepData&&elem.nodeType===1){jQuery.cleanData(getAll(elem));}
if(elem.parentNode){if(keepData&&jQuery.contains(elem.ownerDocument,elem)){setGlobalEval(getAll(elem,"script"));}
elem.parentNode.removeChild(elem);}}}
return this;},empty:function(){var elem,i=0;for(;(elem=this[i])!=null;i++){if(elem.nodeType===1){jQuery.cleanData(getAll(elem,false));}
while(elem.firstChild){elem.removeChild(elem.firstChild);}
if(elem.options&&jQuery.nodeName(elem,"select")){elem.options.length=0;}}
return this;},clone:function(dataAndEvents,deepDataAndEvents){dataAndEvents=dataAndEvents==null?false:dataAndEvents;deepDataAndEvents=deepDataAndEvents==null?dataAndEvents:deepDataAndEvents;return this.map(function(){return jQuery.clone(this,dataAndEvents,deepDataAndEvents);});},html:function(value){return jQuery.access(this,function(value){var elem=this[0]||{},i=0,l=this.length;if(value===undefined){return elem.nodeType===1?elem.innerHTML.replace(rinlinejQuery,""):undefined;}
if(typeof value==="string"&&!rnoInnerhtml.test(value)&&(jQuery.support.htmlSerialize||!rnoshimcache.test(value))&&(jQuery.support.leadingWhitespace||!rleadingWhitespace.test(value))&&!wrapMap[(rtagName.exec(value)||["",""])[1].toLowerCase()]){value=value.replace(rxhtmlTag,"<$1></$2>");try{for(;i<l;i++){elem=this[i]||{};if(elem.nodeType===1){jQuery.cleanData(getAll(elem,false));elem.innerHTML=value;}}
elem=0;}catch(e){}}
if(elem){this.empty().append(value);}},null,value,arguments.length);},replaceWith:function(value){var isFunc=jQuery.isFunction(value);if(!isFunc&&typeof value!=="string"){value=jQuery(value).not(this).detach();}
return this.domManip([value],true,function(elem){var next=this.nextSibling,parent=this.parentNode;if(parent){jQuery(this).remove();parent.insertBefore(elem,next);}});},detach:function(selector){return this.remove(selector,true);},domManip:function(args,table,callback){args=core_concat.apply([],args);var first,node,hasScripts,scripts,doc,fragment,i=0,l=this.length,set=this,iNoClone=l-1,value=args[0],isFunction=jQuery.isFunction(value);if(isFunction||!(l<=1||typeof value!=="string"||jQuery.support.checkClone||!rchecked.test(value))){return this.each(function(index){var self=set.eq(index);if(isFunction){args[0]=value.call(this,index,table?self.html():undefined);}
self.domManip(args,table,callback);});}
if(l){fragment=jQuery.buildFragment(args,this[0].ownerDocument,false,this);first=fragment.firstChild;if(fragment.childNodes.length===1){fragment=first;}
if(first){table=table&&jQuery.nodeName(first,"tr");scripts=jQuery.map(getAll(fragment,"script"),disableScript);hasScripts=scripts.length;for(;i<l;i++){node=fragment;if(i!==iNoClone){node=jQuery.clone(node,true,true);if(hasScripts){jQuery.merge(scripts,getAll(node,"script"));}}
callback.call(table&&jQuery.nodeName(this[i],"table")?findOrAppend(this[i],"tbody"):this[i],node,i);}
if(hasScripts){doc=scripts[scripts.length-1].ownerDocument;jQuery.map(scripts,restoreScript);for(i=0;i<hasScripts;i++){node=scripts[i];if(rscriptType.test(node.type||"")&&!jQuery._data(node,"globalEval")&&jQuery.contains(doc,node)){if(node.src){jQuery.ajax({url:node.src,type:"GET",dataType:"script",async:false,global:false,"throws":true});}else{jQuery.globalEval((node.text||node.textContent||node.innerHTML||"").replace(rcleanScript,""));}}}}
fragment=first=null;}}
return this;}});function findOrAppend(elem,tag){return elem.getElementsByTagName(tag)[0]||elem.appendChild(elem.ownerDocument.createElement(tag));}
function disableScript(elem){var attr=elem.getAttributeNode("type");elem.type=(attr&&attr.specified)+"/"+elem.type;return elem;}
function restoreScript(elem){var match=rscriptTypeMasked.exec(elem.type);if(match){elem.type=match[1];}else{elem.removeAttribute("type");}
return elem;}
function setGlobalEval(elems,refElements){var elem,i=0;for(;(elem=elems[i])!=null;i++){jQuery._data(elem,"globalEval",!refElements||jQuery._data(refElements[i],"globalEval"));}}
function cloneCopyEvent(src,dest){if(dest.nodeType!==1||!jQuery.hasData(src)){return;}
var type,i,l,oldData=jQuery._data(src),curData=jQuery._data(dest,oldData),events=oldData.events;if(events){delete curData.handle;curData.events={};for(type in events){for(i=0,l=events[type].length;i<l;i++){jQuery.event.add(dest,type,events[type][i]);}}}
if(curData.data){curData.data=jQuery.extend({},curData.data);}}
function fixCloneNodeIssues(src,dest){var nodeName,e,data;if(dest.nodeType!==1){return;}
nodeName=dest.nodeName.toLowerCase();if(!jQuery.support.noCloneEvent&&dest[jQuery.expando]){data=jQuery._data(dest);for(e in data.events){jQuery.removeEvent(dest,e,data.handle);}
dest.removeAttribute(jQuery.expando);}
if(nodeName==="script"&&dest.text!==src.text){disableScript(dest).text=src.text;restoreScript(dest);}else if(nodeName==="object"){if(dest.parentNode){dest.outerHTML=src.outerHTML;}
if(jQuery.support.html5Clone&&(src.innerHTML&&!jQuery.trim(dest.innerHTML))){dest.innerHTML=src.innerHTML;}}else if(nodeName==="input"&&manipulation_rcheckableType.test(src.type)){dest.defaultChecked=dest.checked=src.checked;if(dest.value!==src.value){dest.value=src.value;}}else if(nodeName==="option"){dest.defaultSelected=dest.selected=src.defaultSelected;}else if(nodeName==="input"||nodeName==="textarea"){dest.defaultValue=src.defaultValue;}}
jQuery.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(name,original){jQuery.fn[name]=function(selector){var elems,i=0,ret=[],insert=jQuery(selector),last=insert.length-1;for(;i<=last;i++){elems=i===last?this:this.clone(true);jQuery(insert[i])[original](elems);core_push.apply(ret,elems.get());}
return this.pushStack(ret);};});function getAll(context,tag){var elems,elem,i=0,found=typeof context.getElementsByTagName!==core_strundefined?context.getElementsByTagName(tag||"*"):typeof context.querySelectorAll!==core_strundefined?context.querySelectorAll(tag||"*"):undefined;if(!found){for(found=[],elems=context.childNodes||context;(elem=elems[i])!=null;i++){if(!tag||jQuery.nodeName(elem,tag)){found.push(elem);}else{jQuery.merge(found,getAll(elem,tag));}}}
return tag===undefined||tag&&jQuery.nodeName(context,tag)?jQuery.merge([context],found):found;}
function fixDefaultChecked(elem){if(manipulation_rcheckableType.test(elem.type)){elem.defaultChecked=elem.checked;}}
jQuery.extend({clone:function(elem,dataAndEvents,deepDataAndEvents){var destElements,node,clone,i,srcElements,inPage=jQuery.contains(elem.ownerDocument,elem);if(jQuery.support.html5Clone||jQuery.isXMLDoc(elem)||!rnoshimcache.test("<"+elem.nodeName+">")){clone=elem.cloneNode(true);}else{fragmentDiv.innerHTML=elem.outerHTML;fragmentDiv.removeChild(clone=fragmentDiv.firstChild);}
if((!jQuery.support.noCloneEvent||!jQuery.support.noCloneChecked)&&(elem.nodeType===1||elem.nodeType===11)&&!jQuery.isXMLDoc(elem)){destElements=getAll(clone);srcElements=getAll(elem);for(i=0;(node=srcElements[i])!=null;++i){if(destElements[i]){fixCloneNodeIssues(node,destElements[i]);}}}
if(dataAndEvents){if(deepDataAndEvents){srcElements=srcElements||getAll(elem);destElements=destElements||getAll(clone);for(i=0;(node=srcElements[i])!=null;i++){cloneCopyEvent(node,destElements[i]);}}else{cloneCopyEvent(elem,clone);}}
destElements=getAll(clone,"script");if(destElements.length>0){setGlobalEval(destElements,!inPage&&getAll(elem,"script"));}
destElements=srcElements=node=null;return clone;},buildFragment:function(elems,context,scripts,selection){var j,elem,contains,tmp,tag,tbody,wrap,l=elems.length,safe=createSafeFragment(context),nodes=[],i=0;for(;i<l;i++){elem=elems[i];if(elem||elem===0){if(jQuery.type(elem)==="object"){jQuery.merge(nodes,elem.nodeType?[elem]:elem);}else if(!rhtml.test(elem)){nodes.push(context.createTextNode(elem));}else{tmp=tmp||safe.appendChild(context.createElement("div"));tag=(rtagName.exec(elem)||["",""])[1].toLowerCase();wrap=wrapMap[tag]||wrapMap._default;tmp.innerHTML=wrap[1]+elem.replace(rxhtmlTag,"<$1></$2>")+wrap[2];j=wrap[0];while(j--){tmp=tmp.lastChild;}
if(!jQuery.support.leadingWhitespace&&rleadingWhitespace.test(elem)){nodes.push(context.createTextNode(rleadingWhitespace.exec(elem)[0]));}
if(!jQuery.support.tbody){elem=tag==="table"&&!rtbody.test(elem)?tmp.firstChild:wrap[1]==="<table>"&&!rtbody.test(elem)?tmp:0;j=elem&&elem.childNodes.length;while(j--){if(jQuery.nodeName((tbody=elem.childNodes[j]),"tbody")&&!tbody.childNodes.length){elem.removeChild(tbody);}}}
jQuery.merge(nodes,tmp.childNodes);tmp.textContent="";while(tmp.firstChild){tmp.removeChild(tmp.firstChild);}
tmp=safe.lastChild;}}}
if(tmp){safe.removeChild(tmp);}
if(!jQuery.support.appendChecked){jQuery.grep(getAll(nodes,"input"),fixDefaultChecked);}
i=0;while((elem=nodes[i++])){if(selection&&jQuery.inArray(elem,selection)!==-1){continue;}
contains=jQuery.contains(elem.ownerDocument,elem);tmp=getAll(safe.appendChild(elem),"script");if(contains){setGlobalEval(tmp);}
if(scripts){j=0;while((elem=tmp[j++])){if(rscriptType.test(elem.type||"")){scripts.push(elem);}}}}
tmp=null;return safe;},cleanData:function(elems,acceptData){var elem,type,id,data,i=0,internalKey=jQuery.expando,cache=jQuery.cache,deleteExpando=jQuery.support.deleteExpando,special=jQuery.event.special;for(;(elem=elems[i])!=null;i++){if(acceptData||jQuery.acceptData(elem)){id=elem[internalKey];data=id&&cache[id];if(data){if(data.events){for(type in data.events){if(special[type]){jQuery.event.remove(elem,type);}else{jQuery.removeEvent(elem,type,data.handle);}}}
if(cache[id]){delete cache[id];if(deleteExpando){delete elem[internalKey];}else if(typeof elem.removeAttribute!==core_strundefined){elem.removeAttribute(internalKey);}else{elem[internalKey]=null;}
core_deletedIds.push(id);}}}}}});var iframe,getStyles,curCSS,ralpha=/alpha\([^)]*\)/i,ropacity=/opacity\s*=\s*([^)]*)/,rposition=/^(top|right|bottom|left)$/,rdisplayswap=/^(none|table(?!-c[ea]).+)/,rmargin=/^margin/,rnumsplit=new RegExp("^("+core_pnum+")(.*)$","i"),rnumnonpx=new RegExp("^("+core_pnum+")(?!px)[a-z%]+$","i"),rrelNum=new RegExp("^([+-])=("+core_pnum+")","i"),elemdisplay={BODY:"block"},cssShow={position:"absolute",visibility:"hidden",display:"block"},cssNormalTransform={letterSpacing:0,fontWeight:400},cssExpand=["Top","Right","Bottom","Left"],cssPrefixes=["Webkit","O","Moz","ms"];function vendorPropName(style,name){if(name in style){return name;}
var capName=name.charAt(0).toUpperCase()+name.slice(1),origName=name,i=cssPrefixes.length;while(i--){name=cssPrefixes[i]+capName;if(name in style){return name;}}
return origName;}
function isHidden(elem,el){elem=el||elem;return jQuery.css(elem,"display")==="none"||!jQuery.contains(elem.ownerDocument,elem);}
function showHide(elements,show){var display,elem,hidden,values=[],index=0,length=elements.length;for(;index<length;index++){elem=elements[index];if(!elem.style){continue;}
values[index]=jQuery._data(elem,"olddisplay");display=elem.style.display;if(show){if(!values[index]&&display==="none"){elem.style.display="";}
if(elem.style.display===""&&isHidden(elem)){values[index]=jQuery._data(elem,"olddisplay",css_defaultDisplay(elem.nodeName));}}else{if(!values[index]){hidden=isHidden(elem);if(display&&display!=="none"||!hidden){jQuery._data(elem,"olddisplay",hidden?display:jQuery.css(elem,"display"));}}}}
for(index=0;index<length;index++){elem=elements[index];if(!elem.style){continue;}
if(!show||elem.style.display==="none"||elem.style.display===""){elem.style.display=show?values[index]||"":"none";}}
return elements;}
jQuery.fn.extend({css:function(name,value){return jQuery.access(this,function(elem,name,value){var len,styles,map={},i=0;if(jQuery.isArray(name)){styles=getStyles(elem);len=name.length;for(;i<len;i++){map[name[i]]=jQuery.css(elem,name[i],false,styles);}
return map;}
return value!==undefined?jQuery.style(elem,name,value):jQuery.css(elem,name);},name,value,arguments.length>1);},show:function(){return showHide(this,true);},hide:function(){return showHide(this);},toggle:function(state){var bool=typeof state==="boolean";return this.each(function(){if(bool?state:isHidden(this)){jQuery(this).show();}else{jQuery(this).hide();}});}});jQuery.extend({cssHooks:{opacity:{get:function(elem,computed){if(computed){var ret=curCSS(elem,"opacity");return ret===""?"1":ret;}}}},cssNumber:{"columnCount":true,"fillOpacity":true,"fontWeight":true,"lineHeight":true,"opacity":true,"orphans":true,"widows":true,"zIndex":true,"zoom":true},cssProps:{"float":jQuery.support.cssFloat?"cssFloat":"styleFloat"},style:function(elem,name,value,extra){if(!elem||elem.nodeType===3||elem.nodeType===8||!elem.style){return;}
var ret,type,hooks,origName=jQuery.camelCase(name),style=elem.style;name=jQuery.cssProps[origName]||(jQuery.cssProps[origName]=vendorPropName(style,origName));hooks=jQuery.cssHooks[name]||jQuery.cssHooks[origName];if(value!==undefined){type=typeof value;if(type==="string"&&(ret=rrelNum.exec(value))){value=(ret[1]+1)*ret[2]+parseFloat(jQuery.css(elem,name));type="number";}
if(value==null||type==="number"&&isNaN(value)){return;}
if(type==="number"&&!jQuery.cssNumber[origName]){value+="px";}
if(!jQuery.support.clearCloneStyle&&value===""&&name.indexOf("background")===0){style[name]="inherit";}
if(!hooks||!("set"in hooks)||(value=hooks.set(elem,value,extra))!==undefined){try{style[name]=value;}catch(e){}}}else{if(hooks&&"get"in hooks&&(ret=hooks.get(elem,false,extra))!==undefined){return ret;}
return style[name];}},css:function(elem,name,extra,styles){var num,val,hooks,origName=jQuery.camelCase(name);name=jQuery.cssProps[origName]||(jQuery.cssProps[origName]=vendorPropName(elem.style,origName));hooks=jQuery.cssHooks[name]||jQuery.cssHooks[origName];if(hooks&&"get"in hooks){val=hooks.get(elem,true,extra);}
if(val===undefined){val=curCSS(elem,name,styles);}
if(val==="normal"&&name in cssNormalTransform){val=cssNormalTransform[name];}
if(extra===""||extra){num=parseFloat(val);return extra===true||jQuery.isNumeric(num)?num||0:val;}
return val;},swap:function(elem,options,callback,args){var ret,name,old={};for(name in options){old[name]=elem.style[name];elem.style[name]=options[name];}
ret=callback.apply(elem,args||[]);for(name in options){elem.style[name]=old[name];}
return ret;}});if(window.getComputedStyle){getStyles=function(elem){return window.getComputedStyle(elem,null);};curCSS=function(elem,name,_computed){var width,minWidth,maxWidth,computed=_computed||getStyles(elem),ret=computed?computed.getPropertyValue(name)||computed[name]:undefined,style=elem.style;if(computed){if(ret===""&&!jQuery.contains(elem.ownerDocument,elem)){ret=jQuery.style(elem,name);}
if(rnumnonpx.test(ret)&&rmargin.test(name)){width=style.width;minWidth=style.minWidth;maxWidth=style.maxWidth;style.minWidth=style.maxWidth=style.width=ret;ret=computed.width;style.width=width;style.minWidth=minWidth;style.maxWidth=maxWidth;}}
return ret;};}else if(document.documentElement.currentStyle){getStyles=function(elem){return elem.currentStyle;};curCSS=function(elem,name,_computed){var left,rs,rsLeft,computed=_computed||getStyles(elem),ret=computed?computed[name]:undefined,style=elem.style;if(ret==null&&style&&style[name]){ret=style[name];}
if(rnumnonpx.test(ret)&&!rposition.test(name)){left=style.left;rs=elem.runtimeStyle;rsLeft=rs&&rs.left;if(rsLeft){rs.left=elem.currentStyle.left;}
style.left=name==="fontSize"?"1em":ret;ret=style.pixelLeft+"px";style.left=left;if(rsLeft){rs.left=rsLeft;}}
return ret===""?"auto":ret;};}
function setPositiveNumber(elem,value,subtract){var matches=rnumsplit.exec(value);return matches?Math.max(0,matches[1]-(subtract||0))+(matches[2]||"px"):value;}
function augmentWidthOrHeight(elem,name,extra,isBorderBox,styles){var i=extra===(isBorderBox?"border":"content")?4:name==="width"?1:0,val=0;for(;i<4;i+=2){if(extra==="margin"){val+=jQuery.css(elem,extra+cssExpand[i],true,styles);}
if(isBorderBox){if(extra==="content"){val-=jQuery.css(elem,"padding"+cssExpand[i],true,styles);}
if(extra!=="margin"){val-=jQuery.css(elem,"border"+cssExpand[i]+"Width",true,styles);}}else{val+=jQuery.css(elem,"padding"+cssExpand[i],true,styles);if(extra!=="padding"){val+=jQuery.css(elem,"border"+cssExpand[i]+"Width",true,styles);}}}
return val;}
function getWidthOrHeight(elem,name,extra){var valueIsBorderBox=true,val=name==="width"?elem.offsetWidth:elem.offsetHeight,styles=getStyles(elem),isBorderBox=jQuery.support.boxSizing&&jQuery.css(elem,"boxSizing",false,styles)==="border-box";if(val<=0||val==null){val=curCSS(elem,name,styles);if(val<0||val==null){val=elem.style[name];}
if(rnumnonpx.test(val)){return val;}
valueIsBorderBox=isBorderBox&&(jQuery.support.boxSizingReliable||val===elem.style[name]);val=parseFloat(val)||0;}
return(val+
augmentWidthOrHeight(elem,name,extra||(isBorderBox?"border":"content"),valueIsBorderBox,styles))+"px";}
function css_defaultDisplay(nodeName){var doc=document,display=elemdisplay[nodeName];if(!display){display=actualDisplay(nodeName,doc);if(display==="none"||!display){iframe=(iframe||jQuery("<iframe frameborder='0' width='0' height='0'/>").css("cssText","display:block !important")).appendTo(doc.documentElement);doc=(iframe[0].contentWindow||iframe[0].contentDocument).document;doc.write("<!doctype html><html><body>");doc.close();display=actualDisplay(nodeName,doc);iframe.detach();}
elemdisplay[nodeName]=display;}
return display;}
function actualDisplay(name,doc){var elem=jQuery(doc.createElement(name)).appendTo(doc.body),display=jQuery.css(elem[0],"display");elem.remove();return display;}
jQuery.each(["height","width"],function(i,name){jQuery.cssHooks[name]={get:function(elem,computed,extra){if(computed){return elem.offsetWidth===0&&rdisplayswap.test(jQuery.css(elem,"display"))?jQuery.swap(elem,cssShow,function(){return getWidthOrHeight(elem,name,extra);}):getWidthOrHeight(elem,name,extra);}},set:function(elem,value,extra){var styles=extra&&getStyles(elem);return setPositiveNumber(elem,value,extra?augmentWidthOrHeight(elem,name,extra,jQuery.support.boxSizing&&jQuery.css(elem,"boxSizing",false,styles)==="border-box",styles):0);}};});if(!jQuery.support.opacity){jQuery.cssHooks.opacity={get:function(elem,computed){return ropacity.test((computed&&elem.currentStyle?elem.currentStyle.filter:elem.style.filter)||"")?(0.01*parseFloat(RegExp.$1))+"":computed?"1":"";},set:function(elem,value){var style=elem.style,currentStyle=elem.currentStyle,opacity=jQuery.isNumeric(value)?"alpha(opacity="+value*100+")":"",filter=currentStyle&&currentStyle.filter||style.filter||"";style.zoom=1;if((value>=1||value==="")&&jQuery.trim(filter.replace(ralpha,""))===""&&style.removeAttribute){style.removeAttribute("filter");if(value===""||currentStyle&&!currentStyle.filter){return;}}
style.filter=ralpha.test(filter)?filter.replace(ralpha,opacity):filter+" "+opacity;}};}
jQuery(function(){if(!jQuery.support.reliableMarginRight){jQuery.cssHooks.marginRight={get:function(elem,computed){if(computed){return jQuery.swap(elem,{"display":"inline-block"},curCSS,[elem,"marginRight"]);}}};}
if(!jQuery.support.pixelPosition&&jQuery.fn.position){jQuery.each(["top","left"],function(i,prop){jQuery.cssHooks[prop]={get:function(elem,computed){if(computed){computed=curCSS(elem,prop);return rnumnonpx.test(computed)?jQuery(elem).position()[prop]+"px":computed;}}};});}});if(jQuery.expr&&jQuery.expr.filters){jQuery.expr.filters.hidden=function(elem){return elem.offsetWidth<=0&&elem.offsetHeight<=0||(!jQuery.support.reliableHiddenOffsets&&((elem.style&&elem.style.display)||jQuery.css(elem,"display"))==="none");};jQuery.expr.filters.visible=function(elem){return!jQuery.expr.filters.hidden(elem);};}
jQuery.each({margin:"",padding:"",border:"Width"},function(prefix,suffix){jQuery.cssHooks[prefix+suffix]={expand:function(value){var i=0,expanded={},parts=typeof value==="string"?value.split(" "):[value];for(;i<4;i++){expanded[prefix+cssExpand[i]+suffix]=parts[i]||parts[i-2]||parts[0];}
return expanded;}};if(!rmargin.test(prefix)){jQuery.cssHooks[prefix+suffix].set=setPositiveNumber;}});var r20=/%20/g,rbracket=/\[\]$/,rCRLF=/\r?\n/g,rsubmitterTypes=/^(?:submit|button|image|reset|file)$/i,rsubmittable=/^(?:input|select|textarea|keygen)/i;jQuery.fn.extend({serialize:function(){return jQuery.param(this.serializeArray());},serializeArray:function(){return this.map(function(){var elements=jQuery.prop(this,"elements");return elements?jQuery.makeArray(elements):this;}).filter(function(){var type=this.type;return this.name&&!jQuery(this).is(":disabled")&&rsubmittable.test(this.nodeName)&&!rsubmitterTypes.test(type)&&(this.checked||!manipulation_rcheckableType.test(type));}).map(function(i,elem){var val=jQuery(this).val();return val==null?null:jQuery.isArray(val)?jQuery.map(val,function(val){return{name:elem.name,value:val.replace(rCRLF,"\r\n")};}):{name:elem.name,value:val.replace(rCRLF,"\r\n")};}).get();}});jQuery.param=function(a,traditional){var prefix,s=[],add=function(key,value){value=jQuery.isFunction(value)?value():(value==null?"":value);s[s.length]=encodeURIComponent(key)+"="+encodeURIComponent(value);};if(traditional===undefined){traditional=jQuery.ajaxSettings&&jQuery.ajaxSettings.traditional;}
if(jQuery.isArray(a)||(a.jquery&&!jQuery.isPlainObject(a))){jQuery.each(a,function(){add(this.name,this.value);});}else{for(prefix in a){buildParams(prefix,a[prefix],traditional,add);}}
return s.join("&").replace(r20,"+");};function buildParams(prefix,obj,traditional,add){var name;if(jQuery.isArray(obj)){jQuery.each(obj,function(i,v){if(traditional||rbracket.test(prefix)){add(prefix,v);}else{buildParams(prefix+"["+(typeof v==="object"?i:"")+"]",v,traditional,add);}});}else if(!traditional&&jQuery.type(obj)==="object"){for(name in obj){buildParams(prefix+"["+name+"]",obj[name],traditional,add);}}else{add(prefix,obj);}}
jQuery.each(("blur focus focusin focusout load resize scroll unload click dblclick "+"mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave "+"change select submit keydown keypress keyup error contextmenu").split(" "),function(i,name){jQuery.fn[name]=function(data,fn){return arguments.length>0?this.on(name,null,data,fn):this.trigger(name);};});jQuery.fn.hover=function(fnOver,fnOut){return this.mouseenter(fnOver).mouseleave(fnOut||fnOver);};var
ajaxLocParts,ajaxLocation,ajax_nonce=jQuery.now(),ajax_rquery=/\?/,rhash=/#.*$/,rts=/([?&])_=[^&]*/,rheaders=/^(.*?):[ \t]*([^\r\n]*)\r?$/mg,rlocalProtocol=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,rnoContent=/^(?:GET|HEAD)$/,rprotocol=/^\/\//,rurl=/^([\w.+-]+:)(?:\/\/([^\/?#:]*)(?::(\d+)|)|)/,_load=jQuery.fn.load,prefilters={},transports={},allTypes="*/".concat("*");try{ajaxLocation=location.href;}catch(e){ajaxLocation=document.createElement("a");ajaxLocation.href="";ajaxLocation=ajaxLocation.href;}
ajaxLocParts=rurl.exec(ajaxLocation.toLowerCase())||[];function addToPrefiltersOrTransports(structure){return function(dataTypeExpression,func){if(typeof dataTypeExpression!=="string"){func=dataTypeExpression;dataTypeExpression="*";}
var dataType,i=0,dataTypes=dataTypeExpression.toLowerCase().match(core_rnotwhite)||[];if(jQuery.isFunction(func)){while((dataType=dataTypes[i++])){if(dataType[0]==="+"){dataType=dataType.slice(1)||"*";(structure[dataType]=structure[dataType]||[]).unshift(func);}else{(structure[dataType]=structure[dataType]||[]).push(func);}}}};}
function inspectPrefiltersOrTransports(structure,options,originalOptions,jqXHR){var inspected={},seekingTransport=(structure===transports);function inspect(dataType){var selected;inspected[dataType]=true;jQuery.each(structure[dataType]||[],function(_,prefilterOrFactory){var dataTypeOrTransport=prefilterOrFactory(options,originalOptions,jqXHR);if(typeof dataTypeOrTransport==="string"&&!seekingTransport&&!inspected[dataTypeOrTransport]){options.dataTypes.unshift(dataTypeOrTransport);inspect(dataTypeOrTransport);return false;}else if(seekingTransport){return!(selected=dataTypeOrTransport);}});return selected;}
return inspect(options.dataTypes[0])||!inspected["*"]&&inspect("*");}
function ajaxExtend(target,src){var deep,key,flatOptions=jQuery.ajaxSettings.flatOptions||{};for(key in src){if(src[key]!==undefined){(flatOptions[key]?target:(deep||(deep={})))[key]=src[key];}}
if(deep){jQuery.extend(true,target,deep);}
return target;}
jQuery.fn.load=function(url,params,callback){if(typeof url!=="string"&&_load){return _load.apply(this,arguments);}
var selector,response,type,self=this,off=url.indexOf(" ");if(off>=0){selector=url.slice(off,url.length);url=url.slice(0,off);}
if(jQuery.isFunction(params)){callback=params;params=undefined;}else if(params&&typeof params==="object"){type="POST";}
if(self.length>0){jQuery.ajax({url:url,type:type,dataType:"html",data:params}).done(function(responseText){response=arguments;self.html(selector?jQuery("<div>").append(jQuery.parseHTML(responseText)).find(selector):responseText);}).complete(callback&&function(jqXHR,status){self.each(callback,response||[jqXHR.responseText,status,jqXHR]);});}
return this;};jQuery.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(i,type){jQuery.fn[type]=function(fn){return this.on(type,fn);};});jQuery.each(["get","post"],function(i,method){jQuery[method]=function(url,data,callback,type){if(jQuery.isFunction(data)){type=type||callback;callback=data;data=undefined;}
return jQuery.ajax({url:url,type:method,dataType:type,data:data,success:callback});};});jQuery.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:ajaxLocation,type:"GET",isLocal:rlocalProtocol.test(ajaxLocParts[1]),global:true,processData:true,async:true,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":allTypes,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText"},converters:{"* text":window.String,"text html":true,"text json":jQuery.parseJSON,"text xml":jQuery.parseXML},flatOptions:{url:true,context:true}},ajaxSetup:function(target,settings){return settings?ajaxExtend(ajaxExtend(target,jQuery.ajaxSettings),settings):ajaxExtend(jQuery.ajaxSettings,target);},ajaxPrefilter:addToPrefiltersOrTransports(prefilters),ajaxTransport:addToPrefiltersOrTransports(transports),ajax:function(url,options){if(typeof url==="object"){options=url;url=undefined;}
options=options||{};var
parts,i,cacheURL,responseHeadersString,timeoutTimer,fireGlobals,transport,responseHeaders,s=jQuery.ajaxSetup({},options),callbackContext=s.context||s,globalEventContext=s.context&&(callbackContext.nodeType||callbackContext.jquery)?jQuery(callbackContext):jQuery.event,deferred=jQuery.Deferred(),completeDeferred=jQuery.Callbacks("once memory"),statusCode=s.statusCode||{},requestHeaders={},requestHeadersNames={},state=0,strAbort="canceled",jqXHR={readyState:0,getResponseHeader:function(key){var match;if(state===2){if(!responseHeaders){responseHeaders={};while((match=rheaders.exec(responseHeadersString))){responseHeaders[match[1].toLowerCase()]=match[2];}}
match=responseHeaders[key.toLowerCase()];}
return match==null?null:match;},getAllResponseHeaders:function(){return state===2?responseHeadersString:null;},setRequestHeader:function(name,value){var lname=name.toLowerCase();if(!state){name=requestHeadersNames[lname]=requestHeadersNames[lname]||name;requestHeaders[name]=value;}
return this;},overrideMimeType:function(type){if(!state){s.mimeType=type;}
return this;},statusCode:function(map){var code;if(map){if(state<2){for(code in map){statusCode[code]=[statusCode[code],map[code]];}}else{jqXHR.always(map[jqXHR.status]);}}
return this;},abort:function(statusText){var finalText=statusText||strAbort;if(transport){transport.abort(finalText);}
done(0,finalText);return this;}};deferred.promise(jqXHR).complete=completeDeferred.add;jqXHR.success=jqXHR.done;jqXHR.error=jqXHR.fail;s.url=((url||s.url||ajaxLocation)+"").replace(rhash,"").replace(rprotocol,ajaxLocParts[1]+"//");s.type=options.method||options.type||s.method||s.type;s.dataTypes=jQuery.trim(s.dataType||"*").toLowerCase().match(core_rnotwhite)||[""];if(s.crossDomain==null){parts=rurl.exec(s.url.toLowerCase());s.crossDomain=!!(parts&&(parts[1]!==ajaxLocParts[1]||parts[2]!==ajaxLocParts[2]||(parts[3]||(parts[1]==="http:"?80:443))!=(ajaxLocParts[3]||(ajaxLocParts[1]==="http:"?80:443))));}
if(s.data&&s.processData&&typeof s.data!=="string"){s.data=jQuery.param(s.data,s.traditional);}
inspectPrefiltersOrTransports(prefilters,s,options,jqXHR);if(state===2){return jqXHR;}
fireGlobals=s.global;if(fireGlobals&&jQuery.active++===0){jQuery.event.trigger("ajaxStart");}
s.type=s.type.toUpperCase();s.hasContent=!rnoContent.test(s.type);cacheURL=s.url;if(!s.hasContent){if(s.data){cacheURL=(s.url+=(ajax_rquery.test(cacheURL)?"&":"?")+s.data);delete s.data;}
if(s.cache===false){s.url=rts.test(cacheURL)?cacheURL.replace(rts,"$1_="+ajax_nonce++):cacheURL+(ajax_rquery.test(cacheURL)?"&":"?")+"_="+ajax_nonce++;}}
if(s.ifModified){if(jQuery.lastModified[cacheURL]){jqXHR.setRequestHeader("If-Modified-Since",jQuery.lastModified[cacheURL]);}
if(jQuery.etag[cacheURL]){jqXHR.setRequestHeader("If-None-Match",jQuery.etag[cacheURL]);}}
if(s.data&&s.hasContent&&s.contentType!==false||options.contentType){jqXHR.setRequestHeader("Content-Type",s.contentType);}
jqXHR.setRequestHeader("Accept",s.dataTypes[0]&&s.accepts[s.dataTypes[0]]?s.accepts[s.dataTypes[0]]+(s.dataTypes[0]!=="*"?", "+allTypes+"; q=0.01":""):s.accepts["*"]);for(i in s.headers){jqXHR.setRequestHeader(i,s.headers[i]);}
if(s.beforeSend&&(s.beforeSend.call(callbackContext,jqXHR,s)===false||state===2)){return jqXHR.abort();}
strAbort="abort";for(i in{success:1,error:1,complete:1}){jqXHR[i](s[i]);}
transport=inspectPrefiltersOrTransports(transports,s,options,jqXHR);if(!transport){done(-1,"No Transport");}else{jqXHR.readyState=1;if(fireGlobals){globalEventContext.trigger("ajaxSend",[jqXHR,s]);}
if(s.async&&s.timeout>0){timeoutTimer=setTimeout(function(){jqXHR.abort("timeout");},s.timeout);}
try{state=1;transport.send(requestHeaders,done);}catch(e){if(state<2){done(-1,e);}else{throw e;}}}
function done(status,nativeStatusText,responses,headers){var isSuccess,success,error,response,modified,statusText=nativeStatusText;if(state===2){return;}
state=2;if(timeoutTimer){clearTimeout(timeoutTimer);}
transport=undefined;responseHeadersString=headers||"";jqXHR.readyState=status>0?4:0;if(responses){response=ajaxHandleResponses(s,jqXHR,responses);}
if(status>=200&&status<300||status===304){if(s.ifModified){modified=jqXHR.getResponseHeader("Last-Modified");if(modified){jQuery.lastModified[cacheURL]=modified;}
modified=jqXHR.getResponseHeader("etag");if(modified){jQuery.etag[cacheURL]=modified;}}
if(status===204){isSuccess=true;statusText="nocontent";}else if(status===304){isSuccess=true;statusText="notmodified";}else{isSuccess=ajaxConvert(s,response);statusText=isSuccess.state;success=isSuccess.data;error=isSuccess.error;isSuccess=!error;}}else{error=statusText;if(status||!statusText){statusText="error";if(status<0){status=0;}}}
jqXHR.status=status;jqXHR.statusText=(nativeStatusText||statusText)+"";if(isSuccess){deferred.resolveWith(callbackContext,[success,statusText,jqXHR]);}else{deferred.rejectWith(callbackContext,[jqXHR,statusText,error]);}
jqXHR.statusCode(statusCode);statusCode=undefined;if(fireGlobals){globalEventContext.trigger(isSuccess?"ajaxSuccess":"ajaxError",[jqXHR,s,isSuccess?success:error]);}
completeDeferred.fireWith(callbackContext,[jqXHR,statusText]);if(fireGlobals){globalEventContext.trigger("ajaxComplete",[jqXHR,s]);if(!(--jQuery.active)){jQuery.event.trigger("ajaxStop");}}}
return jqXHR;},getScript:function(url,callback){return jQuery.get(url,undefined,callback,"script");},getJSON:function(url,data,callback){return jQuery.get(url,data,callback,"json");}});function ajaxHandleResponses(s,jqXHR,responses){var firstDataType,ct,finalDataType,type,contents=s.contents,dataTypes=s.dataTypes,responseFields=s.responseFields;for(type in responseFields){if(type in responses){jqXHR[responseFields[type]]=responses[type];}}
while(dataTypes[0]==="*"){dataTypes.shift();if(ct===undefined){ct=s.mimeType||jqXHR.getResponseHeader("Content-Type");}}
if(ct){for(type in contents){if(contents[type]&&contents[type].test(ct)){dataTypes.unshift(type);break;}}}
if(dataTypes[0]in responses){finalDataType=dataTypes[0];}else{for(type in responses){if(!dataTypes[0]||s.converters[type+" "+dataTypes[0]]){finalDataType=type;break;}
if(!firstDataType){firstDataType=type;}}
finalDataType=finalDataType||firstDataType;}
if(finalDataType){if(finalDataType!==dataTypes[0]){dataTypes.unshift(finalDataType);}
return responses[finalDataType];}}
function ajaxConvert(s,response){var conv2,current,conv,tmp,converters={},i=0,dataTypes=s.dataTypes.slice(),prev=dataTypes[0];if(s.dataFilter){response=s.dataFilter(response,s.dataType);}
if(dataTypes[1]){for(conv in s.converters){converters[conv.toLowerCase()]=s.converters[conv];}}
for(;(current=dataTypes[++i]);){if(current!=="*"){if(prev!=="*"&&prev!==current){conv=converters[prev+" "+current]||converters["* "+current];if(!conv){for(conv2 in converters){tmp=conv2.split(" ");if(tmp[1]===current){conv=converters[prev+" "+tmp[0]]||converters["* "+tmp[0]];if(conv){if(conv===true){conv=converters[conv2];}else if(converters[conv2]!==true){current=tmp[0];dataTypes.splice(i--,0,current);}
break;}}}}
if(conv!==true){if(conv&&s["throws"]){response=conv(response);}else{try{response=conv(response);}catch(e){return{state:"parsererror",error:conv?e:"No conversion from "+prev+" to "+current};}}}}
prev=current;}}
return{state:"success",data:response};}
jQuery.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(text){jQuery.globalEval(text);return text;}}});jQuery.ajaxPrefilter("script",function(s){if(s.cache===undefined){s.cache=false;}
if(s.crossDomain){s.type="GET";s.global=false;}});jQuery.ajaxTransport("script",function(s){if(s.crossDomain){var script,head=document.head||jQuery("head")[0]||document.documentElement;return{send:function(_,callback){script=document.createElement("script");script.async=true;if(s.scriptCharset){script.charset=s.scriptCharset;}
script.src=s.url;script.onload=script.onreadystatechange=function(_,isAbort){if(isAbort||!script.readyState||/loaded|complete/.test(script.readyState)){script.onload=script.onreadystatechange=null;if(script.parentNode){script.parentNode.removeChild(script);}
script=null;if(!isAbort){callback(200,"success");}}};head.insertBefore(script,head.firstChild);},abort:function(){if(script){script.onload(undefined,true);}}};}});var oldCallbacks=[],rjsonp=/(=)\?(?=&|$)|\?\?/;jQuery.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var callback=oldCallbacks.pop()||(jQuery.expando+"_"+(ajax_nonce++));this[callback]=true;return callback;}});jQuery.ajaxPrefilter("json jsonp",function(s,originalSettings,jqXHR){var callbackName,overwritten,responseContainer,jsonProp=s.jsonp!==false&&(rjsonp.test(s.url)?"url":typeof s.data==="string"&&!(s.contentType||"").indexOf("application/x-www-form-urlencoded")&&rjsonp.test(s.data)&&"data");if(jsonProp||s.dataTypes[0]==="jsonp"){callbackName=s.jsonpCallback=jQuery.isFunction(s.jsonpCallback)?s.jsonpCallback():s.jsonpCallback;if(jsonProp){s[jsonProp]=s[jsonProp].replace(rjsonp,"$1"+callbackName);}else if(s.jsonp!==false){s.url+=(ajax_rquery.test(s.url)?"&":"?")+s.jsonp+"="+callbackName;}
s.converters["script json"]=function(){if(!responseContainer){jQuery.error(callbackName+" was not called");}
return responseContainer[0];};s.dataTypes[0]="json";overwritten=window[callbackName];window[callbackName]=function(){responseContainer=arguments;};jqXHR.always(function(){window[callbackName]=overwritten;if(s[callbackName]){s.jsonpCallback=originalSettings.jsonpCallback;oldCallbacks.push(callbackName);}
if(responseContainer&&jQuery.isFunction(overwritten)){overwritten(responseContainer[0]);}
responseContainer=overwritten=undefined;});return"script";}});var xhrCallbacks,xhrSupported,xhrId=0,xhrOnUnloadAbort=window.ActiveXObject&&function(){var key;for(key in xhrCallbacks){xhrCallbacks[key](undefined,true);}};function createStandardXHR(){try{return new window.XMLHttpRequest();}catch(e){}}
function createActiveXHR(){try{return new window.ActiveXObject("Microsoft.XMLHTTP");}catch(e){}}
jQuery.ajaxSettings.xhr=window.ActiveXObject?function(){return!this.isLocal&&createStandardXHR()||createActiveXHR();}:createStandardXHR;xhrSupported=jQuery.ajaxSettings.xhr();jQuery.support.cors=!!xhrSupported&&("withCredentials"in xhrSupported);xhrSupported=jQuery.support.ajax=!!xhrSupported;if(xhrSupported){jQuery.ajaxTransport(function(s){if(!s.crossDomain||jQuery.support.cors){var callback;return{send:function(headers,complete){var handle,i,xhr=s.xhr();if(s.username){xhr.open(s.type,s.url,s.async,s.username,s.password);}else{xhr.open(s.type,s.url,s.async);}
if(s.xhrFields){for(i in s.xhrFields){xhr[i]=s.xhrFields[i];}}
if(s.mimeType&&xhr.overrideMimeType){xhr.overrideMimeType(s.mimeType);}
if(!s.crossDomain&&!headers["X-Requested-With"]){headers["X-Requested-With"]="XMLHttpRequest";}
try{for(i in headers){xhr.setRequestHeader(i,headers[i]);}}catch(err){}
xhr.send((s.hasContent&&s.data)||null);callback=function(_,isAbort){var status,responseHeaders,statusText,responses;try{if(callback&&(isAbort||xhr.readyState===4)){callback=undefined;if(handle){xhr.onreadystatechange=jQuery.noop;if(xhrOnUnloadAbort){delete xhrCallbacks[handle];}}
if(isAbort){if(xhr.readyState!==4){xhr.abort();}}else{responses={};status=xhr.status;responseHeaders=xhr.getAllResponseHeaders();if(typeof xhr.responseText==="string"){responses.text=xhr.responseText;}
try{statusText=xhr.statusText;}catch(e){statusText="";}
if(!status&&s.isLocal&&!s.crossDomain){status=responses.text?200:404;}else if(status===1223){status=204;}}}}catch(firefoxAccessException){if(!isAbort){complete(-1,firefoxAccessException);}}
if(responses){complete(status,statusText,responses,responseHeaders);}};if(!s.async){callback();}else if(xhr.readyState===4){setTimeout(callback);}else{handle=++xhrId;if(xhrOnUnloadAbort){if(!xhrCallbacks){xhrCallbacks={};jQuery(window).unload(xhrOnUnloadAbort);}
xhrCallbacks[handle]=callback;}
xhr.onreadystatechange=callback;}},abort:function(){if(callback){callback(undefined,true);}}};}});}
var fxNow,timerId,rfxtypes=/^(?:toggle|show|hide)$/,rfxnum=new RegExp("^(?:([+-])=|)("+core_pnum+")([a-z%]*)$","i"),rrun=/queueHooks$/,animationPrefilters=[defaultPrefilter],tweeners={"*":[function(prop,value){var end,unit,tween=this.createTween(prop,value),parts=rfxnum.exec(value),target=tween.cur(),start=+target||0,scale=1,maxIterations=20;if(parts){end=+parts[2];unit=parts[3]||(jQuery.cssNumber[prop]?"":"px");if(unit!=="px"&&start){start=jQuery.css(tween.elem,prop,true)||end||1;do{scale=scale||".5";start=start / scale;jQuery.style(tween.elem,prop,start+unit);}while(scale!==(scale=tween.cur()/ target)&&scale!==1&&--maxIterations);}
tween.unit=unit;tween.start=start;tween.end=parts[1]?start+(parts[1]+1)*end:end;}
return tween;}]};function createFxNow(){setTimeout(function(){fxNow=undefined;});return(fxNow=jQuery.now());}
function createTweens(animation,props){jQuery.each(props,function(prop,value){var collection=(tweeners[prop]||[]).concat(tweeners["*"]),index=0,length=collection.length;for(;index<length;index++){if(collection[index].call(animation,prop,value)){return;}}});}
function Animation(elem,properties,options){var result,stopped,index=0,length=animationPrefilters.length,deferred=jQuery.Deferred().always(function(){delete tick.elem;}),tick=function(){if(stopped){return false;}
var currentTime=fxNow||createFxNow(),remaining=Math.max(0,animation.startTime+animation.duration-currentTime),temp=remaining / animation.duration||0,percent=1-temp,index=0,length=animation.tweens.length;for(;index<length;index++){animation.tweens[index].run(percent);}
deferred.notifyWith(elem,[animation,percent,remaining]);if(percent<1&&length){return remaining;}else{deferred.resolveWith(elem,[animation]);return false;}},animation=deferred.promise({elem:elem,props:jQuery.extend({},properties),opts:jQuery.extend(true,{specialEasing:{}},options),originalProperties:properties,originalOptions:options,startTime:fxNow||createFxNow(),duration:options.duration,tweens:[],createTween:function(prop,end){var tween=jQuery.Tween(elem,animation.opts,prop,end,animation.opts.specialEasing[prop]||animation.opts.easing);animation.tweens.push(tween);return tween;},stop:function(gotoEnd){var index=0,length=gotoEnd?animation.tweens.length:0;if(stopped){return this;}
stopped=true;for(;index<length;index++){animation.tweens[index].run(1);}
if(gotoEnd){deferred.resolveWith(elem,[animation,gotoEnd]);}else{deferred.rejectWith(elem,[animation,gotoEnd]);}
return this;}}),props=animation.props;propFilter(props,animation.opts.specialEasing);for(;index<length;index++){result=animationPrefilters[index].call(animation,elem,props,animation.opts);if(result){return result;}}
createTweens(animation,props);if(jQuery.isFunction(animation.opts.start)){animation.opts.start.call(elem,animation);}
jQuery.fx.timer(jQuery.extend(tick,{elem:elem,anim:animation,queue:animation.opts.queue}));return animation.progress(animation.opts.progress).done(animation.opts.done,animation.opts.complete).fail(animation.opts.fail).always(animation.opts.always);}
function propFilter(props,specialEasing){var value,name,index,easing,hooks;for(index in props){name=jQuery.camelCase(index);easing=specialEasing[name];value=props[index];if(jQuery.isArray(value)){easing=value[1];value=props[index]=value[0];}
if(index!==name){props[name]=value;delete props[index];}
hooks=jQuery.cssHooks[name];if(hooks&&"expand"in hooks){value=hooks.expand(value);delete props[name];for(index in value){if(!(index in props)){props[index]=value[index];specialEasing[index]=easing;}}}else{specialEasing[name]=easing;}}}
jQuery.Animation=jQuery.extend(Animation,{tweener:function(props,callback){if(jQuery.isFunction(props)){callback=props;props=["*"];}else{props=props.split(" ");}
var prop,index=0,length=props.length;for(;index<length;index++){prop=props[index];tweeners[prop]=tweeners[prop]||[];tweeners[prop].unshift(callback);}},prefilter:function(callback,prepend){if(prepend){animationPrefilters.unshift(callback);}else{animationPrefilters.push(callback);}}});function defaultPrefilter(elem,props,opts){var prop,index,length,value,dataShow,toggle,tween,hooks,oldfire,anim=this,style=elem.style,orig={},handled=[],hidden=elem.nodeType&&isHidden(elem);if(!opts.queue){hooks=jQuery._queueHooks(elem,"fx");if(hooks.unqueued==null){hooks.unqueued=0;oldfire=hooks.empty.fire;hooks.empty.fire=function(){if(!hooks.unqueued){oldfire();}};}
hooks.unqueued++;anim.always(function(){anim.always(function(){hooks.unqueued--;if(!jQuery.queue(elem,"fx").length){hooks.empty.fire();}});});}
if(elem.nodeType===1&&("height"in props||"width"in props)){opts.overflow=[style.overflow,style.overflowX,style.overflowY];if(jQuery.css(elem,"display")==="inline"&&jQuery.css(elem,"float")==="none"){if(!jQuery.support.inlineBlockNeedsLayout||css_defaultDisplay(elem.nodeName)==="inline"){style.display="inline-block";}else{style.zoom=1;}}}
if(opts.overflow){style.overflow="hidden";if(!jQuery.support.shrinkWrapBlocks){anim.always(function(){style.overflow=opts.overflow[0];style.overflowX=opts.overflow[1];style.overflowY=opts.overflow[2];});}}
for(index in props){value=props[index];if(rfxtypes.exec(value)){delete props[index];toggle=toggle||value==="toggle";if(value===(hidden?"hide":"show")){continue;}
handled.push(index);}}
length=handled.length;if(length){dataShow=jQuery._data(elem,"fxshow")||jQuery._data(elem,"fxshow",{});if("hidden"in dataShow){hidden=dataShow.hidden;}
if(toggle){dataShow.hidden=!hidden;}
if(hidden){jQuery(elem).show();}else{anim.done(function(){jQuery(elem).hide();});}
anim.done(function(){var prop;jQuery._removeData(elem,"fxshow");for(prop in orig){jQuery.style(elem,prop,orig[prop]);}});for(index=0;index<length;index++){prop=handled[index];tween=anim.createTween(prop,hidden?dataShow[prop]:0);orig[prop]=dataShow[prop]||jQuery.style(elem,prop);if(!(prop in dataShow)){dataShow[prop]=tween.start;if(hidden){tween.end=tween.start;tween.start=prop==="width"||prop==="height"?1:0;}}}}}
function Tween(elem,options,prop,end,easing){return new Tween.prototype.init(elem,options,prop,end,easing);}
jQuery.Tween=Tween;Tween.prototype={constructor:Tween,init:function(elem,options,prop,end,easing,unit){this.elem=elem;this.prop=prop;this.easing=easing||"swing";this.options=options;this.start=this.now=this.cur();this.end=end;this.unit=unit||(jQuery.cssNumber[prop]?"":"px");},cur:function(){var hooks=Tween.propHooks[this.prop];return hooks&&hooks.get?hooks.get(this):Tween.propHooks._default.get(this);},run:function(percent){var eased,hooks=Tween.propHooks[this.prop];if(this.options.duration){this.pos=eased=jQuery.easing[this.easing](percent,this.options.duration*percent,0,1,this.options.duration);}else{this.pos=eased=percent;}
this.now=(this.end-this.start)*eased+this.start;if(this.options.step){this.options.step.call(this.elem,this.now,this);}
if(hooks&&hooks.set){hooks.set(this);}else{Tween.propHooks._default.set(this);}
return this;}};Tween.prototype.init.prototype=Tween.prototype;Tween.propHooks={_default:{get:function(tween){var result;if(tween.elem[tween.prop]!=null&&(!tween.elem.style||tween.elem.style[tween.prop]==null)){return tween.elem[tween.prop];}
result=jQuery.css(tween.elem,tween.prop,"");return!result||result==="auto"?0:result;},set:function(tween){if(jQuery.fx.step[tween.prop]){jQuery.fx.step[tween.prop](tween);}else if(tween.elem.style&&(tween.elem.style[jQuery.cssProps[tween.prop]]!=null||jQuery.cssHooks[tween.prop])){jQuery.style(tween.elem,tween.prop,tween.now+tween.unit);}else{tween.elem[tween.prop]=tween.now;}}}};Tween.propHooks.scrollTop=Tween.propHooks.scrollLeft={set:function(tween){if(tween.elem.nodeType&&tween.elem.parentNode){tween.elem[tween.prop]=tween.now;}}};jQuery.each(["toggle","show","hide"],function(i,name){var cssFn=jQuery.fn[name];jQuery.fn[name]=function(speed,easing,callback){return speed==null||typeof speed==="boolean"?cssFn.apply(this,arguments):this.animate(genFx(name,true),speed,easing,callback);};});jQuery.fn.extend({fadeTo:function(speed,to,easing,callback){return this.filter(isHidden).css("opacity",0).show().end().animate({opacity:to},speed,easing,callback);},animate:function(prop,speed,easing,callback){var empty=jQuery.isEmptyObject(prop),optall=jQuery.speed(speed,easing,callback),doAnimation=function(){var anim=Animation(this,jQuery.extend({},prop),optall);doAnimation.finish=function(){anim.stop(true);};if(empty||jQuery._data(this,"finish")){anim.stop(true);}};doAnimation.finish=doAnimation;return empty||optall.queue===false?this.each(doAnimation):this.queue(optall.queue,doAnimation);},stop:function(type,clearQueue,gotoEnd){var stopQueue=function(hooks){var stop=hooks.stop;delete hooks.stop;stop(gotoEnd);};if(typeof type!=="string"){gotoEnd=clearQueue;clearQueue=type;type=undefined;}
if(clearQueue&&type!==false){this.queue(type||"fx",[]);}
return this.each(function(){var dequeue=true,index=type!=null&&type+"queueHooks",timers=jQuery.timers,data=jQuery._data(this);if(index){if(data[index]&&data[index].stop){stopQueue(data[index]);}}else{for(index in data){if(data[index]&&data[index].stop&&rrun.test(index)){stopQueue(data[index]);}}}
for(index=timers.length;index--;){if(timers[index].elem===this&&(type==null||timers[index].queue===type)){timers[index].anim.stop(gotoEnd);dequeue=false;timers.splice(index,1);}}
if(dequeue||!gotoEnd){jQuery.dequeue(this,type);}});},finish:function(type){if(type!==false){type=type||"fx";}
return this.each(function(){var index,data=jQuery._data(this),queue=data[type+"queue"],hooks=data[type+"queueHooks"],timers=jQuery.timers,length=queue?queue.length:0;data.finish=true;jQuery.queue(this,type,[]);if(hooks&&hooks.cur&&hooks.cur.finish){hooks.cur.finish.call(this);}
for(index=timers.length;index--;){if(timers[index].elem===this&&timers[index].queue===type){timers[index].anim.stop(true);timers.splice(index,1);}}
for(index=0;index<length;index++){if(queue[index]&&queue[index].finish){queue[index].finish.call(this);}}
delete data.finish;});}});function genFx(type,includeWidth){var which,attrs={height:type},i=0;includeWidth=includeWidth?1:0;for(;i<4;i+=2-includeWidth){which=cssExpand[i];attrs["margin"+which]=attrs["padding"+which]=type;}
if(includeWidth){attrs.opacity=attrs.width=type;}
return attrs;}
jQuery.each({slideDown:genFx("show"),slideUp:genFx("hide"),slideToggle:genFx("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(name,props){jQuery.fn[name]=function(speed,easing,callback){return this.animate(props,speed,easing,callback);};});jQuery.speed=function(speed,easing,fn){var opt=speed&&typeof speed==="object"?jQuery.extend({},speed):{complete:fn||!fn&&easing||jQuery.isFunction(speed)&&speed,duration:speed,easing:fn&&easing||easing&&!jQuery.isFunction(easing)&&easing};opt.duration=jQuery.fx.off?0:typeof opt.duration==="number"?opt.duration:opt.duration in jQuery.fx.speeds?jQuery.fx.speeds[opt.duration]:jQuery.fx.speeds._default;if(opt.queue==null||opt.queue===true){opt.queue="fx";}
opt.old=opt.complete;opt.complete=function(){if(jQuery.isFunction(opt.old)){opt.old.call(this);}
if(opt.queue){jQuery.dequeue(this,opt.queue);}};return opt;};jQuery.easing={linear:function(p){return p;},swing:function(p){return 0.5-Math.cos(p*Math.PI)/ 2;}};jQuery.timers=[];jQuery.fx=Tween.prototype.init;jQuery.fx.tick=function(){var timer,timers=jQuery.timers,i=0;fxNow=jQuery.now();for(;i<timers.length;i++){timer=timers[i];if(!timer()&&timers[i]===timer){timers.splice(i--,1);}}
if(!timers.length){jQuery.fx.stop();}
fxNow=undefined;};jQuery.fx.timer=function(timer){if(timer()&&jQuery.timers.push(timer)){jQuery.fx.start();}};jQuery.fx.interval=13;jQuery.fx.start=function(){if(!timerId){timerId=setInterval(jQuery.fx.tick,jQuery.fx.interval);}};jQuery.fx.stop=function(){clearInterval(timerId);timerId=null;};jQuery.fx.speeds={slow:600,fast:200,_default:400};jQuery.fx.step={};if(jQuery.expr&&jQuery.expr.filters){jQuery.expr.filters.animated=function(elem){return jQuery.grep(jQuery.timers,function(fn){return elem===fn.elem;}).length;};}
jQuery.fn.offset=function(options){if(arguments.length){return options===undefined?this:this.each(function(i){jQuery.offset.setOffset(this,options,i);});}
var docElem,win,box={top:0,left:0},elem=this[0],doc=elem&&elem.ownerDocument;if(!doc){return;}
docElem=doc.documentElement;if(!jQuery.contains(docElem,elem)){return box;}
if(typeof elem.getBoundingClientRect!==core_strundefined){box=elem.getBoundingClientRect();}
win=getWindow(doc);return{top:box.top+(win.pageYOffset||docElem.scrollTop)-(docElem.clientTop||0),left:box.left+(win.pageXOffset||docElem.scrollLeft)-(docElem.clientLeft||0)};};jQuery.offset={setOffset:function(elem,options,i){var position=jQuery.css(elem,"position");if(position==="static"){elem.style.position="relative";}
var curElem=jQuery(elem),curOffset=curElem.offset(),curCSSTop=jQuery.css(elem,"top"),curCSSLeft=jQuery.css(elem,"left"),calculatePosition=(position==="absolute"||position==="fixed")&&jQuery.inArray("auto",[curCSSTop,curCSSLeft])>-1,props={},curPosition={},curTop,curLeft;if(calculatePosition){curPosition=curElem.position();curTop=curPosition.top;curLeft=curPosition.left;}else{curTop=parseFloat(curCSSTop)||0;curLeft=parseFloat(curCSSLeft)||0;}
if(jQuery.isFunction(options)){options=options.call(elem,i,curOffset);}
if(options.top!=null){props.top=(options.top-curOffset.top)+curTop;}
if(options.left!=null){props.left=(options.left-curOffset.left)+curLeft;}
if("using"in options){options.using.call(elem,props);}else{curElem.css(props);}}};jQuery.fn.extend({position:function(){if(!this[0]){return;}
var offsetParent,offset,parentOffset={top:0,left:0},elem=this[0];if(jQuery.css(elem,"position")==="fixed"){offset=elem.getBoundingClientRect();}else{offsetParent=this.offsetParent();offset=this.offset();if(!jQuery.nodeName(offsetParent[0],"html")){parentOffset=offsetParent.offset();}
parentOffset.top+=jQuery.css(offsetParent[0],"borderTopWidth",true);parentOffset.left+=jQuery.css(offsetParent[0],"borderLeftWidth",true);}
return{top:offset.top-parentOffset.top-jQuery.css(elem,"marginTop",true),left:offset.left-parentOffset.left-jQuery.css(elem,"marginLeft",true)};},offsetParent:function(){return this.map(function(){var offsetParent=this.offsetParent||document.documentElement;while(offsetParent&&(!jQuery.nodeName(offsetParent,"html")&&jQuery.css(offsetParent,"position")==="static")){offsetParent=offsetParent.offsetParent;}
return offsetParent||document.documentElement;});}});jQuery.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(method,prop){var top=/Y/.test(prop);jQuery.fn[method]=function(val){return jQuery.access(this,function(elem,method,val){var win=getWindow(elem);if(val===undefined){return win?(prop in win)?win[prop]:win.document.documentElement[method]:elem[method];}
if(win){win.scrollTo(!top?val:jQuery(win).scrollLeft(),top?val:jQuery(win).scrollTop());}else{elem[method]=val;}},method,val,arguments.length,null);};});function getWindow(elem){return jQuery.isWindow(elem)?elem:elem.nodeType===9?elem.defaultView||elem.parentWindow:false;}
jQuery.each({Height:"height",Width:"width"},function(name,type){jQuery.each({padding:"inner"+name,content:type,"":"outer"+name},function(defaultExtra,funcName){jQuery.fn[funcName]=function(margin,value){var chainable=arguments.length&&(defaultExtra||typeof margin!=="boolean"),extra=defaultExtra||(margin===true||value===true?"margin":"border");return jQuery.access(this,function(elem,type,value){var doc;if(jQuery.isWindow(elem)){return elem.document.documentElement["client"+name];}
if(elem.nodeType===9){doc=elem.documentElement;return Math.max(elem.body["scroll"+name],doc["scroll"+name],elem.body["offset"+name],doc["offset"+name],doc["client"+name]);}
return value===undefined?jQuery.css(elem,type,extra):jQuery.style(elem,type,value,extra);},type,chainable?margin:undefined,chainable,null);};});});window.jQuery=window.$=jQuery;if(typeof define==="function"&&define.amd&&define.amd.jQuery){define("jquery",[],function(){return jQuery;});}})(window);

(function($){if(!$['browser'])$.browser={};})(jQuery);

;(function($){var b64="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",a256='',r64=[256],r256=[256],i=0;var UTF8={encode:function(strUni){var strUtf=strUni.replace(/[\u0080-\u07ff]/g,function(c){var cc=c.charCodeAt(0);return String.fromCharCode(0xc0|cc>>6,0x80|cc&0x3f);}).replace(/[\u0800-\uffff]/g,function(c){var cc=c.charCodeAt(0);return String.fromCharCode(0xe0|cc>>12,0x80|cc>>6&0x3F,0x80|cc&0x3f);});return strUtf;},decode:function(strUtf){var strUni=strUtf.replace(/[\u00e0-\u00ef][\u0080-\u00bf][\u0080-\u00bf]/g,function(c){var cc=((c.charCodeAt(0)&0x0f)<<12)|((c.charCodeAt(1)&0x3f)<<6)|(c.charCodeAt(2)&0x3f);return String.fromCharCode(cc);}).replace(/[\u00c0-\u00df][\u0080-\u00bf]/g,function(c){var cc=(c.charCodeAt(0)&0x1f)<<6|c.charCodeAt(1)&0x3f;return String.fromCharCode(cc);});return strUni;}};while(i<256){var c=String.fromCharCode(i);a256+=c;r256[i]=i;r64[i]=b64.indexOf(c);++i;}
function code(s,discard,alpha,beta,w1,w2){s=String(s);var buffer=0,i=0,length=s.length,result='',bitsInBuffer=0;while(i<length){var c=s.charCodeAt(i);c=c<256?alpha[c]:-1;buffer=(buffer<<w1)+c;bitsInBuffer+=w1;while(bitsInBuffer>=w2){bitsInBuffer-=w2;var tmp=buffer>>bitsInBuffer;result+=beta.charAt(tmp);buffer^=tmp<<bitsInBuffer;}
++i;}
if(!discard&&bitsInBuffer>0)result+=beta.charAt(buffer<<(w2-bitsInBuffer));return result;}
var Plugin=$.base64=function(dir,input,encode){return input?Plugin[dir](input,encode):dir?null:this;};Plugin.btoa=Plugin.encode=function(plain,utf8encode){plain=Plugin.raw===false||Plugin.utf8encode||utf8encode?UTF8.encode(plain):plain;plain=code(plain,false,r256,b64,8,6);return plain+'===='.slice((plain.length%4)||4);};Plugin.atob=Plugin.decode=function(coded,utf8decode){coded=String(coded).split('=');var i=coded.length;do{--i;coded[i]=code(coded[i],true,r64,a256,6,8);}while(i>0);coded=coded.join('');return Plugin.raw===false||Plugin.utf8decode||utf8decode?UTF8.decode(coded):coded;};}(jQuery));

;(function($){$.fn.ajaxSubmit=function(options){if(!this.length){log('ajaxSubmit: skipping submit process - no element selected');return this;}
var method,action,url,$form=this;if(typeof options=='function'){options={success:options};}
method=this.attr('method');action=this.attr('action');url=(typeof action==='string')?$.trim(action):'';url=url||window.location.href||'';if(url){url=(url.match(/^([^#]+)/)||[])[1];}
options=$.extend(true,{url:url,success:$.ajaxSettings.success,type:method||'GET',iframeSrc:/^https/i.test(window.location.href||'')?'javascript:false':'about:blank'},options);var veto={};this.trigger('form-pre-serialize',[this,options,veto]);if(veto.veto){log('ajaxSubmit: submit vetoed via form-pre-serialize trigger');return this;}
if(options.beforeSerialize&&options.beforeSerialize(this,options)===false){log('ajaxSubmit: submit aborted via beforeSerialize callback');return this;}
var traditional=options.traditional;if(traditional===undefined){traditional=$.ajaxSettings.traditional;}
var qx,n,v,a=this.formToArray(options.semantic);if(options.data){options.extraData=options.data;qx=$.param(options.data,traditional);}
if(options.beforeSubmit&&options.beforeSubmit(a,this,options)===false){log('ajaxSubmit: submit aborted via beforeSubmit callback');return this;}
this.trigger('form-submit-validate',[a,this,options,veto]);if(veto.veto){log('ajaxSubmit: submit vetoed via form-submit-validate trigger');return this;}
var q=$.param(a,traditional);if(qx)
q=(q?(q+'&'+qx):qx);if(options.type.toUpperCase()=='GET'){options.url+=(options.url.indexOf('?')>=0?'&':'?')+q;options.data=null;}
else{options.data=q;}
var callbacks=[];if(options.resetForm){callbacks.push(function(){$form.resetForm();});}
if(options.clearForm){callbacks.push(function(){$form.clearForm();});}
if(!options.dataType&&options.target){var oldSuccess=options.success||function(){};callbacks.push(function(data){var fn=options.replaceTarget?'replaceWith':'html';$(options.target)[fn](data).each(oldSuccess,arguments);});}
else if(options.success){callbacks.push(options.success);}
options.success=function(data,status,xhr){var context=options.context||options;for(var i=0,max=callbacks.length;i<max;i++){callbacks[i].apply(context,[data,status,xhr||$form,$form]);}};var fileInputs=$('input:file',this).length>0;var mp='multipart/form-data';var multipart=($form.attr('enctype')==mp||$form.attr('encoding')==mp);if(options.iframe!==false&&(fileInputs||options.iframe||multipart)){if(options.closeKeepAlive){$.get(options.closeKeepAlive,function(){fileUpload(a);});}
else{fileUpload(a);}}
else{if($.browser.msie&&method=='get'&&typeof options.type==="undefined"){var ieMeth=$form[0].getAttribute('method');if(typeof ieMeth==='string')
options.type=ieMeth;}
$.ajax(options);}
this.trigger('form-submit-notify',[this,options]);return this;function fileUpload(a){var form=$form[0],el,i,s,g,id,$io,io,xhr,sub,n,timedOut,timeoutHandle;var useProp=!!$.fn.prop;if(a){if(useProp){for(i=0;i<a.length;i++){el=$(form[a[i].name]);el.prop('disabled',false);}}else{for(i=0;i<a.length;i++){el=$(form[a[i].name]);el.removeAttr('disabled');}};}
if($(':input[name=submit],:input[id=submit]',form).length){alert('Error: Form elements must not have name or id of "submit".');return;}
s=$.extend(true,{},$.ajaxSettings,options);s.context=s.context||s;id='jqFormIO'+(new Date().getTime());if(s.iframeTarget){$io=$(s.iframeTarget);n=$io.attr('name');if(n==null)
$io.attr('name',id);else
id=n;}
else{$io=$('<iframe name="'+id+'" src="'+s.iframeSrc+'" />');$io.css({position:'absolute',top:'-1000px',left:'-1000px'});}
io=$io[0];xhr={aborted:0,responseText:null,responseXML:null,status:0,statusText:'n/a',getAllResponseHeaders:function(){},getResponseHeader:function(){},setRequestHeader:function(){},abort:function(status){var e=(status==='timeout'?'timeout':'aborted');log('aborting upload... '+e);this.aborted=1;$io.attr('src',s.iframeSrc);xhr.error=e;s.error&&s.error.call(s.context,xhr,e,status);g&&$.event.trigger("ajaxError",[xhr,s,e]);s.complete&&s.complete.call(s.context,xhr,e);}};g=s.global;if(g&&!$.active++){$.event.trigger("ajaxStart");}
if(g){$.event.trigger("ajaxSend",[xhr,s]);}
if(s.beforeSend&&s.beforeSend.call(s.context,xhr,s)===false){if(s.global){$.active--;}
return;}
if(xhr.aborted){return;}
sub=form.clk;if(sub){n=sub.name;if(n&&!sub.disabled){s.extraData=s.extraData||{};s.extraData[n]=sub.value;if(sub.type=="image"){s.extraData[n+'.x']=form.clk_x;s.extraData[n+'.y']=form.clk_y;}}}
var CLIENT_TIMEOUT_ABORT=1;var SERVER_ABORT=2;function getDoc(frame){var doc=frame.contentWindow?frame.contentWindow.document:frame.contentDocument?frame.contentDocument:frame.document;return doc;}
function doSubmit(){var t=$form.attr('target'),a=$form.attr('action');form.setAttribute('target',id);if(!method){form.setAttribute('method','POST');}
if(a!=s.url){form.setAttribute('action',s.url);}
if(!s.skipEncodingOverride&&(!method||/post/i.test(method))){$form.attr({encoding:'multipart/form-data',enctype:'multipart/form-data'});}
if(s.timeout){timeoutHandle=setTimeout(function(){timedOut=true;cb(CLIENT_TIMEOUT_ABORT);},s.timeout);}
function checkState(){try{var state=getDoc(io).readyState;log('state = '+state);if(state.toLowerCase()=='uninitialized')
setTimeout(checkState,50);}
catch(e){log('Server abort: ',e,' (',e.name,')');cb(SERVER_ABORT);timeoutHandle&&clearTimeout(timeoutHandle);timeoutHandle=undefined;}}
var extraInputs=[];try{if(s.extraData){for(var n in s.extraData){extraInputs.push($('<input type="hidden" name="'+n+'" />').attr('value',s.extraData[n]).appendTo(form)[0]);}}
if(!s.iframeTarget){$io.appendTo('body');io.attachEvent?io.attachEvent('onload',cb):io.addEventListener('load',cb,false);}
setTimeout(checkState,15);form.submit();}
finally{form.setAttribute('action',a);if(t){form.setAttribute('target',t);}else{$form.removeAttr('target');}
$(extraInputs).remove();}}
if(s.forceSync){doSubmit();}
else{setTimeout(doSubmit,10);}
var data,doc,domCheckCount=50,callbackProcessed;function cb(e){if(xhr.aborted||callbackProcessed){return;}
try{doc=getDoc(io);}
catch(ex){log('cannot access response document: ',ex);e=SERVER_ABORT;}
if(e===CLIENT_TIMEOUT_ABORT&&xhr){xhr.abort('timeout');return;}
else if(e==SERVER_ABORT&&xhr){xhr.abort('server abort');return;}
if(!doc||doc.location.href==s.iframeSrc){if(!timedOut)
return;}
io.detachEvent?io.detachEvent('onload',cb):io.removeEventListener('load',cb,false);var status='success',errMsg;try{if(timedOut){throw'timeout';}
var isXml=s.dataType=='xml'||doc.XMLDocument||$.isXMLDoc(doc);log('isXml='+isXml);if(!isXml&&window.opera&&(doc.body==null||doc.body.innerHTML=='')){if(--domCheckCount){log('requeing onLoad callback, DOM not available');setTimeout(cb,250);return;}}
var docRoot=doc.body?doc.body:doc.documentElement;xhr.responseText=docRoot?docRoot.innerHTML:null;xhr.responseXML=doc.XMLDocument?doc.XMLDocument:doc;if(isXml)
s.dataType='xml';xhr.getResponseHeader=function(header){var headers={'content-type':s.dataType};return headers[header];};if(docRoot){xhr.status=Number(docRoot.getAttribute('status'))||xhr.status;xhr.statusText=docRoot.getAttribute('statusText')||xhr.statusText;}
var dt=(s.dataType||'').toLowerCase();var scr=/(json|script|text)/.test(dt);if(scr||s.textarea){var ta=doc.getElementsByTagName('textarea')[0];if(ta){xhr.responseText=ta.value;xhr.status=Number(ta.getAttribute('status'))||xhr.status;xhr.statusText=ta.getAttribute('statusText')||xhr.statusText;}
else if(scr){var pre=doc.getElementsByTagName('pre')[0];var b=doc.getElementsByTagName('body')[0];if(pre){xhr.responseText=pre.textContent?pre.textContent:pre.innerText;}
else if(b){xhr.responseText=b.textContent?b.textContent:b.innerText;}}}
else if(dt=='xml'&&!xhr.responseXML&&xhr.responseText!=null){xhr.responseXML=toXml(xhr.responseText);}
try{data=httpData(xhr,dt,s);}
catch(e){status='parsererror';xhr.error=errMsg=(e||status);}}
catch(e){log('error caught: ',e);status='error';xhr.error=errMsg=(e||status);}
if(xhr.aborted){log('upload aborted');status=null;}
if(xhr.status){status=(xhr.status>=200&&xhr.status<300||xhr.status===304)?'success':'error';}
if(status==='success'){s.success&&s.success.call(s.context,data,'success',xhr);g&&$.event.trigger("ajaxSuccess",[xhr,s]);}
else if(status){if(errMsg==undefined)
errMsg=xhr.statusText;s.error&&s.error.call(s.context,xhr,status,errMsg);g&&$.event.trigger("ajaxError",[xhr,s,errMsg]);}
g&&$.event.trigger("ajaxComplete",[xhr,s]);if(g&&!--$.active){$.event.trigger("ajaxStop");}
s.complete&&s.complete.call(s.context,xhr,status);callbackProcessed=true;if(s.timeout)
clearTimeout(timeoutHandle);setTimeout(function(){if(!s.iframeTarget)
$io.remove();xhr.responseXML=null;},100);}
var toXml=$.parseXML||function(s,doc){if(window.ActiveXObject){doc=new ActiveXObject('Microsoft.XMLDOM');doc.async='false';doc.loadXML(s);}
else{doc=(new DOMParser()).parseFromString(s,'text/xml');}
return(doc&&doc.documentElement&&doc.documentElement.nodeName!='parsererror')?doc:null;};var parseJSON=$.parseJSON||function(s){return window['eval']('('+s+')');};var httpData=function(xhr,type,s){var ct=xhr.getResponseHeader('content-type')||'',xml=type==='xml'||!type&&ct.indexOf('xml')>=0,data=xml?xhr.responseXML:xhr.responseText;if(xml&&data.documentElement.nodeName==='parsererror'){$.error&&$.error('parsererror');}
if(s&&s.dataFilter){data=s.dataFilter(data,type);}
if(typeof data==='string'){if(type==='json'||!type&&ct.indexOf('json')>=0){data=parseJSON(data);}else if(type==="script"||!type&&ct.indexOf("javascript")>=0){$.globalEval(data);}}
return data;};}};$.fn.ajaxForm=function(options){if(this.length===0){var o={s:this.selector,c:this.context};if(!$.isReady&&o.s){log('DOM not ready, queuing ajaxForm');$(function(){$(o.s,o.c).ajaxForm(options);});return this;}
log('terminating; zero elements found by selector'+($.isReady?'':' (DOM not ready)'));return this;}
return this.ajaxFormUnbind().bind('submit.form-plugin',function(e){if(!e.isDefaultPrevented()){e.preventDefault();$(this).ajaxSubmit(options);}}).bind('click.form-plugin',function(e){var target=e.target;var $el=$(target);if(!($el.is(":submit,input:image"))){var t=$el.closest(':submit');if(t.length==0){return;}
target=t[0];}
var form=this;form.clk=target;if(target.type=='image'){if(e.offsetX!=undefined){form.clk_x=e.offsetX;form.clk_y=e.offsetY;}else if(typeof $.fn.offset=='function'){var offset=$el.offset();form.clk_x=e.pageX-offset.left;form.clk_y=e.pageY-offset.top;}else{form.clk_x=e.pageX-target.offsetLeft;form.clk_y=e.pageY-target.offsetTop;}}
setTimeout(function(){form.clk=form.clk_x=form.clk_y=null;},100);});};$.fn.ajaxFormUnbind=function(){return this.unbind('submit.form-plugin click.form-plugin');};$.fn.formToArray=function(semantic){var a=[];if(this.length===0){return a;}
var form=this[0];var els=semantic?form.getElementsByTagName('*'):form.elements;if(!els){return a;}
var i,j,n,v,el,max,jmax;for(i=0,max=els.length;i<max;i++){el=els[i];n=el.name;if(!n){continue;}
if(semantic&&form.clk&&el.type=="image"){if(!el.disabled&&form.clk==el){a.push({name:n,value:$(el).val()});a.push({name:n+'.x',value:form.clk_x},{name:n+'.y',value:form.clk_y});}
continue;}
v=$.fieldValue(el,true);if(v&&v.constructor==Array){for(j=0,jmax=v.length;j<jmax;j++){a.push({name:n,value:v[j]});}}
else if(v!==null&&typeof v!='undefined'){a.push({name:n,value:v});}}
if(!semantic&&form.clk){var $input=$(form.clk),input=$input[0];n=input.name;if(n&&!input.disabled&&input.type=='image'){a.push({name:n,value:$input.val()});a.push({name:n+'.x',value:form.clk_x},{name:n+'.y',value:form.clk_y});}}
return a;};$.fn.formSerialize=function(semantic){return $.param(this.formToArray(semantic));};$.fn.fieldSerialize=function(successful){var a=[];this.each(function(){var n=this.name;if(!n){return;}
var v=$.fieldValue(this,successful);if(v&&v.constructor==Array){for(var i=0,max=v.length;i<max;i++){a.push({name:n,value:v[i]});}}
else if(v!==null&&typeof v!='undefined'){a.push({name:this.name,value:v});}});return $.param(a);};$.fn.fieldValue=function(successful){for(var val=[],i=0,max=this.length;i<max;i++){var el=this[i];var v=$.fieldValue(el,successful);if(v===null||typeof v=='undefined'||(v.constructor==Array&&!v.length)){continue;}
v.constructor==Array?$.merge(val,v):val.push(v);}
return val;};$.fieldValue=function(el,successful){var n=el.name,t=el.type,tag=el.tagName.toLowerCase();if(successful===undefined){successful=true;}
if(successful&&(!n||el.disabled||t=='reset'||t=='button'||(t=='checkbox'||t=='radio')&&!el.checked||(t=='submit'||t=='image')&&el.form&&el.form.clk!=el||tag=='select'&&el.selectedIndex==-1)){return null;}
if(tag=='select'){var index=el.selectedIndex;if(index<0){return null;}
var a=[],ops=el.options;var one=(t=='select-one');var max=(one?index+1:ops.length);for(var i=(one?index:0);i<max;i++){var op=ops[i];if(op.selected){var v=op.value;if(!v){v=(op.attributes&&op.attributes['value']&&!(op.attributes['value'].specified))?op.text:op.value;}
if(one){return v;}
a.push(v);}}
return a;}
return $(el).val();};$.fn.clearForm=function(){return this.each(function(){$('input,select,textarea',this).clearFields();});};$.fn.clearFields=$.fn.clearInputs=function(){var re=/^(?:color|date|datetime|email|month|number|password|range|search|tel|text|time|url|week)$/i;return this.each(function(){var t=this.type,tag=this.tagName.toLowerCase();if(re.test(t)||tag=='textarea'){this.value='';}
else if(t=='checkbox'||t=='radio'){this.checked=false;}
else if(tag=='select'){this.selectedIndex=-1;}});};$.fn.resetForm=function(){return this.each(function(){if(typeof this.reset=='function'||(typeof this.reset=='object'&&!this.reset.nodeType)){this.reset();}});};$.fn.enable=function(b){if(b===undefined){b=true;}
return this.each(function(){this.disabled=!b;});};$.fn.selected=function(select){if(select===undefined){select=true;}
return this.each(function(){var t=this.type;if(t=='checkbox'||t=='radio'){this.checked=select;}
else if(this.tagName.toLowerCase()=='option'){var $sel=$(this).parent('select');if(select&&$sel[0]&&$sel[0].type=='select-one'){$sel.find('option').selected(false);}
this.selected=select;}});};$.fn.ajaxSubmit.debug=false;function log(){if(!$.fn.ajaxSubmit.debug)
return;var msg='[jquery.form] '+Array.prototype.join.call(arguments,'');if(window.console&&window.console.log){window.console.log(msg);}
else if(window.opera&&window.opera.postError){window.opera.postError(msg);}};})(jQuery);


(function($){var escapeable=/["\\\x00-\x1f\x7f-\x9f]/g,meta={'\b':'\\b','\t':'\\t','\n':'\\n','\f':'\\f','\r':'\\r','"':'\\"','\\':'\\\\'};$.toJSON=typeof JSON==='object'&&JSON.stringify?JSON.stringify:function(o){if(o===null){return'null';}
var type=typeof o;if(type==='undefined'){return undefined;}
if(type==='number'||type==='boolean'){return''+o;}
if(type==='string'){return $.quoteString(o);}
if(type==='object'){if(typeof o.toJSON==='function'){return $.toJSON(o.toJSON());}
if(o.constructor===Date){var month=o.getUTCMonth()+1,day=o.getUTCDate(),year=o.getUTCFullYear(),hours=o.getUTCHours(),minutes=o.getUTCMinutes(),seconds=o.getUTCSeconds(),milli=o.getUTCMilliseconds();if(month<10){month='0'+month;}
if(day<10){day='0'+day;}
if(hours<10){hours='0'+hours;}
if(minutes<10){minutes='0'+minutes;}
if(seconds<10){seconds='0'+seconds;}
if(milli<100){milli='0'+milli;}
if(milli<10){milli='0'+milli;}
return'"'+year+'-'+month+'-'+day+'T'+
hours+':'+minutes+':'+seconds+'.'+milli+'Z"';}
if(o.constructor===Array){var ret=[];for(var i=0;i<o.length;i++){ret.push($.toJSON(o[i])||'null');}
return'['+ret.join(',')+']';}
var name,val,pairs=[];for(var k in o){type=typeof k;if(type==='number'){name='"'+k+'"';}else if(type==='string'){name=$.quoteString(k);}else{continue;}
type=typeof o[k];if(type==='function'||type==='undefined'){continue;}
val=$.toJSON(o[k]);pairs.push(name+':'+val);}
return'{'+pairs.join(',')+'}';}};$.evalJSON=typeof JSON==='object'&&JSON.parse?JSON.parse:function(src){return eval('('+src+')');};$.secureEvalJSON=typeof JSON==='object'&&JSON.parse?JSON.parse:function(src){var filtered=src.replace(/\\["\\\/bfnrtu]/g,'@').replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,']').replace(/(?:^|:|,)(?:\s*\[)+/g,'');if(/^[\],:{}\s]*$/.test(filtered)){return eval('('+src+')');}else{throw new SyntaxError('Error parsing JSON, source is not valid.');}};$.quoteString=function(string){if(string.match(escapeable)){return'"'+string.replace(escapeable,function(a){var c=meta[a];if(typeof c==='string'){return c;}
c=a.charCodeAt();return'\\u00'+Math.floor(c / 16).toString(16)+(c%16).toString(16);})+'"';}
return'"'+string+'"';};})(jQuery);


(function($){function SVGManager(){this._settings=[];this._extensions=[];this.regional=[];this.regional['']={errorLoadingText:'Error loading',notSupportedText:'This browser does not support SVG'};this.local=this.regional[''];this._uuid=new Date().getTime();this._renesis=detectActiveX('RenesisX.RenesisCtrl');}
function detectActiveX(classId){try{return!!(window.ActiveXObject&&new ActiveXObject(classId));}
catch(e){return false;}}
var PROP_NAME='svgwrapper';$.extend(SVGManager.prototype,{markerClassName:'hasSVG',svgNS:'http://www.w3.org/2000/svg',xlinkNS:'http://www.w3.org/1999/xlink',_wrapperClass:SVGWrapper,_attrNames:{class_:'class',in_:'in',alignmentBaseline:'alignment-baseline',baselineShift:'baseline-shift',clipPath:'clip-path',clipRule:'clip-rule',colorInterpolation:'color-interpolation',colorInterpolationFilters:'color-interpolation-filters',colorRendering:'color-rendering',dominantBaseline:'dominant-baseline',enableBackground:'enable-background',fillOpacity:'fill-opacity',fillRule:'fill-rule',floodColor:'flood-color',floodOpacity:'flood-opacity',fontFamily:'font-family',fontSize:'font-size',fontSizeAdjust:'font-size-adjust',fontStretch:'font-stretch',fontStyle:'font-style',fontVariant:'font-variant',fontWeight:'font-weight',glyphOrientationHorizontal:'glyph-orientation-horizontal',glyphOrientationVertical:'glyph-orientation-vertical',horizAdvX:'horiz-adv-x',horizOriginX:'horiz-origin-x',imageRendering:'image-rendering',letterSpacing:'letter-spacing',lightingColor:'lighting-color',markerEnd:'marker-end',markerMid:'marker-mid',markerStart:'marker-start',stopColor:'stop-color',stopOpacity:'stop-opacity',strikethroughPosition:'strikethrough-position',strikethroughThickness:'strikethrough-thickness',strokeDashArray:'stroke-dasharray',strokeDashOffset:'stroke-dashoffset',strokeLineCap:'stroke-linecap',strokeLineJoin:'stroke-linejoin',strokeMiterLimit:'stroke-miterlimit',strokeOpacity:'stroke-opacity',strokeWidth:'stroke-width',textAnchor:'text-anchor',textDecoration:'text-decoration',textRendering:'text-rendering',underlinePosition:'underline-position',underlineThickness:'underline-thickness',vertAdvY:'vert-adv-y',vertOriginY:'vert-origin-y',wordSpacing:'word-spacing',writingMode:'writing-mode'},_attachSVG:function(container,settings){var svg=(container.namespaceURI==this.svgNS?container:null);var container=(svg?null:container);if($(container||svg).hasClass(this.markerClassName)){return;}
if(typeof settings=='string'){settings={loadURL:settings};}
else if(typeof settings=='function'){settings={onLoad:settings};}
$(container||svg).addClass(this.markerClassName);try{if(!svg){svg=document.createElementNS(this.svgNS,'svg');svg.setAttribute('version','1.1');if(container.clientWidth>0){svg.setAttribute('width',container.clientWidth);}
if(container.clientHeight>0){svg.setAttribute('height',container.clientHeight);}
container.appendChild(svg);}
this._afterLoad(container,svg,settings||{});}
catch(e){if($.browser.msie){if(!container.id){container.id='svg'+(this._uuid++);}
this._settings[container.id]=settings;container.innerHTML='<embed type="image/svg+xml" width="100%" '+'height="100%" src="'+(settings.initPath||'')+'blank.svg" '+'pluginspage="http://www.adobe.com/svg/viewer/install/main.html"/>';}
else{container.innerHTML='<p class="svg_error">'+
this.local.notSupportedText+'</p>';}}},_registerSVG:function(){for(var i=0;i<document.embeds.length;i++){var container=document.embeds[i].parentNode;if(!$(container).hasClass($.svg.markerClassName)||$.data(container,PROP_NAME)){continue;}
var svg=null;try{svg=document.embeds[i].getSVGDocument();}
catch(e){setTimeout($.svg._registerSVG,250);return;}
svg=(svg?svg.documentElement:null);if(svg){$.svg._afterLoad(container,svg);}}},_afterLoad:function(container,svg,settings){var settings=settings||this._settings[container.id];this._settings[container?container.id:'']=null;var wrapper=new this._wrapperClass(svg,container);$.data(container||svg,PROP_NAME,wrapper);try{if(settings.loadURL){wrapper.load(settings.loadURL,settings);}
if(settings.settings){wrapper.configure(settings.settings);}
if(settings.onLoad&&!settings.loadURL){settings.onLoad.apply(container||svg,[wrapper]);}}
catch(e){alert(e);}},_getSVG:function(container){container=(typeof container=='string'?$(container)[0]:(container.jquery?container[0]:container));return $.data(container,PROP_NAME);},_destroySVG:function(container){var $container=$(container);if(!$container.hasClass(this.markerClassName)){return;}
$container.removeClass(this.markerClassName);if(container.namespaceURI!=this.svgNS){$container.empty();}
$.removeData(container,PROP_NAME);},addExtension:function(name,extClass){this._extensions.push([name,extClass]);},isSVGElem:function(node){return(node.nodeType==1&&node.namespaceURI==$.svg.svgNS);}});function SVGWrapper(svg,container){this._svg=svg;this._container=container;for(var i=0;i<$.svg._extensions.length;i++){var extension=$.svg._extensions[i];this[extension[0]]=new extension[1](this);}}
$.extend(SVGWrapper.prototype,{_width:function(){return(this._container?this._container.clientWidth:this._svg.width);},_height:function(){return(this._container?this._container.clientHeight:this._svg.height);},root:function(){return this._svg;},configure:function(node,settings,clear){if(!node.nodeName){clear=settings;settings=node;node=this._svg;}
if(clear){for(var i=node.attributes.length-1;i>=0;i--){var attr=node.attributes.item(i);if(!(attr.nodeName=='onload'||attr.nodeName=='version'||attr.nodeName.substring(0,5)=='xmlns')){node.attributes.removeNamedItem(attr.nodeName);}}}
for(var attrName in settings){node.setAttribute($.svg._attrNames[attrName]||attrName,settings[attrName]);}
return this;},getElementById:function(id){return this._svg.ownerDocument.getElementById(id);},change:function(element,settings){if(element){for(var name in settings){if(settings[name]==null){element.removeAttribute($.svg._attrNames[name]||name);}
else{element.setAttribute($.svg._attrNames[name]||name,settings[name]);}}}
return this;},_args:function(values,names,optSettings){names.splice(0,0,'parent');names.splice(names.length,0,'settings');var args={};var offset=0;if(values[0]!=null&&values[0].jquery){values[0]=values[0][0];}
if(values[0]!=null&&!(typeof values[0]=='object'&&values[0].nodeName)){args['parent']=null;offset=1;}
for(var i=0;i<values.length;i++){args[names[i+offset]]=values[i];}
if(optSettings){$.each(optSettings,function(i,value){if(typeof args[value]=='object'){args.settings=args[value];args[value]=null;}});}
return args;},title:function(parent,text,settings){var args=this._args(arguments,['text']);var node=this._makeNode(args.parent,'title',args.settings||{});node.appendChild(this._svg.ownerDocument.createTextNode(args.text));return node;},describe:function(parent,text,settings){var args=this._args(arguments,['text']);var node=this._makeNode(args.parent,'desc',args.settings||{});node.appendChild(this._svg.ownerDocument.createTextNode(args.text));return node;},defs:function(parent,id,settings){var args=this._args(arguments,['id'],['id']);return this._makeNode(args.parent,'defs',$.extend((args.id?{id:args.id}:{}),args.settings||{}));},symbol:function(parent,id,x1,y1,width,height,settings){var args=this._args(arguments,['id','x1','y1','width','height']);return this._makeNode(args.parent,'symbol',$.extend({id:args.id,viewBox:args.x1+' '+args.y1+' '+args.width+' '+args.height},args.settings||{}));},marker:function(parent,id,refX,refY,mWidth,mHeight,orient,settings){var args=this._args(arguments,['id','refX','refY','mWidth','mHeight','orient'],['orient']);return this._makeNode(args.parent,'marker',$.extend({id:args.id,refX:args.refX,refY:args.refY,markerWidth:args.mWidth,markerHeight:args.mHeight,orient:args.orient||'auto'},args.settings||{}));},style:function(parent,styles,settings){var args=this._args(arguments,['styles']);var node=this._makeNode(args.parent,'style',$.extend({type:'text/css'},args.settings||{}));node.appendChild(this._svg.ownerDocument.createTextNode(args.styles));if($.browser.opera){$('head').append('<style type="text/css">'+args.styles+'</style>');}
return node;},script:function(parent,script,type,settings){var args=this._args(arguments,['script','type'],['type']);var node=this._makeNode(args.parent,'script',$.extend({type:args.type||'text/javascript'},args.settings||{}));node.appendChild(this._svg.ownerDocument.createTextNode(args.script));if(!$.browser.mozilla){$.globalEval(args.script);}
return node;},linearGradient:function(parent,id,stops,x1,y1,x2,y2,settings){var args=this._args(arguments,['id','stops','x1','y1','x2','y2'],['x1']);var sets=$.extend({id:args.id},(args.x1!=null?{x1:args.x1,y1:args.y1,x2:args.x2,y2:args.y2}:{}));return this._gradient(args.parent,'linearGradient',$.extend(sets,args.settings||{}),args.stops);},radialGradient:function(parent,id,stops,cx,cy,r,fx,fy,settings){var args=this._args(arguments,['id','stops','cx','cy','r','fx','fy'],['cx']);var sets=$.extend({id:args.id},(args.cx!=null?{cx:args.cx,cy:args.cy,r:args.r,fx:args.fx,fy:args.fy}:{}));return this._gradient(args.parent,'radialGradient',$.extend(sets,args.settings||{}),args.stops);},_gradient:function(parent,name,settings,stops){var node=this._makeNode(parent,name,settings);for(var i=0;i<stops.length;i++){var stop=stops[i];this._makeNode(node,'stop',$.extend({offset:stop[0],stopColor:stop[1]},(stop[2]!=null?{stopOpacity:stop[2]}:{})));}
return node;},pattern:function(parent,id,x,y,width,height,vx,vy,vwidth,vheight,settings){var args=this._args(arguments,['id','x','y','width','height','vx','vy','vwidth','vheight'],['vx']);var sets=$.extend({id:args.id,x:args.x,y:args.y,width:args.width,height:args.height},(args.vx!=null?{viewBox:args.vx+' '+args.vy+' '+args.vwidth+' '+args.vheight}:{}));return this._makeNode(args.parent,'pattern',$.extend(sets,args.settings||{}));},clipPath:function(parent,id,units,settings){var args=this._args(arguments,['id','units']);args.units=args.units||'userSpaceOnUse';return this._makeNode(args.parent,'clipPath',$.extend({id:args.id,clipPathUnits:args.units},args.settings||{}));},mask:function(parent,id,x,y,width,height,settings){var args=this._args(arguments,['id','x','y','width','height']);return this._makeNode(args.parent,'mask',$.extend({id:args.id,x:args.x,y:args.y,width:args.width,height:args.height},args.settings||{}));},createPath:function(){return new SVGPath();},createText:function(){return new SVGText();},svg:function(parent,x,y,width,height,vx,vy,vwidth,vheight,settings){var args=this._args(arguments,['x','y','width','height','vx','vy','vwidth','vheight'],['vx']);var sets=$.extend({x:args.x,y:args.y,width:args.width,height:args.height},(args.vx!=null?{viewBox:args.vx+' '+args.vy+' '+
args.vwidth+' '+args.vheight}:{}));return this._makeNode(args.parent,'svg',$.extend(sets,args.settings||{}));},group:function(parent,id,settings){var args=this._args(arguments,['id'],['id']);return this._makeNode(args.parent,'g',$.extend({id:args.id},args.settings||{}));},use:function(parent,x,y,width,height,ref,settings){var args=this._args(arguments,['x','y','width','height','ref']);if(typeof args.x=='string'){args.ref=args.x;args.settings=args.y;args.x=args.y=args.width=args.height=null;}
var node=this._makeNode(args.parent,'use',$.extend({x:args.x,y:args.y,width:args.width,height:args.height},args.settings||{}));node.setAttributeNS($.svg.xlinkNS,'href',args.ref);return node;},link:function(parent,ref,settings){var args=this._args(arguments,['ref']);var node=this._makeNode(args.parent,'a',args.settings);node.setAttributeNS($.svg.xlinkNS,'href',args.ref);return node;},image:function(parent,x,y,width,height,ref,settings){var args=this._args(arguments,['x','y','width','height','ref']);var node=this._makeNode(args.parent,'image',$.extend({x:args.x,y:args.y,width:args.width,height:args.height},args.settings||{}));node.setAttributeNS($.svg.xlinkNS,'href',args.ref);return node;},path:function(parent,path,settings){var args=this._args(arguments,['path']);return this._makeNode(args.parent,'path',$.extend({d:(args.path.path?args.path.path():args.path)},args.settings||{}));},rect:function(parent,x,y,width,height,rx,ry,settings){var args=this._args(arguments,['x','y','width','height','rx','ry'],['rx']);return this._makeNode(args.parent,'rect',$.extend({x:args.x,y:args.y,width:args.width,height:args.height},(args.rx?{rx:args.rx,ry:args.ry}:{}),args.settings||{}));},circle:function(parent,cx,cy,r,settings){var args=this._args(arguments,['cx','cy','r']);return this._makeNode(args.parent,'circle',$.extend({cx:args.cx,cy:args.cy,r:args.r},args.settings||{}));},ellipse:function(parent,cx,cy,rx,ry,settings){var args=this._args(arguments,['cx','cy','rx','ry']);return this._makeNode(args.parent,'ellipse',$.extend({cx:args.cx,cy:args.cy,rx:args.rx,ry:args.ry},args.settings||{}));},line:function(parent,x1,y1,x2,y2,settings){var args=this._args(arguments,['x1','y1','x2','y2']);return this._makeNode(args.parent,'line',$.extend({x1:args.x1,y1:args.y1,x2:args.x2,y2:args.y2},args.settings||{}));},polyline:function(parent,points,settings){var args=this._args(arguments,['points']);return this._poly(args.parent,'polyline',args.points,args.settings);},polygon:function(parent,points,settings){var args=this._args(arguments,['points']);return this._poly(args.parent,'polygon',args.points,args.settings);},_poly:function(parent,name,points,settings){var ps='';for(var i=0;i<points.length;i++){ps+=points[i].join()+' ';}
return this._makeNode(parent,name,$.extend({points:$.trim(ps)},settings||{}));},text:function(parent,x,y,value,settings){var args=this._args(arguments,['x','y','value']);if(typeof args.x=='string'&&arguments.length<4){args.value=args.x;args.settings=args.y;args.x=args.y=null;}
return this._text(args.parent,'text',args.value,$.extend({x:(args.x&&isArray(args.x)?args.x.join(' '):args.x),y:(args.y&&isArray(args.y)?args.y.join(' '):args.y)},args.settings||{}));},textpath:function(parent,path,value,settings){var args=this._args(arguments,['path','value']);var node=this._text(args.parent,'textPath',args.value,args.settings||{});node.setAttributeNS($.svg.xlinkNS,'href',args.path);return node;},_text:function(parent,name,value,settings){var node=this._makeNode(parent,name,settings);if(typeof value=='string'){node.appendChild(node.ownerDocument.createTextNode(value));}
else{for(var i=0;i<value._parts.length;i++){var part=value._parts[i];if(part[0]=='tspan'){var child=this._makeNode(node,part[0],part[2]);child.appendChild(node.ownerDocument.createTextNode(part[1]));node.appendChild(child);}
else if(part[0]=='tref'){var child=this._makeNode(node,part[0],part[2]);child.setAttributeNS($.svg.xlinkNS,'href',part[1]);node.appendChild(child);}
else if(part[0]=='textpath'){var set=$.extend({},part[2]);set.href=null;var child=this._makeNode(node,part[0],set);child.setAttributeNS($.svg.xlinkNS,'href',part[2].href);child.appendChild(node.ownerDocument.createTextNode(part[1]));node.appendChild(child);}
else{node.appendChild(node.ownerDocument.createTextNode(part[1]));}}}
return node;},other:function(parent,name,settings){var args=this._args(arguments,['name']);return this._makeNode(args.parent,args.name,args.settings||{});},_makeNode:function(parent,name,settings){parent=parent||this._svg;var node=this._svg.ownerDocument.createElementNS($.svg.svgNS,name);for(var name in settings){var value=settings[name];if(value!=null&&value!=null&&(typeof value!='string'||value!='')){node.setAttribute($.svg._attrNames[name]||name,value);}}
parent.appendChild(node);return node;},add:function(parent,node){var args=this._args((arguments.length==1?[null,parent]:arguments),['node']);var svg=this;args.parent=args.parent||this._svg;args.node=(args.node.jquery?args.node:$(args.node));try{if($.svg._renesis){throw'Force traversal';}
args.parent.appendChild(args.node.cloneNode(true));}
catch(e){args.node.each(function(){var child=svg._cloneAsSVG(this);if(child){args.parent.appendChild(child);}});}
return this;},clone:function(parent,node){var svg=this;var args=this._args((arguments.length==1?[null,parent]:arguments),['node']);args.parent=args.parent||this._svg;args.node=(args.node.jquery?args.node:$(args.node));var newNodes=[];args.node.each(function(){var child=svg._cloneAsSVG(this);if(child){child.id='';args.parent.appendChild(child);newNodes.push(child);}});return newNodes;},_cloneAsSVG:function(node){var newNode=null;if(node.nodeType==1){newNode=this._svg.ownerDocument.createElementNS($.svg.svgNS,this._checkName(node.nodeName));for(var i=0;i<node.attributes.length;i++){var attr=node.attributes.item(i);if(attr.nodeName!='xmlns'&&attr.nodeValue){if(attr.prefix=='xlink'){newNode.setAttributeNS($.svg.xlinkNS,attr.localName||attr.baseName,attr.nodeValue);}
else{newNode.setAttribute(this._checkName(attr.nodeName),attr.nodeValue);}}}
for(var i=0;i<node.childNodes.length;i++){var child=this._cloneAsSVG(node.childNodes[i]);if(child){newNode.appendChild(child);}}}
else if(node.nodeType==3){if($.trim(node.nodeValue)){newNode=this._svg.ownerDocument.createTextNode(node.nodeValue);}}
else if(node.nodeType==4){if($.trim(node.nodeValue)){try{newNode=this._svg.ownerDocument.createCDATASection(node.nodeValue);}
catch(e){newNode=this._svg.ownerDocument.createTextNode(node.nodeValue.replace(/&/g,'&amp;').replace(/</g,'&lt;').replace(/>/g,'&gt;'));}}}
return newNode;},_checkName:function(name){name=(name.substring(0,1)>='A'&&name.substring(0,1)<='Z'?name.toLowerCase():name);return(name.substring(0,4)=='svg:'?name.substring(4):name);},load:function(url,settings){settings=(typeof settings=='boolean'?{addTo:settings}:(typeof settings=='function'?{onLoad:settings}:(typeof settings=='string'?{parent:settings}:(typeof settings=='object'&&settings.nodeName?{parent:settings}:(typeof settings=='object'&&settings.jquery?{parent:settings}:settings||{})))));if(!settings.parent&&!settings.addTo){this.clear(false);}
var size=[this._svg.getAttribute('width'),this._svg.getAttribute('height')];var wrapper=this;var reportError=function(message){message=$.svg.local.errorLoadingText+': '+message;if(settings.onLoad){settings.onLoad.apply(wrapper._container||wrapper._svg,[wrapper,message]);}
else{wrapper.text(null,10,20,message);}};var loadXML4IE=function(data){var xml=new ActiveXObject('Microsoft.XMLDOM');xml.validateOnParse=false;xml.resolveExternals=false;xml.async=false;xml.loadXML(data);if(xml.parseError.errorCode!=0){reportError(xml.parseError.reason);return null;}
return xml;};var loadSVG=function(data){if(!data){return;}
if(data.documentElement.nodeName!='svg'){var errors=data.getElementsByTagName('parsererror');var messages=(errors.length?errors[0].getElementsByTagName('div'):[]);reportError(!errors.length?'???':(messages.length?messages[0]:errors[0]).firstChild.nodeValue);return;}
var parent=(settings.parent?$(settings.parent)[0]:wrapper._svg);var attrs={};for(var i=0;i<data.documentElement.attributes.length;i++){var attr=data.documentElement.attributes.item(i);if(!(attr.nodeName=='version'||attr.nodeName.substring(0,5)=='xmlns')){attrs[attr.nodeName]=attr.nodeValue;}}
wrapper.configure(parent,attrs,!settings.parent);var nodes=data.documentElement.childNodes;for(var i=0;i<nodes.length;i++){try{if($.svg._renesis){throw'Force traversal';}
parent.appendChild(wrapper._svg.ownerDocument.importNode(nodes[i],true));if(nodes[i].nodeName=='script'){$.globalEval(nodes[i].textContent);}}
catch(e){wrapper.add(parent,nodes[i]);}}
if(!settings.changeSize){wrapper.configure(parent,{width:size[0],height:size[1]});}
if(settings.onLoad){settings.onLoad.apply(wrapper._container||wrapper._svg,[wrapper]);}};if(url.match('<svg')){loadSVG($.browser.msie?loadXML4IE(url):new DOMParser().parseFromString(url,'text/xml'));}
else{$.ajax({url:url,dataType:($.browser.msie?'text':'xml'),success:function(xml){loadSVG($.browser.msie?loadXML4IE(xml):xml);},error:function(http,message,exc){reportError(message+(exc?' '+exc.message:''));}});}
return this;},remove:function(node){node=(node.jquery?node[0]:node);node.parentNode.removeChild(node);return this;},clear:function(attrsToo){if(attrsToo){this.configure({},true);}
while(this._svg.firstChild){this._svg.removeChild(this._svg.firstChild);}
return this;},toSVG:function(node){node=node||this._svg;return(typeof XMLSerializer=='undefined'?this._toSVG(node):new XMLSerializer().serializeToString(node));},_toSVG:function(node){var svgDoc='';if(!node){return svgDoc;}
if(node.nodeType==3){svgDoc=node.nodeValue;}
else if(node.nodeType==4){svgDoc='<![CDATA['+node.nodeValue+']]>';}
else{svgDoc='<'+node.nodeName;if(node.attributes){for(var i=0;i<node.attributes.length;i++){var attr=node.attributes.item(i);if(!($.trim(attr.nodeValue)==''||attr.nodeValue.match(/^\[object/)||attr.nodeValue.match(/^function/))){svgDoc+=' '+(attr.namespaceURI==$.svg.xlinkNS?'xlink:':'')+
attr.nodeName+'="'+attr.nodeValue+'"';}}}
if(node.firstChild){svgDoc+='>';var child=node.firstChild;while(child){svgDoc+=this._toSVG(child);child=child.nextSibling;}
svgDoc+='</'+node.nodeName+'>';}
else{svgDoc+='/>';}}
return svgDoc;}});function SVGPath(){this._path='';}
$.extend(SVGPath.prototype,{reset:function(){this._path='';return this;},move:function(x,y,relative){relative=(isArray(x)?y:relative);return this._coords((relative?'m':'M'),x,y);},line:function(x,y,relative){relative=(isArray(x)?y:relative);return this._coords((relative?'l':'L'),x,y);},horiz:function(x,relative){this._path+=(relative?'h':'H')+(isArray(x)?x.join(' '):x);return this;},vert:function(y,relative){this._path+=(relative?'v':'V')+(isArray(y)?y.join(' '):y);return this;},curveC:function(x1,y1,x2,y2,x,y,relative){relative=(isArray(x1)?y1:relative);return this._coords((relative?'c':'C'),x1,y1,x2,y2,x,y);},smoothC:function(x2,y2,x,y,relative){relative=(isArray(x2)?y2:relative);return this._coords((relative?'s':'S'),x2,y2,x,y);},curveQ:function(x1,y1,x,y,relative){relative=(isArray(x1)?y1:relative);return this._coords((relative?'q':'Q'),x1,y1,x,y);},smoothQ:function(x,y,relative){relative=(isArray(x)?y:relative);return this._coords((relative?'t':'T'),x,y);},_coords:function(cmd,x1,y1,x2,y2,x3,y3){if(isArray(x1)){for(var i=0;i<x1.length;i++){var cs=x1[i];this._path+=(i==0?cmd:' ')+cs[0]+','+cs[1]+
(cs.length<4?'':' '+cs[2]+','+cs[3]+
(cs.length<6?'':' '+cs[4]+','+cs[5]));}}
else{this._path+=cmd+x1+','+y1+
(x2==null?'':' '+x2+','+y2+
(x3==null?'':' '+x3+','+y3));}
return this;},arc:function(rx,ry,xRotate,large,clockwise,x,y,relative){relative=(isArray(rx)?ry:relative);this._path+=(relative?'a':'A');if(isArray(rx)){for(var i=0;i<rx.length;i++){var cs=rx[i];this._path+=(i==0?'':' ')+cs[0]+','+cs[1]+' '+
cs[2]+' '+(cs[3]?'1':'0')+','+
(cs[4]?'1':'0')+' '+cs[5]+','+cs[6];}}
else{this._path+=rx+','+ry+' '+xRotate+' '+
(large?'1':'0')+','+(clockwise?'1':'0')+' '+x+','+y;}
return this;},close:function(){this._path+='z';return this;},path:function(){return this._path;}});SVGPath.prototype.moveTo=SVGPath.prototype.move;SVGPath.prototype.lineTo=SVGPath.prototype.line;SVGPath.prototype.horizTo=SVGPath.prototype.horiz;SVGPath.prototype.vertTo=SVGPath.prototype.vert;SVGPath.prototype.curveCTo=SVGPath.prototype.curveC;SVGPath.prototype.smoothCTo=SVGPath.prototype.smoothC;SVGPath.prototype.curveQTo=SVGPath.prototype.curveQ;SVGPath.prototype.smoothQTo=SVGPath.prototype.smoothQ;SVGPath.prototype.arcTo=SVGPath.prototype.arc;function SVGText(){this._parts=[];}
$.extend(SVGText.prototype,{reset:function(){this._parts=[];return this;},string:function(value){this._parts[this._parts.length]=['text',value];return this;},span:function(value,settings){this._parts[this._parts.length]=['tspan',value,settings];return this;},ref:function(id,settings){this._parts[this._parts.length]=['tref',id,settings];return this;},path:function(id,value,settings){this._parts[this._parts.length]=['textpath',value,$.extend({href:id},settings||{})];return this;}});$.fn.svg=function(options){var otherArgs=Array.prototype.slice.call(arguments,1);if(typeof options=='string'&&options=='get'){return $.svg['_'+options+'SVG'].apply($.svg,[this[0]].concat(otherArgs));}
return this.each(function(){if(typeof options=='string'){$.svg['_'+options+'SVG'].apply($.svg,[this].concat(otherArgs));}
else{$.svg._attachSVG(this,options||{});}});};function isArray(a){return(a&&a.constructor==Array);}
$.svg=new SVGManager();})(jQuery);

jQuery.fn.extend({everyTime:function(interval,label,fn,times,belay){return this.each(function(){jQuery.timer.add(this,interval,label,fn,times,belay);});},oneTime:function(interval,label,fn){return this.each(function(){jQuery.timer.add(this,interval,label,fn,1);});},stopTime:function(label,fn){return this.each(function(){jQuery.timer.remove(this,label,fn);});}});jQuery.extend({timer:{guid:1,global:{},regex:/^([0-9]+)\s*(.*s)?$/,powers:{'ms':1,'cs':10,'ds':100,'s':1000,'das':10000,'hs':100000,'ks':1000000},timeParse:function(value){if(value==undefined||value==null)
return null;var result=this.regex.exec(jQuery.trim(value.toString()));if(result[2]){var num=parseInt(result[1],10);var mult=this.powers[result[2]]||1;return num*mult;}else{return value;}},add:function(element,interval,label,fn,times,belay){var counter=0;if(jQuery.isFunction(label)){if(!times)
times=fn;fn=label;label=interval;}
interval=jQuery.timer.timeParse(interval);if(typeof interval!='number'||isNaN(interval)||interval<=0)
return;if(times&&times.constructor!=Number){belay=!!times;times=0;}
times=times||0;belay=belay||false;if(!element.$timers)
element.$timers={};if(!element.$timers[label])
element.$timers[label]={};fn.$timerID=fn.$timerID||this.guid++;var handler=function(){if(belay&&this.inProgress)
return;this.inProgress=true;if((++counter>times&&times!==0)||fn.call(element,counter)===false)
jQuery.timer.remove(element,label,fn);this.inProgress=false;};handler.$timerID=fn.$timerID;if(!element.$timers[label][fn.$timerID])
element.$timers[label][fn.$timerID]=window.setInterval(handler,interval);if(!this.global[label])
this.global[label]=[];this.global[label].push(element);},remove:function(element,label,fn){var timers=element.$timers,ret;if(timers){if(!label){for(label in timers)
this.remove(element,label,fn);}else if(timers[label]){if(fn){if(fn.$timerID){window.clearInterval(timers[label][fn.$timerID]);delete timers[label][fn.$timerID];}}else{for(var fn in timers[label]){window.clearInterval(timers[label][fn]);delete timers[label][fn];}}
for(ret in timers[label])break;if(!ret){ret=null;delete timers[label];}}
for(ret in timers)break;if(!ret)
element.$timers=null;}}}});if(jQuery.browser.msie)
jQuery(window).one("unload",function(){var global=jQuery.timer.global;for(var label in global){var els=global[label],i=els.length;while(--i)
jQuery.timer.remove(els[i],label);}});


var callback=null;function nothing(){}
(function($){$.ioutils={};$.ioutils.nolog=true;$.ioutils.nostats=true;$.ioutils.stats={push:function(h,name,atom){}};$.ioutils.jsonsession=true;$.ioutils.callbacktimeout='6s';$.ioutils.repeats=5;$.bs2i=function(string){return parseInt(''+string);}
$.b01=function(pos,length){var v=0x01;for(var i=0;i<length-1;i++)v=(v<<1)|0x01;for(var i=0;i<(32-pos-length);i++)v=((v<<1)|0x01)^0x01;return v;}
$.bmask=function(v,pos,length){var mask=$.b01(pos,length);return v&mask;}
$.bhead=function(v,bits){return $.bmask(v,0,bits);}
$.btail=function(v,bits){return $.bmask(v,32-bits,bits);}
$.bbitstring=function(number,length,separatelength){if(!length)length=32;if(!separatelength)separatelength=0;if($.isObject(number)){var s='';for(var i in number)s+=$.bbitstring(number[i],length);return s;}
var out='';var separator=separatelength;for(var i=0;i<length;i++){var number2=number&0x01;if(number2)out='1'+out;else out='0'+out;separator--;if(separator==0&&i<length-1){out='.'+out;separator=separatelength;}
number=number>>1;}
return out;}
$.bpack=function(bytes){var chars=[];for(var i=0;i<bytes.length;i+=2){chars.push(((bytes[i]&0xff)<<8)|(bytes[i+1]&0xff));}
var s='';for(var i=0;i<chars.length;i++)s+=String.fromCharCode(chars[i]);return s;}
$.bunpack=function(s){var bytes=[];for(var i=0;i<s.length;i++){var char=s.charCodeAt(i);bytes.push((char>>8)&0xff);bytes.push(char&0xff);}
return bytes;}
$.log=function(one,two,three,four,five,six,seven){if($.ioutils.nolog)return;if(!window.console)return;if(!console)return;if(!console.log)return;if(!$.isVoid(seven))return console.log(one,two,three,four,five,six,seven);if(!$.isVoid(six))return console.log(one,two,three,four,five,six);if(!$.isVoid(five))return console.log(one,two,three,four,five);if(!$.isVoid(four))return console.log(one,two,three,four);if(!$.isVoid(three))return console.log(one,two,three);if(!$.isVoid(two))return console.log(one,two);if(!$.isVoid(one))return console.log(one);}
$.log2=function(one,two,three,four,five,six,seven){if($.ioutils.nolog)return;if(!window.console)return;if(!console)return;if(!console.log)return;if(!$.isVoid(one)&&!$.isString(one)&&!$.isNumber(one)&&$.hk(one)&&$.hk(one).length&&!one.get)one=$.json2h($.h2json(one));if(!$.isVoid(two)&&!$.isString(two)&&!$.isNumber(two)&&$.hk(two)&&$.hk(two).length&&!two.get)two=$.json2h($.h2json(two));if(!$.isVoid(three)&&!$.isString(three)&&!$.isNumber(three)&&$.hk(three)&&$.hk(three).length&&!three.get)three=$.json2h($.h2json(three));if(!$.isVoid(four)&&!$.isString(four)&&!$.isNumber(four)&&$.hk(four)&&$.hk(four).length&&!four.get)four=$.json2h($.h2json(four));if(!$.isVoid(five)&&!$.isString(five)&&!$.isNumber(five)&&$.hk(five)&&$.hk(five).length&&!five.get)five=$.json2h($.h2json(five));if(!$.isVoid(six)&&!$.isString(six)&&!$.isNumber(six)&&$.hk(six)&&$.hk(six).length&&!six.get)six=$.json2h($.h2json(six));if(!$.isVoid(seven)&&!$.isString(seven)&&!$.isNumber(seven)&&$.hk(seven)&&$.hk(seven).length&&!seven.get)seven=$.json2h($.h2json(seven));if(!$.isVoid(seven))return console.log(one,two,three,four,five,six,seven);if(!$.isVoid(six))return console.log(one,two,three,four,five,six);if(!$.isVoid(five))return console.log(one,two,three,four,five);if(!$.isVoid(four))return console.log(one,two,three,four);if(!$.isVoid(three))return console.log(one,two,three);if(!$.isVoid(two))return console.log(one,two);if(!$.isVoid(one))return console.log(one);}
$.die=function(error){$.log(error);dierightnow();}
$.iotime=function(other){return(new Date()).getTime()-(other?(other.getTime?other.getTime():other):0);}
$.tsystem=function(){return $.iotime();}
$.tets=function(ms,dateonly,timeonly){var d=new Date(ms?ms:$.iotime());var yyyy=d.getFullYear();var MM=''+(d.getMonth()+1);if(MM.length==1)MM='0'+MM;var DD=''+d.getDate();if(DD.length==1)DD='0'+DD;var hh=''+d.getHours();if(hh.length==1)hh='0'+hh;var mm=''+d.getMinutes();if(mm.length==1)mm='0'+mm;var ss=''+d.getSeconds();if(ss.length==1)ss='0'+ss;var date=yyyy+'-'+MM+'-'+DD;var time=hh+':'+mm+':'+ss;if(dateonly)return date;if(timeonly)return time;return date+' '+time;}
$.LSset=function(key,value){localStorage.setItem(key,value);return key.length+value.length;}
$.LSget=function(key){return localStorage.getItem(key);}
$.LSremove=function(key){v=localStorage.getItem(key);if(!v)return null;localStorage.removeItem(key);return key.length+v.length;}
$.LSclear=function(){localStorage.clear();}
$.canvasmake=function(one,fillcolor,fillalpha,strokecolor,strokealpha,width,pos){if(one&&one.length&&one.length>0){one=$.lm(one);if(one.length)corner=one.shift();if(one.length)fillcolor=one.shift();if(one.length)fillalpha=one.shift();if(one.length)strokecolor=one.shift();if(one.length)strokealpha=one.shift();if(one.length)width=one.shift();if(one.length)pos=one.shift();}
else corner=one;if(!corner)corner=1;if(!fillcolor)fillcolor='#fff';if(!fillalpha)fillalpha=1.0;if(!strokecolor)strokecolor='#fff';if(!strokealpha)strokealpha=1.0;if(!pos)pos='unshift';var info={corner:corner,pos:pos,canvas:{fillStyle:'',strokeStyle:'',lineWidth:width}};var map={'0':0,'1':1,'2':2,'3':3,'4':4,'5':5,'6':6,'7':7,'8':8,'9':9,'a':10,'b':11,'c':12,'d':13,'e':14,'f':15};var one=map[fillcolor.substr(1,1)];one+=one*16;var two=map[fillcolor.substr(2,1)];two+=two*16;var three=map[fillcolor.substr(3,1)];three+=three*16;info.canvas.fillStyle='rgba( '+one+', '+two+', '+three+', '+fillalpha+')';one=map[strokecolor.substr(1,1)];one+=one*16;two=map[strokecolor.substr(2,1)];two+=two*16;three=map[strokecolor.substr(3,1)];three+=three*16;info.canvas.strokeStyle='rgba( '+one+', '+two+', '+three+', '+strokealpha+')';return info;}
$.rgba2rgb=function(rgba){var split=$.s2l(rgba,',');var split2=$.s2l(split[0],'(');return'rgb( '+$.strim(split2[1])+', '+$.strim(split[1])+', '+$.strim(split[2])+')';}
$.hex2rgb=function(hex,raw){var map={'0':0,'1':1,'2':2,'3':3,'4':4,'5':5,'6':6,'7':7,'8':8,'9':9,'a':10,'A':10,'b':11,'B':11,'c':12,'C':12,'d':13,'D':13,'e':14,'E':14,'f':15,'F':15};var one=map[hex.substr(1,1)];one+=one*16;var two=map[hex.substr(2,1)];two+=two*16;var three=map[hex.substr(3,1)];three+=three*16;return raw?[one,two,three]:'rgb( '+one+', '+two+', '+three+')';}
$.hex2rgba=function(hex,opacity,raw){if(!opacity)opacity=1.0;var map={'0':0,'1':1,'2':2,'3':3,'4':4,'5':5,'6':6,'7':7,'8':8,'9':9,'a':10,'A':10,'b':11,'B':11,'c':12,'C':12,'d':13,'D':13,'e':14,'E':14,'f':15,'F':15};var one=map[hex.substr(1,1)];one+=one*16;var two=map[hex.substr(2,1)];two+=two*16;var three=map[hex.substr(3,1)];three+=three*16;return raw?[one,two,three,opacity]:'rgba( '+one+', '+two+', '+three+', '+opacity+')';}
$.rgbagradient=function(stops){var map={'0':0,'1':1,'2':2,'3':3,'4':4,'5':5,'6':6,'7':7,'8':8,'9':9,'a':10,'A':10,'b':11,'B':11,'c':12,'C':12,'d':13,'D':13,'e':14,'E':14,'f':15,'F':15};var props={};for(var stop in stops){var color=stops[stop][0];var one=map[color.substr(1,1)];one+=one*16;var two=map[color.substr(2,1)];two+=two*16;var three=map[color.substr(3,1)];three+=three*16;props[stop]='rgba( '+one+', '+two+', '+three+', '+stops[stop][1]+')';}
return props;}
$.isBoolean=function(object){if(typeof(object)=='boolean')return true;return false;}
$.isVoid=function(object){if(object===null||typeof(object)=='undefined')return true;return false;}
$.isObject=function(object){if(typeof(object)=='object'&&object!==null)return true;return false;}
$.isArray=function(object){if(!$.isObject(object))return false;var keys=$.hk(object);if(object.length&&object.length>0&&$.isNumber(object.length)&&object.length==keys.length)return true;}
$.isString=function(object){if(typeof(object)=='string')return true;return false;}
$.isNumber=function(object){if(typeof(object)=='number')return true;return false;}
$.isEmptyString=function(object){if(!$.isString(object))return false;if(!object.length)return true;return false;}
$.ttl=function(text,delimiter,base64,donotskipempty){if($.isVoid(text)||!$.isString(text))return[];if(!text.length)return[];if(base64)text=$.s642s(text);if(!delimiter&&delimiter!=='')delimiter=',';var list1=text.split(delimiter);if(donotskipempty)return list1;var list2=[];for(var i in list1){var v=list1[i];if(v==''||v==' '||v=="\n"||v=="\t")continue;list2.push($.trim(v));}
return list2;}
$.ltt=function(list,delimiter,base64){if(!delimiter&&delimiter!=='')delimiter=',';var text='';var d='';for(var i in list){text+=d+list[i];d=delimiter;}
if(base64)return $.s2s64(text);return text;}
$.htt=function(hash,delimiter1,delimiter2,base64,base64keys){if(!delimiter1)delimiter1=',';if(!delimiter2)delimiter2='=';var keys=$.hk(hash);var values=$.hv(hash);if(!keys.length)return'';var L=[];while(keys.length){var k=keys.shift();var v=values.shift();if(base64keys)for(var i in base64keys)if(k==base64keys[i])v=$.s2s64(v);L.push(k+delimiter2+v);}
var S=$.l2s(L,delimiter1,base64);return S;}
$.tth=function(text,delimiter1,delimiter2,base64,base64keys){if(!delimiter1)delimiter1=',';if(!delimiter2)delimiter2='=';var L1=$.s2l(text,delimiter1,base64);var H={};for(var i in L1){var L2=$.s2l(L1[i],delimiter2);if(!L2||!L2.length||L2.length!==2)continue;var k=$.trim(L2.shift());var v=L2.shift();if(base64keys)for(var y in base64keys)if(k==base64keys[y])v=$.s642s(v);H[k]=$.trim(v);}
return H;}
$.s2l=function(text,delimiter,base64,skipempty){if($.isVoid(text)||!$.isString(text))return[];if(base64)text=$.s642s(text);if(!delimiter&&delimiter!=='')delimiter=',';var list1=text.split(delimiter);if(!skipempty)return list1;var list2=[];for(var i in list1){var v=list1[i];if(v==''||v==' '||v=="\n"||v=="\t")continue;list2.push($.trim(v));}
return list2;}
$.l2s=function(list,delimiter,base64){if(!delimiter&&delimiter!=='')delimiter=',';var text='';var d='';for(var i in list){text+=d+list[i];d=delimiter;}
if(base64)return $.s2s64(text);return text;}
$.s2sl=function(text,chunksize){var out=[];while(text.length){if(text.length<chunksize){out.push(text.substr(0));text='';}
else{out.push(text.substr(0,chunksize));text=text.substr(chunksize);}}
return out;}
$.h2json=function(hash,base64,base64keys,singlequotestrings){if(!hash)return'';var h=$.hm(hash,null,true);if(base64keys)for(var i in base64keys)if(h[base64keys[i]])h[base64keys[i]]=$.s2s64(h[base64keys[i]]);if(singlequotestrings)for(var i in h)if($.isString(h[i]))h[i]="'"+h[i]+"'";var value=$.toJSON(h);if(base64)value=$.s2s64(value);return value;}
$.json2h=function(value,base64,base64keys){if(base64)value=$.s642s(value);var h=$.evalJSON(value);if(base64keys)for(var i in base64keys)if(h[base64keys[i]])h[base64keys[i]]=$.s642s(h[base64keys[i]]);return h;}
$.any2json=function(v,base64){var v2=$.toJSON(v);return base64?$.s2s64(v2):v2;}
$.json2any=function(v,base64){var v2=base64?$.s642s(v):v;return v2&&$.isString(v2)?$.evalJSON(v2):{};}
$.h2s=function(hash,delimiter1,delimiter2,base64,base64keys){if(!delimiter1)delimiter1=',';if(!delimiter2)delimiter2='=';var keys=$.hk(hash);var values=$.hv(hash);if(!keys.length)return'';var L=[];while(keys.length){var k=keys.shift();var v=values.shift();if(base64keys)for(var i in base64keys)if(k==base64keys[i])v=$.s2s64(v);L.push(k+delimiter2+v);}
var S=$.l2s(L,delimiter1,base64);return S;}
$.s2h=function(text,delimiter1,delimiter2,base64,base64keys){if(!delimiter1)delimiter1=',';if(!delimiter2)delimiter2='=';var L1=$.s2l(text,delimiter1,base64);var H={};for(var i in L1){var L2=$.s2l(L1[i],delimiter2);if(L2.length==1)continue;var k=$.trim(L2.shift());var v=L2.shift();while(L2.length)v+=L2.shift();if(base64keys)for(var y in base64keys)if(k==base64keys[y])v=$.s642s(v);H[k]=$.trim(v);}
return H;}
$.hr=function(one,two,keepEmptyStrings){var hash={};if($.isArray(one))hash=[];for(var key in one){if($.isVoid(two)||$.isVoid(two[key])){if($.isObject(one[key])){hash[key]=$.hr(one[key],null,keepEmptyStrings);continue;}
if($.isEmptyString(one[key])&&!keepEmptyStrings)continue;hash[key]=one[key];continue;}
if(typeof(one[key])!==typeof(two[key])){if($.isObject(one[key])){hash[key]=$.hr(one[key],null,keepEmptyStrings);continue;}
if($.isEmptyString(one[key])&&!keepEmptyStrings)continue;hash[key]=one[key];continue;}
if($.isObject(one[key])){hash[key]=$.hr(one[key],two[key],keepEmptyStrings);continue;}
if(!$.isString(one[key])){hash[key]=two[key];continue;}
if($.isEmptyString(one[key])){if(!two[key]&&!keepEmptyStrings)continue;if(two[key]&&$.isEmptyString(two[key])&&!keepEmptyStrings)continue;}
hash[key]=two[key];}
return hash;}
$.hm=function(one,two,keepEmptyStrings,debug){if(debug)$.log('hashMerge : merging:',one,two);var hash={};var keys=[];if(one)for(var key in one)keys.push(key);if(two)for(var key in two)if((one&&$.isVoid(one[key]))||!one)keys.push(key);if(debug)$.log('hashMerge : full list of keys:',keys);if($.isArray(one)||$.isArray(two))hash=[];for(var i=0;i<keys.length;i++){var key=keys[i];if(debug)$.log('hashMerge :   working key=',key);if($.isVoid(two)||$.isVoid(two[key])){if(debug)$.log('hashMerge :    either two or two[ key] is void');if($.isObject(one[key])){if(debug)$.log('hashMerge :    one[ key] is object, delv:',one[key]);hash[key]=$.hm(one[key],null,keepEmptyStrings,debug);continue;}
if(debug)$.log('hashMerge :    one[ key] is not object, check for empty string:',one[key]);if($.isEmptyString(one[key])&&!keepEmptyStrings)continue;if(debug)$.log('hashMerge :    one[key] is not empty string, add value:',one[key]);hash[key]=one[key];continue;}
if($.isVoid(one)||$.isVoid(one[key])){if(debug)$.log('hashMerge :    one or one[key] is void');if($.isObject(two[key])){if(debug)$.log('hashMerge :    two[ key] is object, delv:',two[key]);hash[key]=$.hm(null,two[key],keepEmptyStrings,debug);continue;}
if(debug)$.log('hashMerge :    two[key] is not object, check for empty string:',two[key]);if($.isEmptyString(two[key])&&!keepEmptyStrings)continue;if(debug)$.log('hashMerge :    two[key] is not empty string, add key:',two[key]);hash[key]=two[key];continue;}
if(typeof(one[key])!==typeof(two[key])){if($.isObject(one[key])){hash[key]=$.hm(one[key],null,keepEmptyStrings,debug);continue;}
if($.isEmptyString(one[key])&&!keepEmptyStrings)continue;hash[key]=one[key];continue;}
if($.isObject(one[key])){if(debug)$.log('hashMerge :    one[key] is object:',one[key]);hash[key]=$.hm(one[key],two[key],keepEmptyStrings,debug);continue;}
if(!$.isString(one[key])){if(debug)$.log('hashMerge :    one key is not object but is not string:',one[key]);hash[key]=two[key];continue;}
if(debug)$.log('hashMerge :    one[key] is definitely string:',one[key]);if($.isEmptyString(one[key])){if(debug)$.log('hashMerge :    one[key] is empty string, check two:',one[key],two[key]);if(!two[key]&&!keepEmptyStrings)continue;if(two[key]&&$.isEmptyString(two[key])&&!keepEmptyStrings)continue;}
if(debug)$.log('hashMerge :    adding new key from two[key]:',key,two[key]);hash[key]=two[key];}
if(debug)$.log('resulting object:',hash);return hash;}
$.hd=function(first,keys){var hash={};for(var key in first){if(!keys){hash[key]=first[key];continue;}
var found=false;for(var i=0;i<keys.length;i++){if(key==keys[i]){found=true;break;}}
if(found)continue;hash[key]=first[key];}
return hash;}
$.hk=function(hash){var list=[];for(var key in hash)list.push(key);return list;}
$.hv=function(hash){var list=[];for(var key in hash)list.push(hash[key]);return list;}
$.hrk=function(hash,keys){var out={};if($.isString(keys))keys=[keys];for(var k in hash){var found=false;for(var k2 in keys)if(keys[k2]==k){found=true;break;}
if(found)continue;out[k]=hash[k];}
return out;}
$.s2s64=function(value){return btoa(value);}
$.s642s=function(value){return atob(value);}
$.s2s64c=function(value,c,alreadybase64){LZWAsync.compress({input:alreadybase64?value:$.s2s64(value),output:c,dict:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="});}
$.s64c2s=function(value,c,donotunbase64){LZWAsync.decompress({input:value,output:function(v){c(donotunbase64?v:$.s642s(v))},dict:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="});}
$.sfill=function(s,length,filling,tail){s=''+s;while(s.length<length)s=(tail?'':(filling?filling:'0'))+s+(tail?(filling?filling:'0'):'');return s;}
$.sunfill=function(s,filling,tail){s=''+s;if(tail)return $.sunfilltail(s,filling);else return $.sunfillhead(s,filling);}
$.sunfillhead=function(s,filling){if(!filling)filling='0';if(s.substr(0,1)==filling&&s.length>1)s=s.substr(1);}
$.sunfilltail=function(s,filling){if(!filling)filling='0';if(s.substr(s.length-1)==filling&&s.length>1)s=s.substr(0,s.length-1);}
$.hlm=function(hl){var h={};for(var i in hl)for(key in hl[i])h[key]=hl[i][key];return h;}
$.hltl=function(hl,key){var L=[];for(var i in hl)for(var k in hl[i])if(k==key)L.push(hl[i][k]);return L;}
$.hlth=function(hl,kkey,vkey){var H={};for(var i in hl)H[hl[i][kkey]]=hl[i][vkey];return H;}
$.hlf=function(hl,key,value){var hl2=[];for(var i in hl){if(key&&$.isVoid(hl[i][key]))continue;if(key&&value&&hl[i][key]!=value)continue;hl2.push(hl[i]);}
return hl2;}
$.hlremove=function(hl,key,value){var hl2=[];for(var i in hl){if(key&&$.isVoid(value)&&!$.isVoid(hl[i][key]))continue;if(key&&!$.isVoid(value)&&!$.isVoid(hl[i][key])&&hl[i][key]==value)continue;hl2.push(hl[i]);};return hl2;}
$.hvak=function(h,donotoverwrite,value){if(!value)value=null;var h2={};for(var k in h){if(donotoverwrite&&h2[h[k]])continue;h2[h[k]]=value===null?k:value;}
return h2;}
$.hl2b64jsonl=function(hl){var out='';for(var i=0;i<hl.length;i++)out+=$.h2json(hl[i],true)+"\n";return out;}
$.b64jsonl2hl=function(text){var L=$.s2l(text,"\n");var info=[];for(var i=0;i<L.length;i++)if($.trim(L[i]).length)info.push($.json2h(L[i],true));return info;}
$.hpath=function(h,path){var ks=[path];if($.isArray(path))ks=path;var type=$.isArray(path);var vs=[];for(var i=0;i<ks.length;i++){var L=$.s2l(ks[i],'.');var h2=h;while(L.length){var leg=L.shift();if(!h2[leg])return null;h2=h2[leg];}
vs.push(h2);}
return type?vs:vs[0];}
$.lm=function(first,second){var list=[];for(var i=0;i<first.length;i++)list.push(first[i]);if(!second)return list;for(var i=0;i<second.length;i++)list.push(second[i]);return list;}
$.lsort=function(L,bigtosmall){L.sort(function(a,b){return bigtosmall?parseFloat(b)-parseFloat(a):parseFloat(a)-parseFloat(b)})}
$.hlsort=function(hl,k,bigtosmall){var ks=$.hk(hl);var vs=$.hltl(hl,k);for(var i=0;i<vs.length;i++)if($.isString(vs[i]))vs[i]=parseFloat(''+vs[i]);var v2k={};for(var i=0;i<vs.length;i++){var k=ks[i];var v=''+vs[i];if(!v2k[v])v2k[v]=[];v2k[v].push(k);}
$.lsort(vs,bigtosmall);$.log('vs',$.ltt(vs));var hl2=[];for(var i in vs){var v=''+vs[i];while(v2k[v]&&v2k[v].length){var k=v2k[v].shift();hl2.push(hl[k]);}}
return hl2;}
$.textdim=function(text,css){var $dummy=$('body').ioover($.hm({position:'absolute',right:'-10px',top:'0px',width:'auto',height:'auto'},css)).append(text);var h={height:$dummy.height(),width:$dummy.width()};$dummy.remove();return h;}
$.strim=function(text){var list=$.s2l(text,' ',null,true);if(!list.length)return'';return $.l2s(list,' ');}
$.strmailto=function(email,subject,body){var text=email+'?subject='+subject+'&body='+body;var setup={'://':'%3A%2F%2F','/':'%2F',':':'%3A',' ':'%20',',':'%2C',"\n":'%0A','=':'%3D','&':'%26','#':'%23','"':'%22'}
for(var k in setup)text=$.l2s($.s2l(text,k),setup[k]);return text;}
$.mathMin=function(list){if(!list||!list.length)return 0;var min=null;for(var i=0;i<list.length;i++){if(min===null)min=list[i];if(list[i]<min)min=list[i];}
return min;}
$.mathMax=function(list){if(!list||!list.length)return 0;var max=null;for(var i=0;i<list.length;i++){if(max===null)max=list[i];if(list[i]>max)max=list[i];}
return max;}
$.mathAvg=function(list,round){if(!list||!list.length)return 0;var sum=0;for(var i=0;i<list.length;i++)sum+=$.isNumber(list[i])?list[i]:parseFloat(list[i]);return round?Math.round(sum / list.length):sum / list.length;}
$.mathRound=function(number,round){if(!round)round=0;var s=''+number;if($.s2l(s,'.').length==1)return number;var L=$.s2l(s,'.');if(!round)L.pop();else L[1]=L[1].substr(0,round);return parseFloat($.l2s(L,'.'));}
$.mathScaleFrame=function(inprops){var props=$.hr({width:100,height:100,margintop:5,marginleft:5,marginbottom:5,marginright:5,xmin:0,xmax:100,ymin:0,ymax:100},inprops);var frame={};frame.props=props;frame.scalex=function(x){var temp=x-this.props.xmin;temp /=this.props.xmax-this.props.xmin;temp*=this.props.width-this.props.marginleft-this.props.marginright;temp+=this.props.marginleft;return temp;}
frame.scaley=function(y){return this.props.height-this.props.marginbottom
-((y-this.props.ymin)/(this.props.ymax-this.props.ymin))*(this.props.height-this.props.margintop-this.props.marginbottom);}
frame.marginTop=function(){return this.props.margintop;}
frame.marginRight=function(){return this.props.marginright;}
frame.marginBottom=function(){return this.props.marginbottom;}
frame.marginLeft=function(){return this.props.marginleft;}
frame.lowx=function(){return this.props.marginleft;}
frame.highx=function(){return this.props.width-this.props.marginright;}
frame.lowy=function(){return this.props.height-this.props.marginbottom;}
frame.highy=function(){return this.props.margintop;}
return frame;}
$.mathCurveSlowUpFastDown=function(value,count){var list=[];var range=2;var skew=0.3;var shift=0;var q=range / skew;var u=shift;var step=30 / count;var sum=0;var min=null;for(var i=-20;i<=10;i+=step){var one=(1 /(q*Math.sqrt(2*3.14)));var two=Math.pow(i-u,2);var three=2*Math.pow(q,2);var four=Math.exp(-two / three);var five=Math.exp(four);var sample=one*five;if(min===null)min=sample;if(sample<min)min=sample;list.push(sample);}
for(var i=0;i<list.length;i++){list[i]=list[i]-min;sum+=list[i];}
for(var i=0;i<list.length;i++){list[i]=value*(list[i]/ sum);}
return list;}
$.mathRandom=function(length){if(!length)length=10;var out='';for(var i=0;i<length;i++){out+=''+Math.round(Math.random()*10)+'';}
return out;}
$.mathRandomInt=function(min,max){return min+Math.floor(Math.random()*(max-min));}
$.mathShuffle=function(o){for(var j,x,i=o.length;i;j=parseInt(Math.random()*i),x=o[--i],o[i]=o[j],o[j]=x);return o;}
$.mathCurve=function(from,to,speed){if(!speed)speed='normal';var L=[];var L2=$.s2l(''+from,'.');L.push(L2.length==2?L2[1].length:0);L2=$.s2l(''+to,'.');L.push(L2.length==2?L2[1].length:0);decimals=$.mathMax(L)+1;from=parseFloat(''+from);two=parseFloat(''+to);var c1=1;var c2=1;for(var i=0;i<decimals;i++){c1*=10;c2 /=10;}
var setup={'fast':[5,0.5],'normal':[10,0.3],'slow':[20,0.2]};var diff=to-from;L=[from];for(var i=0;i<setup[speed][0]-1;i++){var diff2=diff*(1-setup[speed][1]);from+=diff-diff2;diff=diff2;from=Math.round(c1*from)/ c1;L.push(from);}
L.push(to);return L;}
$.mathRotate=function(r,a){var h={};while(a>360)a-=360;var cos=Math.cos(2*3.14159265*(a / 360));h.x=Math.round(r*cos);h.y=Math.round(Math.sqrt(Math.pow(r,2)-Math.pow(h.x,2)));if(a>180)h.y=-h.y;return h;}
$.domWrapInner=function(dom,relative){var $inner=$('<div style="position:absolute;top:0px;left:0px;width:100%;height:100%;"></div>');if(relative)$inner.css('position','relative');$inner.append($(dom).contents());$(dom).append($inner);return $inner.get(0);}
$.domIsEmpty=function(dom){var kids=$(dom).children().get();if(!kids.length)return true;return false;}
$.domAvoidZeroSize=function(dom){if($(dom).width()==0)$(dom).css('width','10em');if($(dom).height()==0)$(dom).css('height','1.4em');}
$.domPopup=function(title,url,x,y,w,h){if(!x)x=Math.round(Math.random()*400+10);if(!y)y=Math.round(Math.random()*300+10);if(!w)w=500;if(!h)h=500;return window.open(url,name,'top='+y+',left='+x+',width='+w+',height='+h+',resizable,scrollbars');}
$.domGetRelSize=function(what){return{"width":Math.round(100*(what.width()/ what.parent().width())),"height":Math.round(100*(what.height()/ what.parent().height())),"top":Math.round(100*(what.position().top / what.parent().height())),"left":Math.round(100*(what.position().left / what.parent().width()))}}
$.domGetPagePos=function($dom){var $box=$dom;var POS=$box.position();while($box.parent().isindom()&&$box.parent().get(0).tagName!='body'&&$box.parent().get(0).tagName!='BODY'){$box=$box.parent();var pos=$box.position();POS.left+=pos.left;POS.top+=pos.top;}
for(var k in POS)POS[k]=Math.round(POS[k]);return POS;}
$.rurl=function(url,length){if(!length)return url;if(!url||!$.isString(url))return url;if(url.indexOf('?')!==-1)url+='&';else url+='?';return url+$.mathRandom(length);}
$.curl=function(actions,random,burl){return $.rurl((burl?burl:$.io.burl)+'/'+(actions?actions:'actions.php'),random?10:0);}
$.changeurl=function(url){var one=function(){var $box=$('body').ioover({position:'absolute',right:'101%',width:'10px'});var $form=$box.ioover({},'form',{action:$.rurl(url,5),name:'redirectform'});$form.submit();$box.stopTime().oneTime('1s',function(){})};one();}
$.jsload=function(url,call,timeoutc){var one=function(counter){if(counter--<0){if(timeoutc)timeoutc();return;}
var stats={type:'ioutils.jsload',time:$.iotime()}
var $box=$('body').ioover({position:'absolute',right:'101%',width:'10px'})
$box.stopTime().oneTime('2s',function(){$box.remove();one(counter);})
return $.getScript($.rurl(url),function(){$box.stopTime();$box.remove();if($.ioutils.stats)$.ioutils.stats.push(stats);if(call)call();});};one(5);}
$.jsloadbytag=function(url){var script=document.createElement("script");script.src=$.rurl(url,5);var head=document.getElementsByTagName("head")[0];head.appendChild(script);return script;}
$.jsonload=function(url,one,two,three,four,five){var method='post';var c=null;var http={};var timeout=$.ioutils.callbacktimeout;var failhash={errs:'jsonload() timeouted of bad data format'};if(one){c=one;}
if(two){http=one;c=two;}
if(three){http=one;timeout=two;c=three;}
if(four){http=one;timeout=two;method=three;c=four;}
if(five){http=one;timeout=two;method=three;failhash=four;c=five;}
if($.hk(http).length&&!http.rand)http.rand=$.mathRandom(5);else url=$.rurl(url,5);var http2={};if(http&&!$.ioutils.nostats)for(var k in http)if(($.isString(http[k])&&http[k].length<100)||$.isNumber(http[k])||$.isBoolean(http[k]))http2[k]=http[k];var stats={type:'ioutils.jsonload',url:url,method:method,http:http2,timeout:timeout,time:$.iotime()}
if($.ioutils.jsonsession&&$.io.session)http.ss=$.s2s64($.toJSON($.io.session));var $box=$('BODY').ioover().css({width:'1px',height:'1px'})
if(method=='post')$.post(url,http,function(json){if($box.isindom())$box.stopTime().remove();if(c)c(json);stats[status]=json?(c?'ok':'ok.late'):'nok';$.ioutils.stats.push(stats);},'json');else $.get(url,http,function(json){if($box.isindom())$box.stopTime().remove();if(c)c(json&&$.hk(json).length?json:failhash);stats[status]=json?(c?'ok':'ok.late'):'nok';$.ioutils.stats.push(stats);},'json');$box.oneTime(parseInt(''+timeout)+'s',function(){if($box.isindom())$box.stopTime().empty().remove();if(!$.ioutils.nolog)$.log(1,'JSONLOAD ERROR: timeout['+timeout+']s passed, but no data recieved, return FAILHASH, url/http:',url,http);c(failhash);c=null;stats[status]='timeout';$.ioutils.stats.push(stats);})}
$.jsonloadold=function(url,one,two,three,four,five){var method='post';var c=null;var http={};var timeout=5;var failhash={errs:'json load/parse error'};if(one){c=one;}
if(two){http=one;c=two;}
if(three){http=one;timeout=two;c=three;}
if(four){http=one;timeout=two;method=three;c=four;}
if(five){http=one;timeout=two;method=three;failhash=four;c=five;}
url=$.rurl(url,5);var $box=$('BODY').ioover().css({width:'1px',height:'1px'})
$box.oneTime(timeout+'s',function(){$box.remove();$.log(1,'JSONLOAD ERROR: timeout['+timeout+']s passed, but no data recieved, return FAILHASH');c(failhash);})
if(method=='post')$.post(url,http,function(json){var props=eval('('+json+')');$box.stopTime().remove();if(c)c(props);},'text');else $.get(url,http,function(json){var props=eval('('+json+')');$box.stopTime().remove();if(c)c(props);},'text');}
$.blobload=function(url,c,type){var xhr=new XMLHttpRequest();xhr.open('GET',$.rurl(url,5),true);xhr.responseType='blob';xhr.onload=function(e){if(this.status!==200)return c(null);var blob=new Blob([this.response],{type:type});c(blob);}
xhr.send();}
$.arraybufferload=function(url,c){var one=function(counter){if(counter--<0)return c(null);var xhr=null;try{xhr=new XMLHttpRequest();}
catch(e){return one(counter);}
xhr.open('GET',$.rurl(url,5),true);xhr.responseType='arraybuffer';xhr.onload=function(e){if(this.status!==200)return one(counter);var data
try{data=new Uint8Array(this.response);c(data);}
catch(e){console.log('arraybufferload() error',e);return one(counter);}}
xhr.onerror=function(e){return one(counter);}
xhr.send();};one(5);}
$.jsremote=function(url,http,c,timeout,b64json){var stats={type:'ioutils.jsremote',time:$.iotime(),url:url,http:http,timeout:timeout}
callback=function(data){callback=null;$('body').stopTime();c(data===null?data:(b64json&&data?$.json2h(data,true):data));stats.status='ok';if($.ioutils.stats)$.ioutils.stats.push(stats);}
if(!timeout)timeout=$.ioutils.callbacktimeout;var del='?';if(http)for(var k in http){url+=del+k+'='+http[k];del='&';}
$.jsloadbytag($.rurl(url,5));$('body').stopTime().oneTime(timeout,function(){if(callback)callback(null);callback=null;stats.status='timeout';if($.ioutils.stats)$.ioutils.stats.push(stats)})}
$.jsvoid=function(){}})(jQuery);


(function($){$.iobase={};$.fn.jsonloadbytag=function(url,c){var $me=$(this).first();var $tag;callback=function(h){$me.stopTime();callback=null;$tag.remove();c(h?$.json2h(h,true):null);}
$me.stopTime().oneTime($.ioutils.callbacktimeout,function(){callback(null);})
$tag=$($.jsloadbytag(url));}
$.fn.grid=function(rows,cols,ground,donec,spacer,padding,cellcss,events){var me=$(this).eq(0);if(!spacer)spacer=1;if(!padding)padding=1;if(!ground)ground='#000,0.2';if(!$.isArray(cols))cols=[cols];if($.isString(rows))rows=$.ttl(rows);for(var i in cols)if($.isString(cols[i]))cols[i]=$.ttl(cols[i]);var a=me.iomakegui(null,'IOGRID',events,donec);a.cellcss=cellcss;a.outerboxes=[];a.innerboxes=[];a.inner2=a.inner;a.inner=function(row,col){var me=this;if($.isVoid(row)&&$.isVoid(col))return this.inner2();return me.innerboxes[row][col];}
a.outer2=a.outer;a.outer=function(row,col){var me=this;if($.isVoid(row)&&$.isVoid(col))return this.outer2();return me.outerboxes[row][col];}
a.flatinner=function(){var me=this;var L=[];for(var row in me.innerboxes){for(var col in me.innerboxes[row])L.push(me.innerboxes[row][col]);}return L;}
a.flatouter=function(){var me=this;var L=[];for(var row in me.outerboxes){for(var col in me.outerboxes[row])L.push(me.outerboxes[row][col]);}return L;}
a.start=function(reload){var me=this;var row=0;var y=0;var h=100-(rows.length-1)*spacer;me.outer().ioloop(1,'1ms',function(dom,value,sleep,c){if(row==rows.length){c();if(!reload)me.tell('load',me);return;}
var setup=cols[row]?cols[row]:cols[0];var x=0;var w=100-(setup.length-1)*spacer;var y1=y;if(y1)y1+=spacer;var y2=y+Math.round(parseFloat(rows[row])*h);if(row==rows.length-1)y2=100;me.outerboxes[row]=[];me.innerboxes[row]=[];for(var i=0;i<setup.length;i++){var x1=x;if(x1)x1+=spacer;var x2=x+Math.round(parseFloat(setup[i])*w);if(i==setup.length-1)x2=100;var $box=me.outer().ioover({position:'absolute',top:y1+'%',left:x1+'%',width:(x2-x1)+'%',height:(y2-y1)+'%',border:'0px',margin:'0px',padding:'0px'})
var $box2=$box.ioover().css({top:padding+'%',left:padding+'%',width:(100-2*padding)+'%',height:(100-2*padding)+'%',border:'0px'})
me.outerboxes[row][i]=$box;me.innerboxes[row][i]=$box2;$box.ioground(ground);x=x2;}
row++;y=y2;c(1);})}
a.paint=function(row,cell,ground){var me=this;me.outer(row,cell).children().first().remove();me.outer(row,cell).ioground(ground);}
a.text=function(row,cell,text,pos,ground){var me=this;if(!pos)pos='CM';if(ground)me.paint(row,cell,ground);var css={position:'absolute',width:'100%',height:'auto','font-size':$.io.defs.fonts.normal}
if(me.cellcss)css=$.hm(css,cellcss);var pos1=pos.substr(0,1);var pos2=pos.substr(1,1);if(pos1=='L')css['text-align']='left';if(pos1=='C')css['text-align']='center';if(pos1=='R')css['text-align']='right';if(pos2=='T')css.top='0px';if(pos2=='M')css.top='0px';if(pos2=='B')css.bottom='0px';var $box=me.inner(row,cell).empty();var $box2=$box.ioover(css).append(text);if(pos2=='M')$box2.iocenterv();return $box2;}
a.start();}
$.fn.buttongrid=function(rows,cols,labels,ground,onclick,canvas,fontsize,oneline,spacer,padding,cellcss){$(this).empty().grid(rows,cols,ground,function(G){if($.isString(rows))rows=$.ttl(rows);if($.isString(cols))cols=$.ttl(cols);var row=0;var col=0;var draw=$.hm(canvas?canvas:$.io.style.canvas.info);draw[4]=2.0;if($.isString(labels))labels=$.ttl(labels);G.inneratoms=[];var one=function(label,row,col){if(!G.inneratoms[row])G.inneratoms[row]=[];var $box=G.outer(row,col)
var $inner=$box.empty().ioover();$inner.iodrawRoundbox(draw)
var $text=$inner.ioover().append(label).css({height:'auto',width:'auto','text-align':'center'})
if(fontsize)$text.css({'font-size':fontsize})
else $text.iofitext(null,oneline,true);$text.css({'text-align':'center'})
G.inneratoms[row][col]=$inner.ioatomsPlainButton({donotwrap:true,off:1.0,hover:0.8,on:0.5}).onclick(function(){$box.ioanimoutemptyin('fast',function(){onclick(label);})})}
G.outer().ioloop(1,'1ms',function(dom,value,sleep,c){if(col==cols.length){row++;col=0;}
if(row==rows.length)return c();if(!labels.length)return c();one(labels.shift(),row,col);col++;c(1);});},spacer,padding,cellcss)}
$.fn.confirmbuttongrid=function(rows,cols,labels,ground,onclick,canvas,fontsize,oneline,spacer,padding,cellcss){$(this).empty().grid(rows,cols,ground,function(G){if($.isString(rows))rows=$.ttl(rows);if($.isString(cols))cols=$.ttl(cols);var row=0;var col=0;var draw=$.hm(canvas?canvas:$.io.style.canvas.info);draw[4]=2.0;if($.isString(labels))labels=$.ttl(labels);var one=function(label,row,col){var $box=G.outer(row,col).empty();var $inner=$box.ioover();$inner.iodrawRoundbox(draw)
var $text=$inner.ioover().append(label).css({height:'auto',width:'auto','text-align':'center'})
if(fontsize)$text.css({'font-size':fontsize})
else $text.iofitext(null,oneline,true);$inner.ioatomsPlainButton({donotwrap:true,off:1.0,hover:0.8,on:0.5}).onclick(function(){$box.ioanimoutemptyin('fast',function(){$box.empty().grid('0.6,0.4',['1.0','0.5,0.5'],ground,function(G2){G2.text(0,0,'');G2.outer(1,0).buttongrid('1','1','',null,function(){$box.ioanimoutemptyin('fast',function(){if(onclick)onclick(label);})},$.io.style.canvas.alert,null,true);G2.outer(1,1).buttongrid('1','1','',null,function(){$box.ioanimoutemptyin('fast',function(){one(label,row,col);});},$.io.style.canvas.info,null,true);})})})}
G.outer().ioloop(1,'1ms',function(dom,value,sleep,c){if(col==cols.length){row++;col=0;}
if(row==rows.length)return c();if(!labels.length)return c();one(labels.shift(),row,col);col++;c(1);});},spacer,padding,cellcss)}
$.fn.onoffbuttongrid=function(rows,cols,labels,ground,onchange,canvas,fontsize,oneline,spacer,padding,cellcss){$(this).empty().grid(rows,cols,ground,function(G){if($.isString(rows))rows=$.ttl(rows);if($.isString(cols))cols=$.ttl(cols);var row=0;var col=0;var draw=$.hm(canvas?canvas:$.io.style.canvas.info);draw[4]=2.0;if($.isString(labels))labels=$.ttl(labels);var one=function(label,row,col){var $box=G.outer(row,col)
var $inner=$box.empty().ioover();$inner.iodrawRoundbox(draw)
var $text=$inner.ioover().append(label).css({height:'auto',width:'auto','text-align':'center'})
if(fontsize)$text.css({'font-size':fontsize})
else $text.iofitext(null,oneline,true);var button=$inner.ioatomsOnOffButton({donotwrap:true,off:0.3,hover:0.6,on:1.0})
button.onchange(function(status){if(onchange)onchange(status,label,button)})}
G.outer().ioloop(1,'1ms',function(dom,value,sleep,c){if(col==cols.length){row++;col=0;}
if(row==rows.length)return c();if(!labels.length)return c();one(labels.shift(),row,col);col++;c(1);});},spacer,padding,cellcss)}
$.fn.formgrid=function(action,http,donec){var $form=$(this).ioform(action,http,true);if(donec)donec({inner:function(){return $form;},submit:function(donec){$form.ajaxSubmit({dataType:'json',success:donec})}})}
$.fn.formtextgrid=function(rows,cols,names,ground,donec,css,spacer,padding,cellcss){$(this).empty().grid(rows,cols,ground,function(G){if($.isString(rows))rows=$.ttl(rows);if($.isString(cols))cols=$.ttl(cols);var row=0;var col=0;if($.isString(names))names=$.ttl(names);var one=function(name,row,col){var $box=G.outer(row,col).empty().ioground(ground)
var $inner=$box.ioover($.hm(css?css:{},{position:'absolute',top:'1%',left:'1%',width:'98%',height:'98%',display:'block',border:'0px','background-color':$.io.defs.colors.bg,color:$.io.defs.colors.fg}),'textarea',{name:name,cols:'10',rows:'10',overflow:'hidden'})
G.innerboxes[row][col]=$inner;}
G.outer().ioloop(1,'1ms',function(dom,value,sleep,c){if(col==cols.length){row++;col=0;}
if(row==rows.length){c();if(donec)donec(G);return;}
if(!names.length){c();if(donec)donec(G);return}
one(names.shift(),row,col);col++;c(1);});},spacer,padding,cellcss)}
$.fn.formuploadgrid=function(rows,cols,names,ground,donec,css,spacer,padding,cellcss){$(this).empty().grid(rows,cols,ground,function(G){if($.isString(rows))rows=$.ttl(rows);if($.isString(cols))cols=$.ttl(cols);var row=0;var col=0;if($.isString(names))names=$.ttl(names);var one=function(name,row,col){var $box=G.outer(row,col).empty()
G.innerboxes[row][col]=$box.ioatomsFileupload({noform:true,name:name,value:'click here',ground:ground,css:$.hm(css,{position:'relative',width:'100%',height:'100%',overflow:'hidden'})})
var $info=G.inner(row,col).outer().find('[mid="button"]')
var two=function(){$info.css({height:'auto',width:'auto'}).iofitext(null,true,true);}
G.inner(row,col).onchange(two);two();}
G.outer().ioloop(1,'1ms',function(dom,value,sleep,c){if(col==cols.length){row++;col=0;}
if(row==rows.length){c();if(donec)donec(G);return;}
if(!names.length){c();if(donec)donec(G);return}
one(names.shift(),row,col);col++;c(1);});},spacer,padding,cellcss)}
$.fn.iomakegui=function(path,tag,events,one,two){if($.ioutils.stats)$.ioutils.stats.push({type:'iobase.iomakegui',path:path,tag:tag,events:events})
var donotstart=false;var call=null;var setup={};if(one)call=one;if(two){setup=one;call=two;}
var gui=$(this).ioatom(null,null,events,null,true);gui.burl=path?path:$.io.burl;gui.logid='gui : '+tag;gui.props=$.io.style;gui.addprops={}
gui.atoms={};gui.info={};gui.setup=setup;if(call)gui.onload(call);return gui;}
$.fn.loadgui=function(url,one,two,three){var $me=$(this);if($.ioutils.stats)$.ioutils.stats.push({type:'iobase.loadgui',url:url})
$.jsload(url,function(){$me.eq(0).iogui(one,two,three)})}
$.fn.reloadbox=function(c,css,nooutemptyin,ground,boxcss){var $box=$(this).eq(0);if(!css)css={top:'-5px',right:'-5px',width:'30px',height:'30px'};var $box1=$box.ioover(true);if(boxcss)$box1.css(boxcss);var $box2=$box1.ioover(true);if(boxcss)$box2.css(boxcss);if(ground)$box2=$box2.ioground($.s2l(ground)).ioover(true)
$box1.ioover($.hm({position:'absolute'},css)).iodrawRefresh().ioatomsPlainButton({off:1.0,hover:0.8,on:0.6}).onclick(function(){if(!nooutemptyin)return $box2.ioanimoutemptyin('fast',c);return c();});return $box2;}
$.fn.dynabox=function(ground,margin,h){var $box=$(this).eq(0);if(!ground)ground=$.io.defs.colors.structure+',0.2';if(!margin)margin=5;if(!h)h=150;var step=Math.round(0.3*h);var $box2=$box.ioover(true).css({height:h+'px',margin:margin+'px 1%',width:'98%'}).ioground($.s2l(ground,',')).ioover().css({left:'2%',top:'1%',width:'96%',height:'98%'})
$box2.parent().ioover({position:'absolute',bottom:'-7px',left:'45%',height:'15px',width:'10%'}).iodrawRoundbox($.io.style.canvas.stress).ioatomsPlainButton({donotwrap:true,off:1.0,hover:0.8,on:0.6}).onclick(function(){h+=step;$box2.parent().css({height:h+'px'});})
return $box2;}
$.fn.makeform=function($box,action,http,defs,c,type,msgs,types,values,dynaboxh,nowysiwyg,nowysiwygs,callbeforesend,donotsend){var withfile=false;if(!dynaboxh)dynaboxh=100;if(!type)type='input';if($.isString(defs)){defs=$.hvak($.s2l(defs),false,false);for(var k in defs)defs[k]=k;}
if($.ioutils.jsonsession)http.ss=$.base64Encode($.toJSON($.io.session));var $form;var atom;$form=$box.ioform(action,http,true);var end=function(){T.floatbuttons($form,{submit:function(){if(callbeforesend||donotsend)callbeforesend($form);if(donotsend)return;$form.find('textarea').each(function(){if(nowysiwyg)return;if(nowysiwygs&&nowysiwygs[$(this).attr('name')])return;var text=$(this).val()
var $text=$('<div>'+text+'</div>');if($text.text().length==$text.get(0).innerHTML.length)text=$.l2s($.s2l(text,"\n"),'<br />')
$text.empty().append(text);$text.find('p').each(function(){if(!$.trim($(this).text()).length)$(this).remove()})
$text.find('div').each(function(){if(!$.trim($(this).text()).length)$(this).remove()})
$(this).val($text.html());})
$form.ioformsend(function(json){if(c)c(json,$form.ioformtohash());if(msgs&&json.errs)for(var i in json.errs)msgs.add('ERROR! '+json.errs[i]);if(msgs&&json.msgs)for(var i in json.msgs)msgs.add(json.msgs[i]);});}},$.io.style.canvas.info)}
var multifile=function(key){withfile=true;var count=0;var $box2=$form.ioover(true);var file=function(){$box2.ioover(true).css({overflow:'hidden'}).ioatomsFileupload({noform:true,name:key+(count?''+count+'':''),css:$.io.style.box.input,ground:$.io.defs.colors.fg+',0.3'});count++;}
T.floatbuttons($box2,{'add file':function(){file();}},$.io.style.canvas.alert,null,{float:'right','font-size':$.io.font.tiny,margin:'0px'});file();}
var b64lines=function(key){var value='';var area;if(values&&values[key])value=values[key];var $box=$form.ioover(true).ioground($.io.defs.colors.fg,0.3).ioground($.io.defs.colors.bg,1.0).ioover(true).css({overflow:'hidden'})
var reload=function(){$box.ioanimoutemptyin('fast',function(){var $box2;var msgs2=$box.ioover($.io.style.msgs).ioatomsMsgs({linger:'2s',timeout:'5s'})
$box.ioover(true).css({height:'3px'})
$box.append(key+' <strong>('+(value?$.s2l(value,' ').length:0)+' lines)</strong>')
T.floatbuttons($box.ioover(),{add:function(){$box2.ioanimoutemptyin('fast',function(){T.jsonfork($box2,function(text){if(!text){$box2.empty();return msgs2.add('Empty input, closing the form and adding nothing.');}
value+=(value?' ':'')+$.s2s64(text);area.val(value);reload();},null,true,true,'add any text')})}},$.io.style.canvas.alert,null,{float:'right',margin:'0px'});$box2=$box.ioover(true);$box.ioover(true).css({height:'3px'})})}
reload();area=$box.parent().iounder({position:'absolute',overflow:'hidden',top:'2px',left:'2px',width:'5px',height:'5px'},'textarea',{name:key})
area.val(value);}
$box.ioloop($.hk(defs),'10ms',function(dom,value,sleep,cc){if(!value.length){if(!withfile)$form.append('<input type="submit" name="submit" value="submit" style="display:none;" />');cc();return end();}
var k=value.shift();switch(types&&types[k]?types[k]:type){case'input':{var atom=$form.ioatomsInput({name:k,css:$.io.style.box.input,ground:$.io.defs.colors.bg+',0.9'});if(defs[k])atom.value(defs[k]);if(values&&values[k])atom.value(values[k]);break;}
case'text':{var atom=T.dynabox($form,null,null,dynaboxh).ioatomsTextarea({name:k,css:$.io.style.box.text,ground:$.io.defs.colors.bg+',0.9'})
if(defs[k])atom.value(defs[k]);if(values&&values[k])atom.value(values[k]);break;}
case'file':{withfile=true;var atom=$form.ioover(true).css({overflow:'hidden'}).ioatomsFileupload({noform:true,name:k,css:$.io.style.box.input,ground:$.io.defs.colors.fg+',0.3'})
break;}
case'multifile':multifile(k);break;case'b64lines':b64lines(k);break;}
cc(value);})
if(!donotsend)$form.ioformwait(function(json){if(c)c(json,$form.ioformtohash());if(msgs&&json.errs)for(var i in json.errs)msgs.add('ERROR! '+json.errs[i]);if(msgs&&json.msgs)for(var i in json.msgs)msgs.add(json.msgs[i]);})
else $form.ioformcatch(function(hash){if(callbeforesend)callbeforesend($form);})
return $form;}
$.fn.msg=function(msg,mode,font,css){var $box2;var $box=$(this).eq(0)
if(!mode)mode='over';if(!msg)msg='<br />';if(!font)font=$.io.style.msgs['font-size'];if(mode=='over')$box2=$box.ioover($.hm($.io.style.msgs,{'font-size':font})).append(msg);else if(mode=='under')$box2=$box.iounder($.hm($.io.style.msgs,{'font-size':font})).append(msg);else $box2=$box.ioover($.hm($.io.style.msgs,{'font-size':font}),'span').append(msg);if(css)for(var tag in css)$box2.find(tag).css(css[tag]);return $box2;}
$.fn.isindom=function(){if(!this||!$(this))return false;if(!$(this).eq(0))return false;return $(this).eq(0).parents(':last').is('html')}
$.fn.count=function(){var count=0;$(this).each(function(){count++;});return count;}
$.fn.LSset=function(key,value,donec,safec,progressc,blocksize,base64,lzw,sleep){if(!sleep)sleep='1ms';if(!blocksize)blocksize=100000;if(!progressc)progressc=function(pos,size,rc){rc();}
var pos=0;$(this).ioloop(value,sleep,function(dom,v,sleep,c){if(!value.length){c();return donec();}
var block='';if($.isArray(value))block=value.shift();else if(value.length>blocksize){block=value;value='';}
else{block=value.substr(0,blocksize);value=value.substr(blocksize);}
var one=function(block){var two=function(block){$(this).safecall('5s',function(rc){var key2=key+'.'+pos;localStorage.setItem(key2,block);rc();progressc(pos,key2.length+block.length,function(){pos++;c(1);})},safec)}
if(lzw)return $(this).lzwcompress(block,function(block){two(block);},safec,null,blocksize,true);two(block);}
if(base64)return $(this).safecall('5s',function(rc){block=$.s2s64(block);rc();one(block);},safec);one(block);})}
$.fn.LSget=function(key,donec,safec,progressc,lzw,base64,sleep){if(!sleep)sleep='1ms';if(!progressc)progressc=function(pos,size,rc){rc();}
var pos=0;var value='';$(this).ioloop(1,sleep,function(dom,v,sleep,c){$(this).safecall('5s',function(rc){var key2=key+'.'+pos;var block=localStorage.getItem(key2);rc();if(!block){rc();c();return donec(value);}
var one=function(block){var two=function(block){progressc(pos,key2.length+block.length,function(){value+=block;pos++;c(1);});}
if(base64)return $(this).safecall('5s',function(rc){block=$.s642s(block);rc();two(block);},safec);two(block);}
if(lzw)return $(this).lzwdecompress(block,one,safec,null,block.length,true);one(block);},safec)})}
$.fn.LSremove=function(key,donec,safec,progressc,sleep){if(!sleep)sleep='1ms';if(!progressc)progressc=function(pos,size,rc){rc();}
var pos=0;$(this).ioloop(1,sleep,function(dom,v,sleep,c){$(this).safecall('5s',function(rc){var key2=key+'.'+pos;var block=localStorage.getItem(key2);if(!block){rc();c();return donec();}
localStorage.removeItem(key2);rc();progressc(pos,key2.length+block.length,function(){pos++;c(1);});},safec)})}
$.fn.safecall=function(time,one,two){if(!time)time='5s';$(this).timer(time,two)
one(function(){$(this).stopTime()})}
$.fn.timer=function(time,call){$(this).stopTime().oneTime(time,call);return this;}
$.fn.ioeach=function(sleep,each,end){var list=[];$(this).each(function(){list.push($(this));})
if(!list.length||!each)return end();var one=function(){each(list[0],function(){list.shift();if(!list.length)return end();list[0].oneTime(sleep,one);});}
one();}
$.fn.ioloop=function(value,sleep,three,four){var limit=100000;var call=null;if(four){limit=three;call=four;}
else call=three;$(this).each(function(){var me=this;$(this).oneTime(sleep,function(){call(this,value,sleep,function(one,two){var nsleep=sleep;var nvalue=value;if(limit===0)return;if(one===true)return;if(!one)return;nvalue=one;if(two)nsleep=two;return $(me).ioloop(nvalue,nsleep,limit-1,call);});});});return this;}
$.fn.ioangle=function(){var $me=$(this).first();var m=$me.css("-webkit-transform")||$me.css("-moz-transform")||$me.css("-ms-transform")||$me.css("-o-transform")||$me.css("transform");if(m!=='none'){var vs=m.split('(')[1].split(')')[0].split(',');var a=vs[0];var b=vs[1];var angle=Math.round(Math.atan2(b,a)*(180 / Math.PI));}
else{var angle=0;}
return angle;}
$.fn.ioinfo=function(p){var list=[];$(this).each(function(){switch(p){case'width':list.push($(this).width());break;case'height':list.push($(this).height());break;case'top':list.push(this.offsetTop);break;case'left':list.push(this.offsetLeft);break;case'offsetHeight':list.push(this.offsetHeight);break;case'offsetWidth':list.push(this.offsetWidth);break;case'angle':list.push($(this).ioangle());break;default:list.push({width:$(this).width(),height:$(this).height(),top:this.offsetTop,left:this.offsetLeft,offsetHeight:this.offsetHeight,offsetWidth:this.offsetWidth,angle:$(this).ioangle()});}});if(list.length==1)return list[0];if(list.length>1)return list;return this;}
$.fn.ioposition=function(){var $me=$(this).first();var h=$me.position();for(var k in h)h[k]=Math.round(h[k]);h.right=Math.round($me.parent().width()-(h.left+$me.width()));h.bottom=Math.round($me.parent().height()-(h.top+$me.height()));return h;}
$.fn.iowrap=function(props,wraptag,wrapattrs){var list=[];var wrapcss={};var floatbox=false;if(!props)wrapcss={};if($.isObject(props)&&props.css){wrapcss=props.css;wraptag=props.tag;wrapattrs=props.attrs;if(props.floatbox)floatbox=props.floatbox;}
else if($.isObject(props))wrapcss=props;if(floatbox&&!$.hk(wrapcss).length)wrapcss={margin:'1px 2px',height:'auto',width:'auto'}
if(!wraptag)tag='div';if($.isString(props))wraptag=props;$(this).each(function(){var $inner='<'+tag;if(wrapattrs&&$.isObject(wrapattrs))for(var k in wrapattrs)$inner+=' '+k+'="'+wrapattrs[k]+'"';$inner+='></'+tag+'>';$inner=$($inner);if(props===true)$inner.css({position:'relative',width:'100%'});if(!props)$inner.css({position:'absolute',top:'0px',left:'0px',width:'100%',height:'100%','text-decoration':'none',display:'block'});else $inner.css($.hm({position:'relative'},wrapcss));$inner.append($(this).contents());$(this).append($inner);list.push($inner.get(0));});return this.pushStack(list);}
$.fn.iounselectable=function(){$(this).each(function(){$(this).attr('unselectable','on');$(this).attr('onselectstart','return false');$(this).attr('ondragstart','return false');$(this).css({'-moz-user-select':'none','-khtml-user-select':'none','-webkit-user-select':'none','-o-user-select':'none'})});return this;}
$.fn.ioover=function(props,tag,attrs){var list=[];if(!tag)tag='div';if($.isString(props))tag=props;$(this).each(function(){var $inner='<'+tag;if(attrs&&$.isObject(attrs))for(var k in attrs)$inner+=' '+k+'="'+attrs[k]+'"';$inner+='></'+tag+'>';$inner=$($inner);if(props===true)$inner.css({position:'relative',width:'100%'});else if(props===false)$inner.css({position:'relative',width:'auto',height:'auto'})
else if($.isObject(props))$inner.css(props);else $inner.attr('style',"position:absolute;top:0px;left:0px;width:100%;height:100%;text-decoration:none;display:block;");$(this).append($inner);list.push($inner.get(0));});return this.pushStack(list);}
$.fn.iounder=function(props,tag,attrs){var list=[];if(!tag)tag='div';if($.isString(props))tag=props;$(this).each(function(){var $inner='<'+tag;if(attrs&&$.isObject(attrs))for(var k in attrs)$inner+=' '+k+'="'+attrs[k]+'"';$inner+='></'+tag+'>';$inner=$($inner);if(props===true)$inner.css({position:'relative',width:'100%'});else if($.isObject(props))$inner.css(props);else $inner.attr('style',"position:absolute;top:0px;left:0px;width:100%;height:100%;text-decoration:none;display:block;");$(this).prepend($inner);list.push($inner.get(0));});return this.pushStack(list);}
$.fn.iobefore=function(props,tag,attrs){var list=[];if(!tag)tag='div';if($.isString(props))tag=props;$(this).each(function(){var $inner='<'+tag;if(attrs&&$.isObject(attrs))for(var k in attrs)$inner+=' '+k+'="'+attrs[k]+'"';$inner+='></'+tag+'>';$inner=$($inner);if(props===true)$inner.css({position:'relative',width:'100%'});else if($.isObject(props))$inner.css(props);else $inner.attr('style',"position:absolute;top:0px;left:0px;width:100%;height:100%;text-decoration:none;display:block;");$(this).before($inner);list.push($inner.get(0));});return this.pushStack(list);}
$.fn.ioafter=function(props,tag,attrs){var list=[];if(!tag)tag='div';if($.isString(props))tag=props;$(this).each(function(){var $inner='<'+tag;if(attrs&&$.isObject(attrs))for(var k in attrs)$inner+=' '+k+'="'+attrs[k]+'"';$inner+='></'+tag+'>';$inner=$($inner);if(props===true)$inner.css({position:'relative',width:'100%'});else if($.isObject(props))$inner.css(props);else $inner.attr('style',"position:absolute;top:0px;left:0px;width:100%;height:100%;text-decoration:none;display:block;");$(this).after($inner);list.push($inner.get(0));});return this.pushStack(list);}
$.fn.ioground=function(one,two){var color='#fff';var opacity=1.0;if(one&&!two&&$.ttl(one).length==2){var L=$.ttl(one);one=L.shift();two=L.shift();}
if(one&&$.isArray(one)){color=one[0];opacity=one[1];}
else if(one&&one.color){color=one.color;if(one.opacity)opacity=one.opacity;}
else color=one;if(two)opacity=two;$(this).each(function(){$(this).iounder().css({'background-color':color,opacity:opacity});});return this;}
$.fn.iodblground=function(one,two){var $me=$(this).first();$me.ioground(two);$me.ioground(one);return this;}
$.fn.iocenterv=function(fixheight){var me=this;$(this).each(function(){var ph=$(this).parent().height();var h=$(this).height();var p=Math.round(100*((0.5*(ph-h))/ ph));$(this).css('position','absolute').css('top',p+'%');if(fixheight)$(this).css('height',Math.round(100*(h / ph))+'%');});return me;}
$.fn.iocenterh=function(fixwidth){var me=this;$(this).each(function(){var pw=$(this).parent().width();var w=$(this).width();var p=Math.round(100*((0.5*(pw-w))/ pw));$(this).css('position','absolute').css('left',p+'%');if(fixwidth)$(this).css('width',Math.round(100*(w / pw))+'%');});return me;}
$.fn.iofitext=function(hash,oneline,centerv){var me=this;var $me=$(this).eq(0);if(!hash)hash=$.io.font;var ks=$.hk(hash);var h=$me.height();var ks2=$.hk(hash);if($me.get(0).nodeName=='TEXTAREA'||$me.get(0).nodeName=='INPUT'){while(ks2.length>1){var k=ks2.shift();if(parseInt(hash[k])<0.8*h){$me.css({'font-size':hash[k]});break;}}
var dim=$.textdim($me.get(0).nodeName=='INPUT'?$me.value():$me.val(),{'font-size':hash[k]});if(!dim.height||!dim.width)return;if(dim.width<0.8*$me.width()&&dim.height<0.8*$me.height())return;while(ks2.length>1){var k=ks2.shift();var dim=$.textdim($me.get(0).nodeName=='INPUT'?$me.value():$me.val(),{'font-size':hash[k]});if(dim.height<0.8*$me.height()||dim.width<0.8*$me.width()){$me.css({'font-size':hash[k]});break;}}
return;}
var last=ks.length-1;var bad=false;$me.css({height:'auto',width:'auto'})
for(pos=ks.length-1;pos>=0;pos--){$me.css({'font-size':hash[ks[pos]]});var h=Math.round($me.height());var w=Math.round($me.width());var fh=parseInt(hash[ks[pos]]);if($me.width()>0.8*$me.parent().width()||$me.height()>1.5*fh||$me.height()>0.8*$me.parent().height()){bad=true;break;}
last=pos;}
if(bad)$me.css({'font-size':hash[ks[last]]});$me.css({width:'100%'})
if(oneline){if(centerv)$me.iocenterv();return;}
var onelinelast=last;bad=false;for(pos=ks.length-1;pos>=0;pos--){$me.css({'font-size':hash[ks[pos]]});var h=Math.round($me.height());var w=Math.round($me.width());var fh=parseInt(hash[ks[pos]]);if($me.width()>me.parent().width()||$me.height()>0.8*$me.parent().height()){bad=true;break;}
last=pos;}
if(bad)$me.css({'font-size':hash[ks[last]]});if(centerv)$me.iocenterv();return me;}
$.fn.iofitexth=function(hash){var me=this;var online=true;var $me=$(this).eq(0);if(!hash)hash=$.io.font;var ks=$.hk(hash);var h=$me.height();var ks2=$.hk(hash);if($me.get(0).nodeName=='TEXTAREA'||$me.get(0).nodeName=='INPUT'){while(ks2.length>1){var k=ks2.shift();if(parseInt(hash[k])<0.8*h){$me.css({'font-size':hash[k]});break;}}
var dim=$.textdim($me.get(0).nodeName=='INPUT'?$me.value():$me.val(),{'font-size':hash[k]});if(!dim.height||!dim.width)return;if(dim.width<0.8*$me.width()&&dim.height<0.8*$me.height())return;while(ks2.length>1){var k=ks2.shift();var dim=$.textdim($me.get(0).nodeName=='INPUT'?$me.value():$me.val(),{'font-size':hash[k]});if(dim.height<0.8*$me.height()||dim.width<0.8*$me.width()){$me.css({'font-size':hash[k]});break;}}
return;}
var last=ks.length-1;var bad=false;$me.css({height:'auto',width:'auto'})
for(pos=ks.length-1;pos>=0;pos--){$me.css({'font-size':hash[ks[pos]]});var h=Math.round($me.height());var w=Math.round($me.width());var fh=parseInt(hash[ks[pos]]);if($me.height()>1.6*fh){bad=true;break;}
last=pos;}
if(bad)$me.css({'font-size':hash[ks[last]]});$me.css({width:'100%'})
return me;}
$.fn.iovfill=function(step,limit,inpx){if(!step)step=5;if(!limit)limit=400;$(this).each(function(){var limit2=limit;while(limit2--&&$(this).position().top+$(this).height()<$(this).parent().height()-step){$(this).css('height',Math.round($(this).height()+step)+'px');}
if(!inpx)$(this).css('height',Math.round(100*($(this).height()/ $(this).parent().height()))+'%');});return this;}
$.fn.iovstretch=function(bmargin,inpx){if(!bmargin)bmargin=0;$(this).each(function(){$(this).css({height:Math.round($(this).parent().height()-$(this).position().top-bmargin)+'px'});if(!inpx)$(this).css('height',Math.round(100*($(this).height()/ $(this).parent().height()))+'%');});return this;}
$.fn.iovsquare=function(fixwidth){$(this).each(function(){var ph=$(this).parent().height();var w=$(this).width();var h=w;if(!fixwidth)h=Math.round(100*(h / ph))+'%';else h=h+'px';$(this).css('height',h);});return this;}
$.fn.iohsquare=function(fixwidth){$(this).each(function(){var pw=$(this).parent().width();var h=$(this).height();var w=h;if(!fixwidth)w=Math.round(100*(w / pw))+'%';else w=w+'px';$(this).css('width',w);});return this;}
$.fn.iohsquare=function(fixwidth){$(this).each(function(){var pw=$(this).parent().width();var h=$(this).height();var w=h;if(!fixwidth)w=Math.round(100*(w / pw))+'%';else w=w+'px';$(this).css('width',w);});return this;}
$.fn.iorelative=function(s){if(!s)s={top:true,right:true,width:true,height:true};$(this).each(function(){var pw=$(this).parent().width();var cw=$(this).width();var ph=$(this).parent().height();var ch=$(this).height();var top=$(this).position().top;var left=$(this).position().left;if(s.top)$(this).css({top:Math.round(100*(top / ph))+'%'});if(s.right)$(this).css({right:Math.round(100*((pw-left-cw)/ pw))+'%'});if(s.bottom)$(this).css({bottom:Math.round(100*((ph-top-ch)/ ph))+'%'});if(s.left)$(this).css({left:Math.round(100*(left / pw))+'%'});if(s.width)$(this).css({width:Math.round(100*(cw / pw))+'%'});if(s.height)$(this).css({height:Math.round(100*(ch / ph))+'%'});});return this;}
$.fn.ioabs2rel=function(width,height,top,left){$(this).each(function(){var info=$.domGetRelSize($(this));if(height)$(this).height(info.height+'%');if(width)$(this).width(info.width+'%');if(top)$(this).css({top:info.top+'%'})
if(left)$(this).css({left:info.left+'%'})});return this;}
$.fn.ioform=function(action,props,nosubmitbutton){var list=[];if(!action)action='nothing.php';$(this).each(function(){var $inner=$('<form name="noform" action="'+action+'" method="post"></form>');if(!nosubmitbutton)$inner.append('<input type="submit" name="submit" value="submit" style="display:none;" />');if(props){for(var key in props)$inner.append('<input type="hidden" name="'+key+'" value="'+props[key]+'" />');}
$(this).append($inner.css({margin:'0px',padding:'0px','text-decoration':'none',border:'0px'}));list.push($inner.get(0));});return this.pushStack(list);}
$.fn.ioformcatch=function(call){$(this).each(function(){$(this).submit(function(e){if(call)call($(this).ioformtohash());e.preventDefault();return false;});});return this;}
$.fn.ioformwait=function(call){var $form=$(this);$form.submit(function(e){$form.ajaxSubmit({dataType:'json',success:function(json){call(json);}});e.preventDefault();return false;});return this;}
$.fn.ioformsend=function(call){var $dom=$(this);$dom.ajaxSubmit({dataType:'json',success:function(json){call(json);}});return this;}
$.fn.ioformtohash=function(){var hash={};$(this).each(function(){$(this).find('input').each(function(){if($(this).attr('type')=='radio'&&!this.checked)return;else if($(this).attr('type')=='checkbox')hash[$(this).attr('name')]=this.checked?'on':'off'
else hash[$(this).attr('name')]=this.value;})
$(this).find('textarea').each(function(){hash[$(this).attr('name')]=$(this).val();})
$(this).find('select').each(function(){var name=$(this).attr('name');$(this).find('option').each(function(){if(this.selected)hash[name]=$(this).attr('value');});})});return hash;}
$.fn.ioinputstohash=function(prefix,tagname){var hash={};if(!tagname)tagname='input';if(!prefix)prefix=tagname;var pos=0;$(this).each(function(){if(tagname=='input')hash[prefix+pos]=this.value;else hash[prefix+pos]=$(this).val();pos++;});return hash;}
$.fn.ioframe=function(){var list=[];$(this).each(function(){var $inner=$('<iframe src="" scrolling="no"></iframe>');$(this).append($inner.css({position:'absolute',display:'block',top:'0px',left:'0px',width:'100%',height:'100%',margin:'0px',padding:'0px','text-decoration':'none',border:'0px'}));list.push($inner.get(0));});return this.pushStack(list);}
$.fn.ioframeready=function(url,call,retries){var me=$(this).eq(0);var $inner;if($.isVoid(retries))retries=3;if(retries--<0)return call(null);$inner=$('<iframe src="" scrolling="no"></iframe>');me.append($inner.css({position:'absolute',display:'block',top:'0px',left:'0px',width:'100%',height:'100%',margin:'0px',padding:'0px','text-decoration':'none',border:'0px'}));$inner.attr('src',url).load(function(){if(!$inner.isindom())return;if(!$inner.contents()||!$inner.contents().find('body').get().length)return me.empty().ioframeready($.rurl(url,5),call,retries);call($inner.contents().find('body'));});return this;}
$.fn.ioget=function(url,http,c,retries,sleep){var $me=$(this).eq(0);if($.isVoid(retries))retries=3;if(retries--<0)return c(null);$.get(url,http?http:{},function($body){if($body)return c($body);$me.stopTime().oneTime(sleep?sleep:'5s',function(){$me.ioget(url,http,c,retries);})});return this;}
$.fn.ioanimalpha=function(from,to,speed,c,ioatom){var before=$.iotime();var $box=$(this);var active=true;var key=null;var steps=$.mathCurve(from,to,speed);$box.css({opacity:steps.shift()});var cancel=function(){$box.stopTime();active=false;}
var end=function(normal){if(ioatom&&key)ioatom.dequeue(key);if(normal&&c)return c($.iotime()-before);}
var one=function(){$box.stopTime().oneTime('30ms',function(){if(!active)return end();if(!$box||!$box.height()&&!$box.width())return end();$box.css({opacity:steps.shift()})
if(steps.length)one();else return end(true);})}
one();if(ioatom)key=ioatom.queue(cancel);return cancel;}
$.fn.ioanimoutemptyin=function(how,c){if(!how)how='slow';var $me=$(this);$me.each(function(){$me.fadeOut(how,function(){$me.empty().fadeIn(how,function(){$me.empty();if(c)c();})})});}
$.fn.ioanimoutremove=function(how,c){if(!how)how='slow';var $me=$(this);$me.each(function(){$me.fadeOut(how,function(){$me.remove();if(c)c();})});}
$.fn.ioanimoutemptyinsetwaitcall=function(how,value,wait,c){if(!how)how='slow';var $me=$(this);$me.each(function(){$me.fadeOut(how,function(){$me.empty().fadeIn(how,function(){$me.append(value).oneTime(wait,c);})})});}
$.fn.ioanimoveleft=function(speed,leftplus,c){var $me=$(this).first();var count=10;if(speed=='fast')count=5;if(speed=='slow')count=20;var left=$me.position().left;var vs=$.mathCurveSlowUpFastDown(leftplus,count);$me.ioloop(vs,'1ms',function(dom,value,sleep,c2){if(!value.length){c2();if(c)c();return;}
left+=value.shift();$me.css({left:Math.round(left)+'px'})
c2(value);})}
$.fn.iofblist=function(vs,fontsize,type,draw,c,css,setup,types,draws,donotclosefloat,showclosebutton,donec,closec){if(!fontsize)fontsize=$.io.defs.fonts.normal;if(!draw)draw=$.io.style.canvas.normal;css=$.hm({margin:'2px',width:'auto',height:'auto'},css)
setup=$.hm(type&&type=='onoff'?{donotwrap:true,off:0.2,hover:0.6,on:1.0}:{donotwrap:true,off:1.0,hover:0.8,on:0.6},setup)
if($.isString(vs))vs={vs:vs}
if($.isArray(vs)){vs=$.hvak(vs);for(var k in vs)vs[k]=k;}
var cs={};for(var k in vs)cs[k]=$.isObject(vs[k])?vs[k]:c;for(var k in vs)vs[k]=$.isString(vs[k])?vs[k]:k;if($.ioutils.stats)$.ioutils.stats.push({type:'iobase.iofblist',keys:$.hk(cs)})
var as={};var $box=$(this).eq(0);var button=function(k){var type2=types&&types[k]?types[k]:type;var draw2=draws&&draws[k]?draws[k]:draw;var $box2=$box.ioover($.hm({float:'left',display:'block',position:'relative',height:'auto',width:'auto',overflow:'visible',margin:'4px 3px'},css))
$box2.ioover({position:'relative',width:'auto',height:'auto','font-size':fontsize}).ioover({position:'relative',width:'auto',height:'auto',margin:'1px 0px','font-size':fontsize}).append(vs[k])
$box2.iounder().css({top:'-2px',left:'-3px',height:Math.round($box2.height()+4)+'px',width:Math.round($box2.width()+6)+'px'}).iodrawRoundbox(draw2);var a=null;if(!type2||type2=='plain')a=$box2.ioatomsPlainButton(setup)
if(type2=='onoff')a=$box2.ioatomsOnOffButton($.hm(setup,{off:0.4,hover:0.7,on:1.0}));if(type2&&type2=='onoff'&&cs[k])a.onchange(function(state){var cc=cs[k];cc(k,vs[k],state,$box2);});else if(cs[k])a.onclick(function(e){var cc=cs[k];cc(k,vs[k],e,$box2);})
return a;}
var closebutton=function(){var $box2=$box.ioover($.hm({float:'left',position:'relative','font-size':fontsize,height:'1.2em'}))
$box2.css({width:Math.round($box2.height())+'px'})
var a=$box2.iodrawClose().ioatomsPlainButton($.hm(setup,{donotwrap:true,off:1.0,hover:0.8,on:0.6}))
if(closec)a.onclick(closec)}
if(showclosebutton)closebutton();$box.ioloop($.hk(vs),'1ms',function(dom,value,sleep,c){if(!value.length){if(!donotclosefloat)$box.ioover(true).css({clear:'both'});if(donec)donec(as);return c();}
var k=value.shift();as[k]=button(k)
c(value);})}
$.fn.iobutton=function(text,fontsize,type,draw,css,setup){if($.ioutils.stats)$.ioutils.stats.push({type:'iobase.iobutton',text:text,fontsize:fontsize,type:type})
if(!fontsize)fontsize=$.io.font.normal;if(!type)type='plain';if(!draw)draw=$.io.style.canvas.normal;if(!setup)setup={};if(!css)css={};return $(this).eq(0).ioover($.hm($.io.style.box.line,$.hm(css,{'font-size':fontsize}))).append(text).ioatomsButton({type:type,draw:draw,setup:$.hm(setup,{donotwrap:true})})}
$.fn.iofloatbutton=function(text,fontsize,type,draw,wrapsetup,setup){if($.ioutils.stats)$.ioutils.stats.push({type:'iobase.iofloatbutton',text:text,fontsize:fontsize,type:type})
if(!fontsize)fontsize=$.io.font.normal;if(!type)type='plain';if(!draw)draw=$.io.style.canvas.structure;if(!wrapsetup)wrapsetup={margin:'1px 2px',width:'auto',height:'auto'}
if(!setup)setup={};setup.wrapsetup=wrapsetup;return $(this).eq(0).ioover($.hm($.io.style.inline.box,{'font-size':fontsize})).append(text).ioatomsButton({type:type,draw:draw,setup:setup})}
$.fn.iotextbutton=function(c,color,atags){if(!color)color='#000';var one=function($box){$box.css({color:color,'text-decoration':'underline'})
$box.ioatomsPlainButton({donotdraw:true,donotwrap:true,off:1.0,hover:0.7,on:0.4}).onclick(function(){if(c)c($.trim($box.text()),$box)});if(atags){$box.attr('unselectable',null);$box.attr('unselectstart',null);$box.attr('undragstart',null);}}
$(this).each(function(){one($(this));})}
$.fn.iotextbuttons=function(list,c,color,tag,between){if(!tag)tag='strong';if(!between)between=' - ';if(!color)color='#000';var L=$.ttl(list);for(var i in L)L[i]='<'+tag+'>'+L[i]+'</'+tag+'>';$(this).first().empty().append($.ltt(L,between)).find(tag).iotextbutton(c,color);}
$.fn.iobuttonlist=function(list,fontsize,props,handles,specialdraws,specialtypes,donec){if($.ioutils.stats)$.ioutils.stats.push({type:'iobase.iobuttonlist',list:list,fontsize:fontsize})
var atoms={label:atom};if($.isString(list))list=$.s2l(list);var $box=$(this).eq(0);var buttonhandle=function(text,atom,event,handle){if(event=='onclick')atom.onclick(function(){handle(text,event,atom)})
if(event=='onon')atom.onon(function(){handle(text,event,atom)})
if(event=='onoff')atom.onoff(function(){handle(text,event,atom)})}
var button=function(text){var atom=$box.iobutton(text,fontsize,specialtypes&&specialtypes[text]?specialtypes[text]:props.type,specialdraws&&specialdraws[text]?specialdraws[text]:props.draw,props.setup);for(var event in handles)buttonhandle(text,atom,event,handles[event]);return atom;}
$box.ioloop(list,'1ms',function(dom,value,sleep,c){if(!value.length){if(donec)donec(atoms);return c();}
var label=value.shift();atoms[label]=button(label);c(value);})}
$.fn.iofloatbuttonlist=function(list,fontsize,props,handles,specialdraws,specialtypes,donec,donotwrap){if($.ioutils.stats)$.ioutils.stats.push({type:'iobase.iofloatbuttonlist',list:list,fontsize:fontsize})
var atoms={};if($.isString(list))list=$.s2l(list);var $box=$(this).eq(0);if(!donotwrap)$box=$box.ioover(true);var buttonhandle=function(text,atom,event,handle){if(event=='onclick')atom.onclick(function(){handle(text,event,atom)})
if(event=='onon')atom.onon(function(){handle(text,event,atom)})
if(event=='onoff')atom.onoff(function(){handle(text,event,atom)})}
var button=function(text){var type=specialtypes&&specialtypes[text]?specialtypes[text]:props.type
var atom=$box.iofloatbutton(text,fontsize,type,specialdraws&&specialdraws[text]?specialdraws[text]:props.draw,props.wrapsetup,props.setup);for(var event in handles)buttonhandle(text,atom,event,handles[event]);return atom;}
$box.ioloop(list,'1ms',function(dom,value,sleep,c){if(!value.length){if(!donotwrap)$box.ioover(true).css({clear:'both'});if(donec)donec(atoms);return c();}
var label=value.shift();atoms[label]=button(label)
c(value);})}
$.fn.iobuttonhash=function(hash,fontsize,props,specialdraws,specialtypes,donec){if($.ioutils.stats)$.ioutils.stats.push({type:'iobase.iobuttonhash',list:$.hk(hash),fontsize:fontsize})
var atoms={};var $box=$(this).eq(0);var button=function(key){var type=specialtypes&&specialtypes[key]?specialtypes[key]:props.type
var atom=$box.iobutton(key,fontsize,type,specialdraws&&specialdraws[key]?specialdraws[key]:props.draw,props.setup);if(type&&type=='onoff')atom.onchange(hash[key]);else atom.onclick(hash[key])
return atom;}
$box.ioloop($.hk(hash),'1ms',function(dom,value,sleep,c){if(!value.length){if(donec)donec(atoms);return c();}
var label=value.shift()
atoms[label]=button(label)
c(value);})}
$.fn.iofloatbuttonhash=function(hash,fontsize,props,specialdraws,specialtypes,donec,donotwrap){if($.ioutils.stats)$.ioutils.stats.push({type:'iobase.iofloatbuttonhash',list:$.hk(hash),fontsize:fontsize})
var atoms={};var $box=$(this).eq(0);if(!donotwrap)$box=$box.ioover(true);var button=function(key){var type=specialtypes&&specialtypes[key]?specialtypes[key]:props.type;var atom=$box.iofloatbutton(key,fontsize,type,specialdraws&&specialdraws[key]?specialdraws[key]:props.draw,props.wrapsetup,props.setup);if(type&&type=='onoff')atom.onchange(hash[key]);else atom.onclick(hash[key])
return atom;}
$box.ioloop($.hk(hash),'1ms',function(dom,value,sleep,c){if(!value.length){if(!donotwrap)$box.ioover(true).css({clear:'both'});if(donec)donec(atoms);return c();}
var label=value.shift()
atoms[label]=button(label)
c(value);})}})(jQuery);


(function($){$.iodraw={};$.iodraw.mode='canvas';$.fn.canvas=function(p){if($.iodraw.mode=='canvas')return $(this).plaincanvas(p);else return $(this).svgcanvas(p);}
$.fn.plaincanvas=function(p){var list=[];var base=['#fff',0.3,'#fff',1.0,0.3,5];$(this).ioatom(base,p);$(this).each(function(){if(this.canvas){list.push(this.canvas);return;}
this.canvas=this.ioatom;this.canvas.start=function(){var me=this;me.info={width:me.outer().width(),height:me.outer().height()};if(!me.info.height||!me.info.width){$.log('ERROR! zero dimensions in canvas dom:',me.dom);iocanvasdomWithZeroDimensions();return;}
var $canvas=$('<canvas style="position:absolute;top:0px;left:0px;width:100%;height:100%;" width="'+me.info.width+'" height="'+me.info.height+'"></canvas>');me.inner(me.outer().prepend($canvas).find('canvas'))
if($.browser.msie)
me.inner($(G_vmlCanvasManager.initElement(me.inner().get(0))));me.info.c=me.inner().get(0).getContext('2d');}
this.canvas.deg2rad=function(deg){return 2*3.14159265*(deg / 360);}
this.canvas.linearGradient=function(p){var props={start:{x:0,y:0},end:{x:0,y:this.info.height},stops:$.hm({'0':'rgba( 255, 255, 255, 0.0)','1':'rgba( 255, 255, 255, 1.0)'},p)};var g=this.info.c.createLinearGradient(props.start.x,props.start.y,props.end.x,props.end.y);for(var pos in props.stops)g.addColorStop(pos,props.stops[pos]);return g;}
this.canvas.style=function(s){var me=this;if(s.length>1){if($.isString(s[0]))me.info.c.fillStyle=$.hex2rgba(s[0],s[1]);if($.isObject(s[0]))me.info.c.fillStyle=me.linearGradient($.rgbagradient(s[0]));}
if(s.length>3){if($.isString(s[2]))me.info.c.strokeStyle=$.hex2rgba(s[2],s[3]);if($.isObject(s[2]))me.info.c.strokeStyle=me.linearGradient($.rgbagradient(s[2]));}
if(s.length>4)me.info.c.lineWidth=s[4];return this;}
this.canvas.path=function(blocks){for(var i=0;i<blocks.length;i++){var arg1=null;var arg2=null;var arg3=null;var arg4=null;if(blocks[i].length>=2)arg1=blocks[i][1];if(blocks[i].length>=3)arg2=blocks[i][2];if(blocks[i].length>=4)arg3=blocks[i][3];if(blocks[i].length>=5)arg4=blocks[i][4];if(blocks[i][0]=='moveTo')this.moveTo(arg1);if(blocks[i][0]=='arc')this.arc(arg1,arg2,arg3);if(blocks[i][0]=='arcTo')this.arcTo(arg1,arg2,arg3,arg4);if(blocks[i][0]=='bezierCurveTo')this.bezierCurveTo(arg1,arg2,arg3,arg4);if(blocks[i][0]=='quadraticCurveTo')this.quadraticCurveTo(arg1,arg2,arg3);if(blocks[i][0]=='lineTo')this.lineTo(arg1,arg2);}}
this.canvas.translate=function(where){this.info.c.translate(where[0],where[1]);return this;}
this.canvas.rotate=function(deg){this.info.c.rotate(this.deg2rad(deg));return this;}
this.canvas.beginPath=function(){this.info.c.beginPath();return this;}
this.canvas.closePath=function(){this.info.c.closePath();return this;}
this.canvas.stroke=function(){this.info.c.stroke();return this;}
this.canvas.fill=function(){this.info.c.fill();return this;}
this.canvas.moveTo=function(c,style){if(style)this.style(style);var x=parseFloat(c[0]);var y=parseFloat(c[1]);if(!x)x=0;if(!y)y=0;this.info.c.moveTo(x,y);return this;}
this.canvas.arc=function(c,p,style){var props=$.hr({'radius':50,'startAngle':0,'endAngle':360,'clockwise':true},p);if(style)this.style(style);this.info.c.arc(c[0],c[1],props.radius,this.deg2rad(props.startAngle),this.deg2rad(props.endAngle),props.clockwise?1:0);return this;}
this.canvas.arcTo=function(c1,c2,p,style){var props=$.hr({'radius':50},p);if(style)this.style(style);this.info.c.arcTo(c1[0],c1[1],c2[0],c2[1],props.radius);return this;}
this.canvas.bezierCurveTo=function(r1,r2,end,style){if(style)this.style(style);this.info.c.bezierCurveTo(r1[0],r1[1],r2[0],r2[1],end[0],end[1]);return this;}
this.canvas.quadraticCurveTo=function(r1,end,style){if(style)this.style(style);this.info.c.quadraticCurveTo(r1[0],r1[1],end[0],end[1]);return this;}
this.canvas.clearRect=function(c,p,style){if(style)this.style(style);var props=$.hr({width:this.info.width,height:this.info.height},p);if(!c)c=[0,0];this.info.c.clearRect(c[0],c[1],props.width,props.height);return this;}
this.canvas.fillRect=function(c,p,style){if(style)this.style(style);if(!c)c=[0,0];var props=$.hr({width:this.info.width,height:this.info.height},p);this.info.c.fillRect(c[0],c[1],props.width,props.height);return this;}
this.canvas.strokeRect=function(c,p,style){if(style)this.style(style);var props=$.hr({width:this.info.width,height:this.info.height},p);this.info.c.strokeRect(c[0],c[1],props.width,props.height);return this;}
this.canvas.rect=function(c,p,style){if(style)this.style(style);var props=$.hr({width:this.info.width,height:this.info.height},p);this.info.c.rect(c[0],c[1],props.width,props.height);return this;}
this.canvas.lineTo=function(end,style){var x=end[0];var y=end[1];if(!x)x=0;if(!y)y=0;if(style)this.style(style);this.info.c.lineTo(x,y);return this;}
this.canvas.polygon=function(start,blocks,p,style){var props=$.hr({fill:false,stroke:true,close:false},p);if(props.fill){this.style([style[0],style[1],style[2],0,style[4]])
this.beginPath();this.moveTo(start);this.path(blocks);if(props.close){this.moveTo(start);this.closePath();}
this.fill();}
if(props.stroke){this.style([style[0],0,style[2],style[3],style[4]]);this.beginPath();this.moveTo(start);this.path(blocks);if(props.close){this.moveTo(start);this.closePath();}
this.stroke();}
return this;}
list.push(this.canvas);this.canvas.start();});if(list.length==1)return list[0];if(list.length>1)return list;return this;}
$.fn.decanvas=function(){$(this).each(function(){if(!this.canvas)return;this.canvas=null;});return this;}
$.fn.iodrawRoundboxHGradient=function(p,debug){var me=this;var props=$.hm([{'0':[$.io.defs.colors.fg,0],'1':[$.io.defs.colors.fg,1.0]},0,$.io.defs.colors.fg,1.0,$.io.defs.canvas.lw,$.io.defs.canvas.corner],p);if(debug)$.log('props:',props);$(this).each(function(){var h=$(this).height();var w=$(this).width();var lw=props[4];var c=props[5];$(this).canvas().translate([0,h]).rotate(-90).polygon([c+lw,lw],[['quadraticCurveTo',[lw,lw],[lw,lw+c]],['lineTo',[lw,w-lw-c]],['quadraticCurveTo',[lw,w-lw],[lw+c,w-lw]],['lineTo',[h-lw-c,w-lw]],['quadraticCurveTo',[h-lw,w-lw],[h-lw,w-lw-c]],['lineTo',[h-lw,lw+c]],['quadraticCurveTo',[h-lw,lw],[h-lw-c,lw]],['lineTo',[lw+c,lw]]],{stroke:true,fill:true},props);});return this;}
$.fn.iodrawRoundboxGradient=function(p){var props=$.hm([{'0':[$.io.defs.colors.fg,0],'1':[$.io.defs.colors.fg,1.0]},0,$.io.defs.colors.fg,1.0,$.io.defs.canvas.lw,$.io.defs.canvas.corner],p);$(this).each(function(){var h=$(this).height();var w=$(this).width();var lw=props[4];var c=props[5];$(this).canvas(props.pos).polygon([c+lw,lw],[['quadraticCurveTo',[lw,lw],[lw,lw+c]],['lineTo',[lw,h-lw-c]],['quadraticCurveTo',[lw,h-lw],[lw+c,h-lw]],['lineTo',[w-lw-c,h-lw]],['quadraticCurveTo',[w-lw,h-lw],[w-lw,h-lw-c]],['lineTo',[w-lw,lw+c]],['quadraticCurveTo',[w-lw,lw],[w-lw-c,lw]],['lineTo',[lw+c,lw]]],{stroke:true,fill:true},props);});return this;}
$.fn.iodrawRoundbox=function(p){var props=$.hm([$.io.defs.colors.fg,0.3,$.io.defs.colors.fg,1.0,$.io.defs.canvas.lw,$.io.defs.canvas.corner],p);$(this).each(function(){var h=$(this).height();var w=$(this).width();var lw=props[4];var c=props[5];$(this).canvas().polygon([c+lw,lw],[['quadraticCurveTo',[lw,lw],[lw,lw+c]],['lineTo',[lw,h-lw-c]],['quadraticCurveTo',[lw,h-lw],[lw+c,h-lw]],['lineTo',[w-lw-c,h-lw]],['quadraticCurveTo',[w-lw,h-lw],[w-lw,h-lw-c]],['lineTo',[w-lw,lw+c]],['quadraticCurveTo',[w-lw,lw],[w-lw-c,lw]],['lineTo',[lw+c,lw]]],{stroke:true,fill:true},props);});return this;}
$.fn.iodrawClose=function(p){var props=$.hm([$.io.defs.colors.fg,0.3,$.io.defs.colors.bg,1.0,$.io.defs.canvas.dw,$.io.defs.canvas.corner],p);props[3]=1.0;$(this).each(function(){var h=$(this).height();var w=$(this).width();var lw=h*props[4];if(lw>15)lw=15;var r=h / 2;if(w<h){lw=w*props[4];r=w / 2;}
$(this).iodrawRoundbox([props[0],props[1],props[2],0,0,props[5]])
$(this).canvas().style([props[0],0,props[2],props[3],lw]).beginPath().moveTo([w / 2-0.6*r,h / 2-0.6*r]).lineTo([w / 2+0.6*r,h / 2+0.6*r]).stroke().beginPath().moveTo([w / 2+0.6*r,h / 2-0.6*r]).lineTo([w / 2-0.6*r,h / 2+0.6*r]).stroke();});return this;}
$.fn.iodrawMinimize=function(p){var props=$.hm([$.io.defs.colors.fg,0.3,$.io.defs.colors.bg,1.0,$.io.defs.canvas.dw,$.io.defs.canvas.corner],p);props[3]=1.0;$(this).each(function(){var h=$(this).height();var w=$(this).width();var lw=h*props[4];var r=h / 2;if(w<h){lw=w*props[4];r=w / 2;}
$(this).iodrawRoundbox([props[0],props[1],props[2],0,0,props[5]])
$(this).canvas().style([props[0],0,props[2],props[3],lw]).beginPath().moveTo([w / 2-0.6*r,h / 2+0.3*r]).lineTo([w / 2+0.6*r,h / 2+0.3*r]).stroke();});return this;}
$.fn.iodrawInfo=function(p){var props=$.hm([$.io.defs.colors.fg,0.3,$.io.defs.colors.bg,1.0,$.io.defs.canvas.dw,$.io.defs.canvas.corner],p);props[3]=1.0;$(this).each(function(){var h=$(this).height();var w=$(this).width();var lw=h*props[4];var r=h / 2;if(w<h){lw=w*props[4];r=w / 2;}
$(this).iodrawRoundbox([props[0],props[1],props[2],0,0,props[5]])
$(this).canvas().style([props[0],0,props[2],props[3],lw]).beginPath().moveTo([w / 2,h / 2-0.3*r]).lineTo([w / 2,h / 2+0.7*r]).stroke()
$(this).canvas().style([props[2],props[3],props[2],0,0]).beginPath().moveTo([w / 2,h / 2-0.6*r]).arc([w / 2,h / 2-0.6*r],{radius:0.2*r,startAngle:0,endAngle:360}).fill();});return this;}
$.fn.iodrawForward=function(p,log){var props=$.hm([$.io.defs.colors.fg,0.3,$.io.defs.colors.bg,1.0,$.io.defs.canvas.dw,$.io.defs.canvas.corner],p);props[3]=1.0;$(this).each(function(){var h=$(this).height();var w=$(this).width();var r=h / 2;if(w<h)r=w / 2;var lw=props[4]*r*2;$(this).iodrawRoundbox([props[0],props[1],props[2],0,0,props[5]])
$(this).canvas().style([props[0],0,props[2],props[3],lw]).beginPath().moveTo([w / 2-0.4*r,h / 2-0.7*r]).lineTo([w / 2+0.6*r,h / 2]).lineTo([w / 2-0.4*r,h / 2+0.7*r]).stroke()});return this;}
$.fn.iodrawBackward=function(p,log){var props=$.hm([$.io.defs.colors.fg,0.3,$.io.defs.colors.bg,1.0,$.io.defs.canvas.dw,$.io.defs.canvas.corner],p);props[3]=1.0;$(this).each(function(){var h=$(this).height();var w=$(this).width();var r=h / 2;if(w<h)r=w / 2;var lw=props[4]*r*2;$(this).iodrawRoundbox([props[0],props[1],props[2],0,0,props[5]])
$(this).canvas().style([props[0],0,props[2],props[3],lw]).beginPath().moveTo([w / 2+0.4*r,h / 2-0.7*r]).lineTo([w / 2-0.6*r,h / 2]).lineTo([w / 2+0.4*r,h / 2+0.7*r]).stroke()});return this;}
$.fn.iodrawFastForward=function(p,log){var props=$.hm([$.io.defs.colors.fg,0.3,$.io.defs.colors.bg,1.0,$.io.defs.canvas.dw,$.io.defs.canvas.corner],p);props[3]=1.0;$(this).each(function(){var h=$(this).height();var w=$(this).width();var lw=h*props[4];var r=h / 2;if(w<h){lw=w*props[4];r=w / 2;}
$(this).iodrawRoundbox([props[0],props[1],props[2],0,0,props[5]])
$(this).canvas().style([props[0],0,props[2],props[3],lw]).beginPath().moveTo([w / 2-0.5*r,h / 2-0.6*r]).lineTo([w / 2+0.1*r,h / 2]).lineTo([w / 2-0.5*r,h / 2+0.6*r]).stroke()
$(this).canvas().style([props[0],0,props[2],props[3],lw]).beginPath().moveTo([w / 2+0.1*r,h / 2-0.7*r]).lineTo([w / 2+0.7*r,h / 2]).lineTo([w / 2+0.1*r,h / 2+0.7*r]).stroke();});return this;}
$.fn.iodrawFastBackward=function(p,log){var props=$.hm([$.io.defs.colors.fg,0.3,$.io.defs.colors.bg,1.0,$.io.defs.canvas.dw,$.io.defs.canvas.corner],p);props[3]=1.0;$(this).each(function(){var h=$(this).height();var w=$(this).width();var lw=h*props[4];var r=h / 2;if(w<h){lw=w*props[4];r=w / 2;}
$(this).iodrawRoundbox([props[0],props[1],props[2],0,0,props[5]])
$(this).canvas().style([props[0],0,props[2],props[3],lw]).beginPath().moveTo([w / 2+0.5*r,h / 2-0.6*r]).lineTo([w / 2-0.1*r,h / 2]).lineTo([w / 2+0.5*r,h / 2+0.6*r]).stroke()
$(this).canvas().style([props[0],0,props[2],props[3],lw]).beginPath().moveTo([w / 2-0.1*r,h / 2-0.7*r]).lineTo([w / 2-0.7*r,h / 2]).lineTo([w / 2-0.1*r,h / 2+0.7*r]).stroke();});return this;}
$.fn.iodrawDown=function(p,log){var props=$.hm([$.io.defs.colors.fg,0.3,$.io.defs.colors.bg,1.0,$.io.defs.canvas.dw,$.io.defs.canvas.corner],p);props[3]=1.0;$(this).each(function(){var h=$(this).height();var w=$(this).width();var lw=h*props[4];var r=h / 2;if(w<h){lw=w*props[4];r=w / 2;}
$(this).iodrawRoundbox([props[0],props[1],props[2],0,0,props[5]])
$(this).canvas().style([props[0],0,props[2],props[3],lw]).beginPath().moveTo([w / 2-0.7*r,h / 2-0.4*r]).lineTo([w / 2,h / 2+0.5*r]).lineTo([w / 2+0.7*r,h / 2-0.4*r]).stroke();});return this;}
$.fn.iodrawUp=function(p,log){var props=$.hm([$.io.defs.colors.fg,0.3,$.io.defs.colors.bg,1.0,$.io.defs.canvas.dw,$.io.defs.canvas.corner],p);props[3]=1.0;$(this).each(function(){var h=$(this).height();var w=$(this).width();var lw=h*props[4];var r=h / 2;if(w<h){lw=w*props[4];r=w / 2;}
$(this).iodrawRoundbox([props[0],props[1],props[2],0,0,props[5]])
$(this).canvas().style([props[0],0,props[2],props[3],lw]).beginPath().moveTo([w / 2-0.7*r,h / 2+0.4*r]).lineTo([w / 2,h / 2-0.5*r]).lineTo([w / 2+0.7*r,h / 2+0.4*r]).stroke();});return this;}
$.fn.iodrawOnOff=function(p,log){var props=$.hm([$.io.defs.colors.fg,0.3,$.io.defs.colors.bg,1.0,$.io.defs.canvas.dw,$.io.defs.canvas.corner],p);props[3]=1.0;$(this).each(function(){var h=$(this).height();var w=$(this).width();var lw=h*props[4];var r=h / 2;if(w<h){lw=w*props[4];r=w / 2;}
$(this).iodrawRoundbox([props[0],props[1],props[2],0,0,props[5]])
$(this).canvas().style([props[0],0.1,props[2],props[3],lw]).arc([w / 2,h / 2],{radius:0.6*r,startAngle:-120,endAngle:-60}).fill()
$(this).canvas().style([props[0],0,props[2],props[3],lw]).beginPath().arc([w / 2,h / 2],{radius:0.6*r,startAngle:-120,endAngle:-60}).stroke()
$(this).canvas().style([props[0],0,props[2],props[3],lw]).beginPath().moveTo([w / 2,h / 2-0.9*r]).lineTo([w / 2,h / 2]).stroke();});return this;}
$.fn.iodrawRefresh=function(p,log){var props=$.hm([$.io.defs.colors.fg,0.3,$.io.defs.colors.bg,1.0,$.io.defs.canvas.dw,$.io.defs.canvas.corner],p);props[3]=1.0;$(this).each(function(){var h=$(this).height();var w=$(this).width();var lw=h*props[4];if(lw>10)lw=10;var r=h / 2;if(w<h){lw=w*props[4];r=w / 2;}
$(this).iodrawRoundbox([props[0],props[1],props[2],0,0,props[5]])
$(this).canvas().style([props[0],props[1],props[2],0,lw]).beginPath().arc([w / 2,h / 2],{radius:0.6*r,startAngle:-140,endAngle:90}).stroke()
$(this).canvas().style([props[0],0,props[2],props[3],lw]).beginPath().arc([w / 2,h / 2],{radius:0.6*r,startAngle:-140,endAngle:90}).stroke()
$(this).canvas().style([props[0],0,props[2],props[3],lw]).beginPath().moveTo([w / 2-0.2*r,h / 2+0.2*r]).lineTo([w / 2+0.2*r,h / 2+0.6*r]).lineTo([w / 2-0.2*r,h / 2+0.85*r]).stroke()
$(this).canvas().style([props[0],0,props[2],props[3],lw]).beginPath().style({lineWidth:lw,strokeStyle:'rgba( 255, 255, 255, 0)'}).arc([w / 2,h / 2],{radius:0.6*r,startAngle:40,endAngle:-90}).stroke()
$(this).canvas().style([props[0],0,props[2],props[3],lw]).beginPath().arc([w / 2,h / 2],{radius:0.6*r,startAngle:40,endAngle:-90}).stroke()
$(this).canvas().style([props[0],0,props[2],props[3],lw]).beginPath().moveTo([w / 2+0.2*r,h / 2-0.2*r]).lineTo([w / 2-0.2*r,h / 2-0.6*r]).lineTo([w / 2+0.2*r,h / 2-0.85*r]).stroke()});return this;}})(jQuery);


(function($){$.ioatoms={};$.fn.ioatom=function(b,p,events,donothook,strictReplace,keepEmptyStrings){var list=[];var props;if(strictReplace)props=$.hr(b,p,keepEmptyStrings);else props=$.hm(b,p,keepEmptyStrings);$(this).each(function(){var ioatom={};if(!donothook)this.ioatom=ioatom;ioatom.parent=null;ioatom.dom=this;ioatom.innerdom=null;ioatom.logflag=false;ioatom.logid='NOLOGPREFIX';ioatom.props=props;ioatom.info={};ioatom.logon=function(){this.logflag=true;}
ioatom.logoff=function(){this.logflag=false;}
ioatom.log=function(one,two,three,four,five,six,seven){if(this.logflag)$.log(this.logid+' : '+one,two,three,four,five,six,seven);}
ioatom.tell=function(cs,one,two,three,four,five,six,seven,eight,nine){var stats={type:ioatom.logid};if($.isString(cs)&&cs.length)stats.event=cs;if($.isString(cs)&&cs.substr(0,2)!='on')cs='on'+cs;if($.isString(cs)&&(cs=='ons'||cs=='on'))cs='onons';if(cs==='onreply')cs='onreplies';if($.isString(cs)&&cs.substr(cs.length-1,1)!='s')cs+='s';if(!cs)return;if($.isString(cs)&&$.isArray(ioatom[cs]))cs=ioatom[cs];if($.isString(cs)&&ioatom[cs])cs=ioatom[cs];if(!cs||!cs.length)return;for(var i=0;i<cs.length;i++)if(cs[i]){var cc=cs[i];cc(one,two,three,four,five,six,seven,eight,nine);}
stats.count=cs.length;if($.ioutils.stats)$.ioutils.stats.push(stats,ioatom.logname?ioatom.logname:null);}
ioatom.outer=function($dom){if(!$dom)return $(this.dom);this.dom=$dom.get(0);return this;}
ioatom.inner=function($dom){if(!$dom)return $(this.innerdom);else this.innerdom=$dom.get(0);return $(this.innerdom);}
if(events)events=$.s2l(events);else events=$.s2l('error,close,delete,keydown,keyup,keypressed,on,off,active,passive,reply,change,select,focus,blur,load,unload,reload,reset,click,dblclick,mouseover,mouseout,mousemove,mousedown,mouseup');for(var i in events)ioatom[events[i]=='reply'?'onreplies':'on'+events[i]+'s']=[];var register=function(which){ioatom['on'+which]=function(c){ioatom[(which=='reply')?'onreplies':'on'+which+'s'].push(c);return ioatom;}}
for(var i in events)register(events[i]);ioatom.callstime=null;ioatom.calls={};ioatom.queue=function(c){var me=this;var cc;if(!$.hk(me.calls).length)me.callstime=$.iotime();var key=''+($.iotime()-me.callstime);if(me.calls[key]){cc=me.calls[key];cc();}
me.calls[key]=c;return key;}
ioatom.dequeue=function(key){if(!this.calls[key])return function(){};var c=this.calls[key];delete this.calls[key];return c;}
ioatom.stop=function(key){var cc=this.dequeue(key);cc();return this;}
ioatom.stopall=function(){var me=this;var cc=null;for(var k in me.calls){cc=me.calls[k];cc();}
me.calls={};return this;}
list.push(ioatom);})
if(list.length==1)return list[0];if(list.length>1)return list;return this;}
$.fn.iodeatom=function(){$(this).each(function(){this.ioatom=null;});return this;}})(jQuery);

(function($){$.fn.ioatomsButton=function(p){var list=[];var base={type:'plain',draw:[],setup:{},css:{}};$(this).ioatom(base,p);$(this).each(function(){this.ioatom.atoms={};this.ioatom.logid='ioatomsButton';this.ioatom.start=function(quit){var me=this;switch(me.props.type){case'plain':me.atoms.atom=me.outer().ioatomsPlainButton(me.props.setup);break;case'glow':me.atoms.atom=me.outer().ioatomsGlowButton(me.props.setup);break;case'onoff':me.atoms.atom=me.outer().ioatomsOnOffButton(me.props.setup);break;case'sdclick':me.atoms.atom=me.outer().ioatomsSDClickButton(me.props.setup);break;case'safety':me.atoms.atom=me.outer().ioatomsSafetyButton(me.props.setup);break;case'confirm':me.atoms.atom=me.outer().ioatomsConfirmButton(me.props.setup);break;}
me.atoms.atom.props.parent=me;me.outer().iounselectable().iodrawRoundbox(me.props.draw);me.outer().hover(function(){me.outer().css({cursor:'pointer'})})
return me.atoms.atom;}
list.push(this.ioatom.start());});if(list.length==1)return list[0];if(list.length>1)return list;return this;}
$.fn.ioatomsPlainButton=function(p){var list=[];var base={off:1.0,freeze:0.2,hover:0.8,on:0.6,linger:'100ms',draw:[],donotwrap:false,wrapsetup:null,donotfreeze:true};$(this).ioatom(base,p,'load,mouseover,mouseout,mousedown,mouseup,mousemove,click,dblclick');$(this).each(function(){this.ioatom.logid='ioatomsPlainButton';this.ioatom.start=function(){var me=this;me.logname=me.outer().text();me.inner(me.outer());if(!me.props.donotwrap)me.inner(me.outer().iowrap(me.props.wrapsetup));me.inner().iounselectable();me.dispatch();me.tell('onloads');}
this.ioatom.dispatch=function(opacity){var me=this;me.logname=me.outer().text();me.inner().unbind();me.stopall().outer().ioanimalpha(me.props.hover,me.props.off,'fast',null,me);me.inner().mouseover(function(e){me.tell('onmouseovers',e);me.stopall().outer().ioanimalpha(me.props.off,me.props.hover,'fast',null,me);});me.inner().mouseout(function(e){me.tell('onmouseouts',e);me.stopall().outer().ioanimalpha(me.props.hover,me.props.off,'fast',null,me);});if(me.ondblclicks)me.inner().dblclick(function(e){me.tell('ondblclicks',e);})
me.inner().click(function(e){me.tell('onclicks',e);me.stopall().outer().ioanimalpha(me.props.hover,me.props.on,'fast',function(){if(!me.props.donotfreeze)return me.freeze();me.stopall().outer().ioanimalpha(me.props.on,me.props.hover,'fast',null,me);},me);});if(me.onmousedowns)me.inner().mousedown(function(e){me.tell('onmousedowns',e);})
if(me.onmouseups)me.inner().mouseup(function(e){me.tell('onmouseups',e);})
if(me.onmousemoves)me.inner().mousemove(function(e){me.tell('onmousemoves',e);})}
this.ioatom.freeze=function(){var me=this;me.inner().unbind();me.stopall().outer().ioanimalpha(me.props.on,me.props.freeze,'fast',null,me);return this;}
this.ioatom.unfreeze=function(){this.dispatch();return this;}
this.ioatom.start();list.push(this.ioatom);});if(list.length==1)return list[0];if(list.length>1)return list;return this;}
$.fn.ioatomsGlowButton=function(p){var list=[];var base={off:1.0,freeze:0.2,hover:0.8,on:0.6,linger:'100ms',draw:[],donotwrap:false,wrapsetup:null,donotfreeze:true};$(this).ioatom(base,p,'load,mouseover,mouseout,click');$(this).each(function(){this.ioatom.logid='ioatomsGlowButton';this.ioatom.start=function(){var me=this;me.logname=me.outer().text();me.inner(me.outer());if(!me.props.donotwrap)me.inner(me.outer().iowrap(me.props.wrapsetup));me.inner().iounselectable();me.dispatch();me.tell('onloads');}
this.ioatom.dispatch=function(opacity){var me=this;me.inner().unbind();me.inner().mouseover(function(e){me.tell('onmouseovers',e);me.stopall().outer().ioanimalpha(me.props.off,me.props.hover,'fast',function(){me.glow(me.props.hover)},me);});me.inner().mouseout(function(e){me.tell('onmouseouts',e);me.stopall().outer().ioanimalpha(me.props.hover,me.props.off,'fast',function(){me.glow(me.props.off)},me);});me.inner().click(function(e){me.tell('onclicks',e);me.stopall().outer().ioanimalpha(me.props.hover,me.props.on,'fast',function(){if(!me.props.donotfreeze)return me.freeze();me.stopall().outer().ioanimalpha(me.props.on,me.props.hover,'fast',null,me);me.outer().stopTime().oneTime('3s',function(){me.glow(me.props.hover)})},me);});me.glow(me.props.off);}
this.ioatom.glow=function(alpha){var me=this;if(!me.inner().isindom())return me.log('DOM disappeared, STOP!');me.log('glowing');var low=alpha-0.1;if(low<0)low=0;var high=alpha+0.1;if(high>1)high=1;me.outer().ioanimalpha(low,high,'fast',function(){me.stopall().outer().ioanimalpha(high,low,'fast',function(){me.outer().stopTime().oneTime('500ms',function(){me.glow(alpha);})},me);},me);}
this.ioatom.freeze=function(){var me=this;me.inner().unbind();me.stopall().outer().ioanimalpha(me.props.on,me.props.freeze,'fast',null,me);return this;}
this.ioatom.unfreeze=function(){this.dispatch();return this;}
this.ioatom.start();list.push(this.ioatom);});if(list.length==1)return list[0];if(list.length>1)return list;return this;}
$.fn.ioatomsSDClickButton=function(p){var list=[];var base={off:1.0,freeze:0.2,hover:0.8,on:0.6,linger:'100ms',draw:[],donotwrap:false,wrapsetup:null,donotfreeze:true};$(this).ioatom(base,p,'load,mouseover,mouseout,click,dblclick');$(this).each(function(){this.ioatom.logid='ioatomsSDClickButton';this.ioatom.start=function(){var me=this;me.logname=me.outer().text();me.inner(me.outer());if(!me.props.donotwrap)me.inner(me.outer().iowrap(me.props.wrapsetup));me.inner().iounselectable();me.dispatch();me.tell('onloads');}
this.ioatom.dispatch=function(opacity){var me=this;me.inner().unbind();me.stopall().outer().ioanimalpha(me.props.hover,me.props.off,'fast',null,me);me.inner().mouseover(function(e){me.tell('onmouseovers',e);me.stopall().outer().ioanimalpha(me.props.off,me.props.hover,'fast',null,me);});me.inner().mouseout(function(e){me.tell('onmouseouts',e);me.stopall().outer().ioanimalpha(me.props.hover,me.props.off,'fast',null,me);});me.inner().dblclick(function(e){me.tell('ondblclicks',e);me.stopall().outer().ioanimalpha(me.props.hover,me.props.on,'fast',function(){if(!me.props.donotfreeze)return me.freeze();me.stopall().outer().ioanimalpha(me.props.on,me.props.hover,'fast',null,me);},me);});me.inner().click(function(e){me.tell('onclicks',e);me.stopall().outer().ioanimalpha(me.props.hover,me.props.on,'fast',function(){if(!me.props.donotfreeze)return me.freeze();me.stopall().outer().ioanimalpha(me.props.on,me.props.hover,'fast',null,me);},me);});}
this.ioatom.freeze=function(){var me=this;me.inner().unbind();me.stopall().outer().ioanimalpha(me.props.on,me.props.freeze,'fast',null,me);return this;}
this.ioatom.unfreeze=function(){this.dispatch();return this;}
this.ioatom.start();list.push(this.ioatom);});if(list.length==1)return list[0];if(list.length>1)return list;return this;}
$.fn.ioatomsSafetyButton=function(p){var list=[];var base={off:1.0,freeze:0.2,hover:0.8,on:0.6,linger:'100ms',times:3,timeout:'3s',draw:[],donotwrap:false,wrapsetup:null,donotfreeze:true};$(this).ioatom(base,p,'load,mouseover,mouseout,click');$(this).each(function(){this.ioatom.logid='ioatomsSafetyButton';this.ioatom.start=function(){var me=this;me.logname=me.outer().text();me.inner(me.outer());if(!me.props.donotwrap)me.inner(me.outer().iowrap(me.props.wrapsetup));me.inner().iounselectable();me.dispatch();me.tell('onloads');}
this.ioatom.dispatch=function(){var me=this;me.inner().unbind();me.stopall().outer().ioanimalpha(me.props.hover,me.props.off,'fast',null,me);me.inner().mouseover(function(e){me.tell('onmouseovers',e);me.stopall().outer().ioanimalpha(me.props.off,me.props.hover,'fast',null,me);});me.inner().mouseout(function(e){me.tell('onmouseouts',e);me.stopall().outer().ioanimalpha(me.props.hover,me.props.off,'fast',null,me);});var counter=null;var label=me.inner().html();me.inner().click(function(e){if(counter===null)counter=3;if(counter!==0){me.inner().empty().append(label+'('+counter+')');counter--;return me.inner().stopTime().oneTime(me.props.timeout,function(){counter=null;me.inner().empty().append(label);})}
me.inner().empty().append(label);me.tell('onclicks',e);counter=null;me.stopall().outer().ioanimalpha(me.props.hover,me.props.on,'fast',function(){if(!me.props.donotfreeze)return me.freeze();me.stopall().outer().ioanimalpha(me.props.on,me.props.hover,'fast',null,me);},me);});}
this.ioatom.freeze=function(){var me=this;me.inner().unbind();me.stopall().outer().ioanimalpha(me.props.on,me.props.freeze,'fast');return this;}
this.ioatom.unfreeze=function(){this.dispatch();return this;}
this.ioatom.start();list.push(this.ioatom);});if(list.length==1)return list[0];if(list.length>1)return list;return this;}
$.fn.ioatomsOnOffButton=function(p){var list=[];var base={on:1.0,off:0.3,hover:0.6,donotwrap:false,wrapsetup:null,donotfreeze:true,tags:{on:'',off:''}};$(this).ioatom(base,p,'load,mouseover,mouseout,click,on,off,change');$(this).each(function(){this.ioatom.logid='ioatomsOnOffButton';this.ioatom.info={state:false};this.ioatom.start=function(){var me=this;me.logname=me.outer().text();me.inner(me.outer());if(!me.props.donotwrap)me.inner(me.outer().iowrap(me.props.wrapsetup))
me.inner().iounselectable();me.dispatch();me.tell('onloads');}
this.ioatom.dispatch=function(){var me=this;me.outer().unbind();me.stopall().outer().ioanimalpha(me.props.hover,me.props.off,'fast',null,me);me.outer().mouseover(function(){me.tell('onmouseovers');me.stopall().outer().ioanimalpha(me.info.state?me.props.on:me.props.off,me.props.hover,'fast',null,me);});me.outer().mouseout(function(){me.tell('onmouseouts');me.stopall().outer().ioanimalpha(me.props.hover,me.info.state?me.props.on:me.props.off,'fast',null,me);});me.outer().click(function(){me.toggle();});}
this.ioatom.toggle=function(donottell){var me=this;if(!me.props.donotfreeze)return me.freeze();me.stopall().outer().ioanimalpha(me.props.hover,me.info.state?me.props.off:me.props.on,'fast',function(){me.info.state=me.info.state?false:true;if(me.info.state&&!donottell)me.tell('onons');else if(!donottell)me.tell('onoffs');if(!donottell)me.tell('onchanges',me.info.state);},me);return this;}
this.ioatom.on=function(donottell){if(!this.info.state)return this.stopall().toggle(donottell);return this;}
this.ioatom.off=function(donottell){if(this.info.state)return this.stopall().toggle(donottell);return this;}
this.ioatom.freeze=function(){this.outer().unbind();return this;}
this.ioatom.unfreeze=function(){this.dispatch();return this;}
this.ioatom.status=function(){return this.info.state;}
this.ioatom.start();list.push(this.ioatom);});if(list.length==1)return list[0];if(list.length>1)return list;return this;}
$.fn.ioatomsConfirmButton=function(p){var list=[];var base={question:'Confirm!',yes:'yes',no:'no',css:{},off:1.0,hover:0.8,on:0.6,draw:[],donotwrap:false,wrapsetup:null,donotfreeze:true}
$(this).ioatom(base,p,'load,preclick,click');$(this).each(function(){this.ioatom.logid='ioatomsSafetyButton';this.ioatom.start=function(){var me=this;me.logname=me.outer().text();me.info.label=me.outer().text();me.outer().css({clear:'none'})
me.info.style=me.outer().get(0).style;me.inner(me.outer())
me.inner().iounselectable();me.dispatch();me.tell('onloads');}
this.ioatom.dispatch=function(){var me=this;me.inner().unbind();me.stopall().outer().ioanimalpha(me.props.hover,me.props.off,'fast',null,me);me.inner().mouseover(function(e){me.stopall().outer().ioanimalpha(me.props.off,me.props.hover,'fast',null,me);});me.inner().mouseout(function(e){me.stopall().outer().ioanimalpha(me.props.hover,me.props.off,'fast',null,me);});me.inner().click(function(e){me.tell('onpreclicks',e);me.confirm();});}
this.ioatom.confirm=function(){var me=this;var font=$.io.defs.fonts.normal;if(me.props.css&&me.props.css['font-size'])font=me.props.css['font-size'];me.inner(me.outer().empty()).unbind()
me.outer().hover(function(){me.outer().css({cursor:'auto',height:'auto'})})
me.inner().empty().css({clear:'both'})
var $box=me.inner().ioover(true).css({clear:'both'})
$box.append(me.props.question).css(me.props.css).css({clear:'both',height:'auto'})
$box.ioover(true).iofloatbuttonlist([me.props.yes,me.props.no],font,{draw:$.io.style.canvas.alert,setup:{donotwrap:true,css:{'font-size':font}}},{onclick:function(label,event){if(label==me.props.yes)me.tell('onclicks',me);me.outer().empty().append(me.info.label)
me.outer().get(0).canvas=null;return me.outer().stopTime().oneTime('1ms',function(){var me2=me.outer().ioatomsButton(me.props.parent.props);me2.onclicks=me.onclicks;me2.preonclicks=me.preonclicks;me=me2;})}})
$box.ioover(true).css({clear:'both'})}
this.ioatom.unfreeze=function(){this.dispatch();return this;}
this.ioatom.start();list.push(this.ioatom);});if(list.length==1)return list[0];if(list.length>1)return list;return this;}
$.fn.ioatomsInput=function(p,donotminimize,donotstart){var list=[];var base={name:'noname',type:'input',value:'',css:{},ground:'',readonly:false};$(this).ioatom(base,p);$(this).each(function(){this.ioatom.logid='ioatomsInput';this.ioatom.start=function(){var me=this;me.logname=me.props.name;me.inner(me.outer())
if(me.props.ground)me.inner(me.inner().ioover(true).ioground($.s2l(me.props.ground,',')).ioover(true))
me.inner().append('<input name="'+me.props.name+'" value="" '+(me.props.readonly?'readonly':'')+' type="'+me.props.type+'" />').find('input:last').css(me.props.css).focus(function(){me.tell('onfocuses',me.value(),me.props.name);}).blur(function(){me.tell('onblurs',me.value(),me.props.name);}).change(function(){me.tell('onchanges',me.value(),me.props.name);}).dblclick(function(){me.tell('ondblclicks',me.value(),me.props.name);})
me.inner(me.inner().find('input:last'));if(me.props.value)me.value(me.props.value);me.tell('onloads',me.props.name);return this;}
this.ioatom.value=function(value){var me=this;if(!$.isVoid(value))me.inner().get(0).value=value;else return me.inner().get(0).value;}
if(!donotstart)this.ioatom.start();list.push(this.ioatom);});if(list.length==1)return list[0];if(list.length>1)return list;return this;}
$.fn.ioatomsTextarea=function(p,donotminimize,donotstart){var list=[];var base={name:'noname',value:'',css:{},ground:''};$(this).ioatom(base,p);$(this).each(function(){this.ioatom.logid='ioatomsTextarea';this.ioatom.start=function(){var me=this;me.logname=me.props.name;me.inner(me.outer())
if(me.props.ground)me.inner(me.inner().ioover(me.props.css).ioground($.s2l(me.props.ground,',')).ioover())
me.inner().append('<textarea name="'+me.props.name+'"  cols="10" rows="10" ></textarea>').find('textarea:last').css({overflow:'hidden'}).css(me.props.css).focus(function(){me.tell('onfocuses',me.value(),me.props.name);}).blur(function(){me.tell('onblurs',me.value(),me.props.name);}).change(function(){me.tell('onchanges',me.value(),me.props.name);}).dblclick(function(){me.tell('ondblclicks',me.value(),me.props.name);}).keyup(function(e){me.tell('keyup',e,me.value(),me.props.name);})
me.inner(me.outer().find('textarea:last'));if(me.props.value)me.inner().val(me.props.value);me.tell('onloads',me.props.name);return this;}
this.ioatom.value=function(value){var me=this;if(!$.isVoid(value))me.inner().val(value);else return me.inner().val();}
this.ioatom.add=function(text){var me=this;me.value(me.value()+text);}
if(!donotstart)this.ioatom.start();list.push(this.ioatom);});if(list.length==1)return list[0];if(list.length>1)return list;return this;}
$.fn.ioatomsFileupload=function(p,donotminimize,donotstart){var list=[];var base={noform:false,name:'noname',value:'click here for file browser',url:'nothing.php',http:{},css:{},ground:''};$(this).ioatom(base,p);$(this).each(function(){this.ioatom.logid='ioatomsFileupload';this.ioatom.atoms={};this.ioatom.dispatch=function(){var me=this;me.outer().find('[mid="file"]').change(function(){me.outer().find('[mid="button"]').empty().append(me.value());me.tell('onchanges',me.value(),me);});me.atoms.button.onclick(function(){me.outer().find('[mid="file"]').click();});}
this.ioatom.start=function(){var me=this;me.logname=me.props.name;var $form;if(!me.props.noform)
$form=me.outer().ioform(me.props.url,me.props.http,true);else $form=me.outer();var $box=$form;if(me.props.ground)$box=$box.ioover($.hm(me.props.css,{position:'relative'})).ioground($.s2l(me.props.ground,',')).ioover()
var $info=$('<div mid="button">'+me.props.value+'</div>')
var $file=$('<input mid="file" type="file" size="100%" name="'+me.props.name+'" value=""/>')
$box.append($info);$info.css($.hm(me.props.css,{position:'absolute'}));$box.append($file);$file.css(me.props.css).css({opacity:0,position:'absolute'})
$file.css({left:'0px'})
me.atoms.button=$info.ioatomsPlainButton({off:1.0,hover:0.8,on:0.7});if(me.props.value)me.outer().find('[mid="button"]').empty().append(me.props.value);me.atoms.form=$form;me.dispatch();}
this.ioatom.value=function(){var me=this;return me.outer().find('[mid="file"]').get(0).value}
this.ioatom.submit=function(){var me=this;me.atoms.form.ioformsend(function(json){me.tell('onreplies',json);})}
this.ioatom.set=function(name,value){var me=this;me.outer().find('input[name="'+name+'"]').get(0).value=value;}
if(!donotstart)this.ioatom.start();list.push(this.ioatom);});if(list.length==1)return list[0];if(list.length>1)return list;return this;}
$.fn.ioatomsScrollButton=function(p,items,framec,itemc){var list=[];var base={fontsize:$.io.font.normal,draw:{}};$(this).ioatom(base,p);$(this).each(function(){this.ioatom.atoms={};this.ioatom.logid='ioatomsScrollButton';this.ioatom.start=function(){var me=this;me.logname=me.props.name;var $frame=null;var h=Math.round(me.outer().height());me.inner(me.outer().ioover()).css({'text-align':'center'}).append('<span>'+items[0]+'</span>').ioatomsButton({draw:me.props.draw}).onclick(function(){if($frame)$frame.remove();$frame=me.outer().ioover({position:'absolute',top:'90%',left:'5%',width:'90%',height:'200%','z-index':100000})
var block=framec($frame);for(var i in items)me.item(block.inner(),items[i],function(item){$frame.remove();$frame=null;var limit=200;while(items[0]!=item)items.push(items.shift());me.inner().find('span').empty().append(items[0]);me.tell('onchanges',items[0]);})})
me.outer().ioover({position:'absolute',right:'101%',width:h+'px',height:'100%'}).iodrawBackward().ioatomsPlainButton({off:1.0,hover:0.8,on:0.6}).onclick(function(){items.push(items.shift())
me.inner().find('span').empty().append(items[0]);me.tell('onchanges',items[0]);})
me.outer().ioover({position:'absolute',left:'101%',width:h+'px',height:'100%'}).iodrawForward().ioatomsPlainButton({off:1.0,hover:0.8,on:0.6}).onclick(function(){items.unshift(items.pop())
me.inner().find('span').empty().append(items[0]);me.tell('onchanges',items[0]);})
if(!framec)framec=function($outer){return $outer.ioatomsMockVFrame({margin:'5px',scale:5})}
if(!itemc)itemc=function($inner,item){return $inner.ioover(true).css({'font-size':me.props.fontsize,color:'#000','font-weight':'bold','text-align':'center',margin:'1px 0px',width:'100%',height:'1.2em'}).ioover().append(item).css({'text-align':'center',color:'#000','font-weight':'bold'}).parent().ioground('#fff',1.0)}
return me;}
this.ioatom.item=function($inner,item,c){var me=this;itemc($inner,item).ioatomsPlainButton({off:0.6,hover:0.8,on:1.0}).onclick(function(){c(item);})}
this.ioatom.value=function(){return items[0];}
list.push(this.ioatom.start());});if(list.length==1)return list[0];if(list.length>1)return list;return this;}})(jQuery);


(function($){$.fn.ioatomsMsgs=function(p,donotminimize,donotstart){var list=[];var base={linger:'3s',timeout:'5s'};$(this).ioatom(base,p);$(this).each(function(){this.ioatom.logid='ioatomsMsgs';this.ioatom.list=[];this.ioatom.add=function(msg){this.list.push(msg);if(this.list.length==1)this.run();}
this.ioatom.adds=function(msgs){var me=this;for(var i in msgs)me.add(msgs[i]);}
this.ioatom.errs=function(msgs){var me=this;for(var i in msgs)me.add('ERROR! '+msgs[i]);}
this.ioatom.msgs=function(msgs){var me=this;for(var i in msgs)me.add(msgs[i]);}
this.ioatom.run=function(){var me=this;me.outer().ioanimalpha(1.0,0,'fast',function(){if(!me.list.length)return me.outer().empty();me.outer().empty().append(me.list.shift());me.outer().ioanimalpha(0,1.0,'fast',function(){me.outer().oneTime(me.list.length?me.props.linger:me.props.timeout,function(){return me.run();})})})}
list.push(this.ioatom);});if(list.length==1)return list[0];if(list.length>1)return list;return this;}
$.fn.ioatomsLabelMsgs=function(p,donotminimize,donotstart){var list=[];var base={msgs:{},linger:'3s',timeout:'5s'};$(this).ioatomsMsgs(p);$(this).each(function(){this.ioatom.logid='ioatomsLabelMsgs';this.ioatom.msg=function(path){var me=this;var msg=$.hpath(me.props.msgs,path);if(msg===null){$.log('ioatomsLabelMsgs() : msg() : ERROR : path not found, path/msgs',path,me.props.msgs);return false;}
me.add(msg);return true;}
this.ioatom.err=function(path){var me=this;if(!me.props.msgs.error){$.log('ioatomsLabelMsgs() : err() : ERROR : did not find error key in root of msgs:',me.props.msgs);return false;}
var msg=$.hpath(me.props.msgs,path);if(msg===null){$.log('ioatomsLabelMsgs() : err() : ERROR : path not found, path/msgs',path,me.props.msgs);return false;}
me.add('<strong>'+me.props.msgs.error+'</strong>: '+msg);return true;}
this.ioatom.msgs=function(msgs){var me=this;if(!msgs||!msgs.length)return true;for(var i in msgs)if(!me.msg(msgs[i]))return false;return true;}
this.ioatom.errs=function(msgs){var me=this;if(!msgs||!msgs.length)return true;for(var i in msgs)if(!me.err(msgs[i]))return false;return true;}
list.push(this.ioatom);});if(list.length==1)return list[0];if(list.length>1)return list;return this;}})(jQuery);





(function($,undefined){var uuid=0,runiqueId=/^ui-id-\d+$/;$.ui=$.ui||{};$.extend($.ui,{version:"1.10.3",keyCode:{BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38}});$.fn.extend({focus:(function(orig){return function(delay,fn){return typeof delay==="number"?this.each(function(){var elem=this;setTimeout(function(){$(elem).focus();if(fn){fn.call(elem);}},delay);}):orig.apply(this,arguments);};})($.fn.focus),scrollParent:function(){var scrollParent;if(($.ui.ie&&(/(static|relative)/).test(this.css("position")))||(/absolute/).test(this.css("position"))){scrollParent=this.parents().filter(function(){return(/(relative|absolute|fixed)/).test($.css(this,"position"))&&(/(auto|scroll)/).test($.css(this,"overflow")+$.css(this,"overflow-y")+$.css(this,"overflow-x"));}).eq(0);}else{scrollParent=this.parents().filter(function(){return(/(auto|scroll)/).test($.css(this,"overflow")+$.css(this,"overflow-y")+$.css(this,"overflow-x"));}).eq(0);}
return(/fixed/).test(this.css("position"))||!scrollParent.length?$(document):scrollParent;},zIndex:function(zIndex){if(zIndex!==undefined){return this.css("zIndex",zIndex);}
if(this.length){var elem=$(this[0]),position,value;while(elem.length&&elem[0]!==document){position=elem.css("position");if(position==="absolute"||position==="relative"||position==="fixed"){value=parseInt(elem.css("zIndex"),10);if(!isNaN(value)&&value!==0){return value;}}
elem=elem.parent();}}
return 0;},uniqueId:function(){return this.each(function(){if(!this.id){this.id="ui-id-"+(++uuid);}});},removeUniqueId:function(){return this.each(function(){if(runiqueId.test(this.id)){$(this).removeAttr("id");}});}});function focusable(element,isTabIndexNotNaN){var map,mapName,img,nodeName=element.nodeName.toLowerCase();if("area"===nodeName){map=element.parentNode;mapName=map.name;if(!element.href||!mapName||map.nodeName.toLowerCase()!=="map"){return false;}
img=$("img[usemap=#"+mapName+"]")[0];return!!img&&visible(img);}
return(/input|select|textarea|button|object/.test(nodeName)?!element.disabled:"a"===nodeName?element.href||isTabIndexNotNaN:isTabIndexNotNaN)&&visible(element);}
function visible(element){return $.expr.filters.visible(element)&&!$(element).parents().addBack().filter(function(){return $.css(this,"visibility")==="hidden";}).length;}
$.extend($.expr[":"],{data:$.expr.createPseudo?$.expr.createPseudo(function(dataName){return function(elem){return!!$.data(elem,dataName);};}):function(elem,i,match){return!!$.data(elem,match[3]);},focusable:function(element){return focusable(element,!isNaN($.attr(element,"tabindex")));},tabbable:function(element){var tabIndex=$.attr(element,"tabindex"),isTabIndexNaN=isNaN(tabIndex);return(isTabIndexNaN||tabIndex>=0)&&focusable(element,!isTabIndexNaN);}});if(!$("<a>").outerWidth(1).jquery){$.each(["Width","Height"],function(i,name){var side=name==="Width"?["Left","Right"]:["Top","Bottom"],type=name.toLowerCase(),orig={innerWidth:$.fn.innerWidth,innerHeight:$.fn.innerHeight,outerWidth:$.fn.outerWidth,outerHeight:$.fn.outerHeight};function reduce(elem,size,border,margin){$.each(side,function(){size-=parseFloat($.css(elem,"padding"+this))||0;if(border){size-=parseFloat($.css(elem,"border"+this+"Width"))||0;}
if(margin){size-=parseFloat($.css(elem,"margin"+this))||0;}});return size;}
$.fn["inner"+name]=function(size){if(size===undefined){return orig["inner"+name].call(this);}
return this.each(function(){$(this).css(type,reduce(this,size)+"px");});};$.fn["outer"+name]=function(size,margin){if(typeof size!=="number"){return orig["outer"+name].call(this,size);}
return this.each(function(){$(this).css(type,reduce(this,size,true,margin)+"px");});};});}
if(!$.fn.addBack){$.fn.addBack=function(selector){return this.add(selector==null?this.prevObject:this.prevObject.filter(selector));};}
if($("<a>").data("a-b","a").removeData("a-b").data("a-b")){$.fn.removeData=(function(removeData){return function(key){if(arguments.length){return removeData.call(this,$.camelCase(key));}else{return removeData.call(this);}};})($.fn.removeData);}
$.ui.ie=!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase());$.support.selectstart="onselectstart"in document.createElement("div");$.fn.extend({disableSelection:function(){return this.bind(($.support.selectstart?"selectstart":"mousedown")+".ui-disableSelection",function(event){event.preventDefault();});},enableSelection:function(){return this.unbind(".ui-disableSelection");}});$.extend($.ui,{plugin:{add:function(module,option,set){var i,proto=$.ui[module].prototype;for(i in set){proto.plugins[i]=proto.plugins[i]||[];proto.plugins[i].push([option,set[i]]);}},call:function(instance,name,args){var i,set=instance.plugins[name];if(!set||!instance.element[0].parentNode||instance.element[0].parentNode.nodeType===11){return;}
for(i=0;i<set.length;i++){if(instance.options[set[i][0]]){set[i][1].apply(instance.element,args);}}}},hasScroll:function(el,a){if($(el).css("overflow")==="hidden"){return false;}
var scroll=(a&&a==="left")?"scrollLeft":"scrollTop",has=false;if(el[scroll]>0){return true;}
el[scroll]=1;has=(el[scroll]>0);el[scroll]=0;return has;}});})(jQuery);(function($,undefined){var uuid=0,slice=Array.prototype.slice,_cleanData=$.cleanData;$.cleanData=function(elems){for(var i=0,elem;(elem=elems[i])!=null;i++){try{$(elem).triggerHandler("remove");}catch(e){}}
_cleanData(elems);};$.widget=function(name,base,prototype){var fullName,existingConstructor,constructor,basePrototype,proxiedPrototype={},namespace=name.split(".")[0];name=name.split(".")[1];fullName=namespace+"-"+name;if(!prototype){prototype=base;base=$.Widget;}
$.expr[":"][fullName.toLowerCase()]=function(elem){return!!$.data(elem,fullName);};$[namespace]=$[namespace]||{};existingConstructor=$[namespace][name];constructor=$[namespace][name]=function(options,element){if(!this._createWidget){return new constructor(options,element);}
if(arguments.length){this._createWidget(options,element);}};$.extend(constructor,existingConstructor,{version:prototype.version,_proto:$.extend({},prototype),_childConstructors:[]});basePrototype=new base();basePrototype.options=$.widget.extend({},basePrototype.options);$.each(prototype,function(prop,value){if(!$.isFunction(value)){proxiedPrototype[prop]=value;return;}
proxiedPrototype[prop]=(function(){var _super=function(){return base.prototype[prop].apply(this,arguments);},_superApply=function(args){return base.prototype[prop].apply(this,args);};return function(){var __super=this._super,__superApply=this._superApply,returnValue;this._super=_super;this._superApply=_superApply;returnValue=value.apply(this,arguments);this._super=__super;this._superApply=__superApply;return returnValue;};})();});constructor.prototype=$.widget.extend(basePrototype,{widgetEventPrefix:existingConstructor?basePrototype.widgetEventPrefix:name},proxiedPrototype,{constructor:constructor,namespace:namespace,widgetName:name,widgetFullName:fullName});if(existingConstructor){$.each(existingConstructor._childConstructors,function(i,child){var childPrototype=child.prototype;$.widget(childPrototype.namespace+"."+childPrototype.widgetName,constructor,child._proto);});delete existingConstructor._childConstructors;}else{base._childConstructors.push(constructor);}
$.widget.bridge(name,constructor);};$.widget.extend=function(target){var input=slice.call(arguments,1),inputIndex=0,inputLength=input.length,key,value;for(;inputIndex<inputLength;inputIndex++){for(key in input[inputIndex]){value=input[inputIndex][key];if(input[inputIndex].hasOwnProperty(key)&&value!==undefined){if($.isPlainObject(value)){target[key]=$.isPlainObject(target[key])?$.widget.extend({},target[key],value):$.widget.extend({},value);}else{target[key]=value;}}}}
return target;};$.widget.bridge=function(name,object){var fullName=object.prototype.widgetFullName||name;$.fn[name]=function(options){var isMethodCall=typeof options==="string",args=slice.call(arguments,1),returnValue=this;options=!isMethodCall&&args.length?$.widget.extend.apply(null,[options].concat(args)):options;if(isMethodCall){this.each(function(){var methodValue,instance=$.data(this,fullName);if(!instance){return $.error("cannot call methods on "+name+" prior to initialization; "+"attempted to call method '"+options+"'");}
if(!$.isFunction(instance[options])||options.charAt(0)==="_"){return $.error("no such method '"+options+"' for "+name+" widget instance");}
methodValue=instance[options].apply(instance,args);if(methodValue!==instance&&methodValue!==undefined){returnValue=methodValue&&methodValue.jquery?returnValue.pushStack(methodValue.get()):methodValue;return false;}});}else{this.each(function(){var instance=$.data(this,fullName);if(instance){instance.option(options||{})._init();}else{$.data(this,fullName,new object(options,this));}});}
return returnValue;};};$.Widget=function(){};$.Widget._childConstructors=[];$.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{disabled:false,create:null},_createWidget:function(options,element){element=$(element||this.defaultElement||this)[0];this.element=$(element);this.uuid=uuid++;this.eventNamespace="."+this.widgetName+this.uuid;this.options=$.widget.extend({},this.options,this._getCreateOptions(),options);this.bindings=$();this.hoverable=$();this.focusable=$();if(element!==this){$.data(element,this.widgetFullName,this);this._on(true,this.element,{remove:function(event){if(event.target===element){this.destroy();}}});this.document=$(element.style?element.ownerDocument:element.document||element);this.window=$(this.document[0].defaultView||this.document[0].parentWindow);}
this._create();this._trigger("create",null,this._getCreateEventData());this._init();},_getCreateOptions:$.noop,_getCreateEventData:$.noop,_create:$.noop,_init:$.noop,destroy:function(){this._destroy();this.element.unbind(this.eventNamespace).removeData(this.widgetName).removeData(this.widgetFullName).removeData($.camelCase(this.widgetFullName));this.widget().unbind(this.eventNamespace).removeAttr("aria-disabled").removeClass(this.widgetFullName+"-disabled "+"ui-state-disabled");this.bindings.unbind(this.eventNamespace);this.hoverable.removeClass("ui-state-hover");this.focusable.removeClass("ui-state-focus");},_destroy:$.noop,widget:function(){return this.element;},option:function(key,value){var options=key,parts,curOption,i;if(arguments.length===0){return $.widget.extend({},this.options);}
if(typeof key==="string"){options={};parts=key.split(".");key=parts.shift();if(parts.length){curOption=options[key]=$.widget.extend({},this.options[key]);for(i=0;i<parts.length-1;i++){curOption[parts[i]]=curOption[parts[i]]||{};curOption=curOption[parts[i]];}
key=parts.pop();if(value===undefined){return curOption[key]===undefined?null:curOption[key];}
curOption[key]=value;}else{if(value===undefined){return this.options[key]===undefined?null:this.options[key];}
options[key]=value;}}
this._setOptions(options);return this;},_setOptions:function(options){var key;for(key in options){this._setOption(key,options[key]);}
return this;},_setOption:function(key,value){this.options[key]=value;if(key==="disabled"){this.widget().toggleClass(this.widgetFullName+"-disabled ui-state-disabled",!!value).attr("aria-disabled",value);this.hoverable.removeClass("ui-state-hover");this.focusable.removeClass("ui-state-focus");}
return this;},enable:function(){return this._setOption("disabled",false);},disable:function(){return this._setOption("disabled",true);},_on:function(suppressDisabledCheck,element,handlers){var delegateElement,instance=this;if(typeof suppressDisabledCheck!=="boolean"){handlers=element;element=suppressDisabledCheck;suppressDisabledCheck=false;}
if(!handlers){handlers=element;element=this.element;delegateElement=this.widget();}else{element=delegateElement=$(element);this.bindings=this.bindings.add(element);}
$.each(handlers,function(event,handler){function handlerProxy(){if(!suppressDisabledCheck&&(instance.options.disabled===true||$(this).hasClass("ui-state-disabled"))){return;}
return(typeof handler==="string"?instance[handler]:handler).apply(instance,arguments);}
if(typeof handler!=="string"){handlerProxy.guid=handler.guid=handler.guid||handlerProxy.guid||$.guid++;}
var match=event.match(/^(\w+)\s*(.*)$/),eventName=match[1]+instance.eventNamespace,selector=match[2];if(selector){delegateElement.delegate(selector,eventName,handlerProxy);}else{element.bind(eventName,handlerProxy);}});},_off:function(element,eventName){eventName=(eventName||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace;element.unbind(eventName).undelegate(eventName);},_delay:function(handler,delay){function handlerProxy(){return(typeof handler==="string"?instance[handler]:handler).apply(instance,arguments);}
var instance=this;return setTimeout(handlerProxy,delay||0);},_hoverable:function(element){this.hoverable=this.hoverable.add(element);this._on(element,{mouseenter:function(event){$(event.currentTarget).addClass("ui-state-hover");},mouseleave:function(event){$(event.currentTarget).removeClass("ui-state-hover");}});},_focusable:function(element){this.focusable=this.focusable.add(element);this._on(element,{focusin:function(event){$(event.currentTarget).addClass("ui-state-focus");},focusout:function(event){$(event.currentTarget).removeClass("ui-state-focus");}});},_trigger:function(type,event,data){var prop,orig,callback=this.options[type];data=data||{};event=$.Event(event);event.type=(type===this.widgetEventPrefix?type:this.widgetEventPrefix+type).toLowerCase();event.target=this.element[0];orig=event.originalEvent;if(orig){for(prop in orig){if(!(prop in event)){event[prop]=orig[prop];}}}
this.element.trigger(event,data);return!($.isFunction(callback)&&callback.apply(this.element[0],[event].concat(data))===false||event.isDefaultPrevented());}};$.each({show:"fadeIn",hide:"fadeOut"},function(method,defaultEffect){$.Widget.prototype["_"+method]=function(element,options,callback){if(typeof options==="string"){options={effect:options};}
var hasOptions,effectName=!options?method:options===true||typeof options==="number"?defaultEffect:options.effect||defaultEffect;options=options||{};if(typeof options==="number"){options={duration:options};}
hasOptions=!$.isEmptyObject(options);options.complete=callback;if(options.delay){element.delay(options.delay);}
if(hasOptions&&$.effects&&$.effects.effect[effectName]){element[method](options);}else if(effectName!==method&&element[effectName]){element[effectName](options.duration,options.easing,callback);}else{element.queue(function(next){$(this)[method]();if(callback){callback.call(element[0]);}
next();});}};});})(jQuery);(function($,undefined){var mouseHandled=false;$(document).mouseup(function(){mouseHandled=false;});$.widget("ui.mouse",{version:"1.10.3",options:{cancel:"input,textarea,button,select,option",distance:1,delay:0},_mouseInit:function(){var that=this;this.element.bind("mousedown."+this.widgetName,function(event){return that._mouseDown(event);}).bind("click."+this.widgetName,function(event){if(true===$.data(event.target,that.widgetName+".preventClickEvent")){$.removeData(event.target,that.widgetName+".preventClickEvent");event.stopImmediatePropagation();return false;}});this.started=false;},_mouseDestroy:function(){this.element.unbind("."+this.widgetName);if(this._mouseMoveDelegate){$(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate);}},_mouseDown:function(event){if(mouseHandled){return;}
(this._mouseStarted&&this._mouseUp(event));this._mouseDownEvent=event;var that=this,btnIsLeft=(event.which===1),elIsCancel=(typeof this.options.cancel==="string"&&event.target.nodeName?$(event.target).closest(this.options.cancel).length:false);if(!btnIsLeft||elIsCancel||!this._mouseCapture(event)){return true;}
this.mouseDelayMet=!this.options.delay;if(!this.mouseDelayMet){this._mouseDelayTimer=setTimeout(function(){that.mouseDelayMet=true;},this.options.delay);}
if(this._mouseDistanceMet(event)&&this._mouseDelayMet(event)){this._mouseStarted=(this._mouseStart(event)!==false);if(!this._mouseStarted){event.preventDefault();return true;}}
if(true===$.data(event.target,this.widgetName+".preventClickEvent")){$.removeData(event.target,this.widgetName+".preventClickEvent");}
this._mouseMoveDelegate=function(event){return that._mouseMove(event);};this._mouseUpDelegate=function(event){return that._mouseUp(event);};$(document).bind("mousemove."+this.widgetName,this._mouseMoveDelegate).bind("mouseup."+this.widgetName,this._mouseUpDelegate);event.preventDefault();mouseHandled=true;return true;},_mouseMove:function(event){if($.ui.ie&&(!document.documentMode||document.documentMode<9)&&!event.button){return this._mouseUp(event);}
if(this._mouseStarted){this._mouseDrag(event);return event.preventDefault();}
if(this._mouseDistanceMet(event)&&this._mouseDelayMet(event)){this._mouseStarted=(this._mouseStart(this._mouseDownEvent,event)!==false);(this._mouseStarted?this._mouseDrag(event):this._mouseUp(event));}
return!this._mouseStarted;},_mouseUp:function(event){$(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate);if(this._mouseStarted){this._mouseStarted=false;if(event.target===this._mouseDownEvent.target){$.data(event.target,this.widgetName+".preventClickEvent",true);}
this._mouseStop(event);}
return false;},_mouseDistanceMet:function(event){return(Math.max(Math.abs(this._mouseDownEvent.pageX-event.pageX),Math.abs(this._mouseDownEvent.pageY-event.pageY))>=this.options.distance);},_mouseDelayMet:function(){return this.mouseDelayMet;},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return true;}});})(jQuery);(function($,undefined){$.widget("ui.draggable",$.ui.mouse,{version:"1.10.3",widgetEventPrefix:"drag",options:{addClasses:true,appendTo:"parent",axis:false,connectToSortable:false,containment:false,cursor:"auto",cursorAt:false,grid:false,handle:false,helper:"original",iframeFix:false,opacity:false,refreshPositions:false,revert:false,revertDuration:500,scope:"default",scroll:true,scrollSensitivity:20,scrollSpeed:20,snap:false,snapMode:"both",snapTolerance:20,stack:false,zIndex:false,drag:null,start:null,stop:null},_create:function(){if(this.options.helper==="original"&&!(/^(?:r|a|f)/).test(this.element.css("position"))){this.element[0].style.position="relative";}
if(this.options.addClasses){this.element.addClass("ui-draggable");}
if(this.options.disabled){this.element.addClass("ui-draggable-disabled");}
this._mouseInit();},_destroy:function(){this.element.removeClass("ui-draggable ui-draggable-dragging ui-draggable-disabled");this._mouseDestroy();},_mouseCapture:function(event){var o=this.options;if(this.helper||o.disabled||$(event.target).closest(".ui-resizable-handle").length>0){return false;}
this.handle=this._getHandle(event);if(!this.handle){return false;}
$(o.iframeFix===true?"iframe":o.iframeFix).each(function(){$("<div class='ui-draggable-iframeFix' style='background: #fff;'></div>").css({width:this.offsetWidth+"px",height:this.offsetHeight+"px",position:"absolute",opacity:"0.001",zIndex:1000}).css($(this).offset()).appendTo("body");});return true;},_mouseStart:function(event){var o=this.options;this.helper=this._createHelper(event);this.helper.addClass("ui-draggable-dragging");this._cacheHelperProportions();if($.ui.ddmanager){$.ui.ddmanager.current=this;}
this._cacheMargins();this.cssPosition=this.helper.css("position");this.scrollParent=this.helper.scrollParent();this.offsetParent=this.helper.offsetParent();this.offsetParentCssPosition=this.offsetParent.css("position");this.offset=this.positionAbs=this.element.offset();this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left};this.offset.scroll=false;$.extend(this.offset,{click:{left:event.pageX-this.offset.left,top:event.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()});this.originalPosition=this.position=this._generatePosition(event);this.originalPageX=event.pageX;this.originalPageY=event.pageY;(o.cursorAt&&this._adjustOffsetFromHelper(o.cursorAt));this._setContainment();if(this._trigger("start",event)===false){this._clear();return false;}
this._cacheHelperProportions();if($.ui.ddmanager&&!o.dropBehaviour){$.ui.ddmanager.prepareOffsets(this,event);}
this._mouseDrag(event,true);if($.ui.ddmanager){$.ui.ddmanager.dragStart(this,event);}
return true;},_mouseDrag:function(event,noPropagation){if(this.offsetParentCssPosition==="fixed"){this.offset.parent=this._getParentOffset();}
this.position=this._generatePosition(event);this.positionAbs=this._convertPositionTo("absolute");if(!noPropagation){var ui=this._uiHash();if(this._trigger("drag",event,ui)===false){this._mouseUp({});return false;}
this.position=ui.position;}
if(!this.options.axis||this.options.axis!=="y"){this.helper[0].style.left=this.position.left+"px";}
if(!this.options.axis||this.options.axis!=="x"){this.helper[0].style.top=this.position.top+"px";}
if($.ui.ddmanager){$.ui.ddmanager.drag(this,event);}
return false;},_mouseStop:function(event){var that=this,dropped=false;if($.ui.ddmanager&&!this.options.dropBehaviour){dropped=$.ui.ddmanager.drop(this,event);}
if(this.dropped){dropped=this.dropped;this.dropped=false;}
if(this.options.helper==="original"&&!$.contains(this.element[0].ownerDocument,this.element[0])){return false;}
if((this.options.revert==="invalid"&&!dropped)||(this.options.revert==="valid"&&dropped)||this.options.revert===true||($.isFunction(this.options.revert)&&this.options.revert.call(this.element,dropped))){$(this.helper).animate(this.originalPosition,parseInt(this.options.revertDuration,10),function(){if(that._trigger("stop",event)!==false){that._clear();}});}else{if(this._trigger("stop",event)!==false){this._clear();}}
return false;},_mouseUp:function(event){$("div.ui-draggable-iframeFix").each(function(){this.parentNode.removeChild(this);});if($.ui.ddmanager){$.ui.ddmanager.dragStop(this,event);}
return $.ui.mouse.prototype._mouseUp.call(this,event);},cancel:function(){if(this.helper.is(".ui-draggable-dragging")){this._mouseUp({});}else{this._clear();}
return this;},_getHandle:function(event){return this.options.handle?!!$(event.target).closest(this.element.find(this.options.handle)).length:true;},_createHelper:function(event){var o=this.options,helper=$.isFunction(o.helper)?$(o.helper.apply(this.element[0],[event])):(o.helper==="clone"?this.element.clone().removeAttr("id"):this.element);if(!helper.parents("body").length){helper.appendTo((o.appendTo==="parent"?this.element[0].parentNode:o.appendTo));}
if(helper[0]!==this.element[0]&&!(/(fixed|absolute)/).test(helper.css("position"))){helper.css("position","absolute");}
return helper;},_adjustOffsetFromHelper:function(obj){if(typeof obj==="string"){obj=obj.split(" ");}
if($.isArray(obj)){obj={left:+obj[0],top:+obj[1]||0};}
if("left"in obj){this.offset.click.left=obj.left+this.margins.left;}
if("right"in obj){this.offset.click.left=this.helperProportions.width-obj.right+this.margins.left;}
if("top"in obj){this.offset.click.top=obj.top+this.margins.top;}
if("bottom"in obj){this.offset.click.top=this.helperProportions.height-obj.bottom+this.margins.top;}},_getParentOffset:function(){var po=this.offsetParent.offset();if(this.cssPosition==="absolute"&&this.scrollParent[0]!==document&&$.contains(this.scrollParent[0],this.offsetParent[0])){po.left+=this.scrollParent.scrollLeft();po.top+=this.scrollParent.scrollTop();}
if((this.offsetParent[0]===document.body)||(this.offsetParent[0].tagName&&this.offsetParent[0].tagName.toLowerCase()==="html"&&$.ui.ie)){po={top:0,left:0};}
return{top:po.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:po.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)};},_getRelativeOffset:function(){if(this.cssPosition==="relative"){var p=this.element.position();return{top:p.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:p.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()};}else{return{top:0,left:0};}},_cacheMargins:function(){this.margins={left:(parseInt(this.element.css("marginLeft"),10)||0),top:(parseInt(this.element.css("marginTop"),10)||0),right:(parseInt(this.element.css("marginRight"),10)||0),bottom:(parseInt(this.element.css("marginBottom"),10)||0)};},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()};},_setContainment:function(){var over,c,ce,o=this.options;if(!o.containment){this.containment=null;return;}
if(o.containment==="window"){this.containment=[$(window).scrollLeft()-this.offset.relative.left-this.offset.parent.left,$(window).scrollTop()-this.offset.relative.top-this.offset.parent.top,$(window).scrollLeft()+$(window).width()-this.helperProportions.width-this.margins.left,$(window).scrollTop()+($(window).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top];return;}
if(o.containment==="document"){this.containment=[0,0,$(document).width()-this.helperProportions.width-this.margins.left,($(document).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top];return;}
if(o.containment.constructor===Array){this.containment=o.containment;return;}
if(o.containment==="parent"){o.containment=this.helper[0].parentNode;}
c=$(o.containment);ce=c[0];if(!ce){return;}
over=c.css("overflow")!=="hidden";this.containment=[(parseInt(c.css("borderLeftWidth"),10)||0)+(parseInt(c.css("paddingLeft"),10)||0),(parseInt(c.css("borderTopWidth"),10)||0)+(parseInt(c.css("paddingTop"),10)||0),(over?Math.max(ce.scrollWidth,ce.offsetWidth):ce.offsetWidth)-(parseInt(c.css("borderRightWidth"),10)||0)-(parseInt(c.css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left-this.margins.right,(over?Math.max(ce.scrollHeight,ce.offsetHeight):ce.offsetHeight)-(parseInt(c.css("borderBottomWidth"),10)||0)-(parseInt(c.css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top-this.margins.bottom];this.relative_container=c;},_convertPositionTo:function(d,pos){if(!pos){pos=this.position;}
var mod=d==="absolute"?1:-1,scroll=this.cssPosition==="absolute"&&!(this.scrollParent[0]!==document&&$.contains(this.scrollParent[0],this.offsetParent[0]))?this.offsetParent:this.scrollParent;if(!this.offset.scroll){this.offset.scroll={top:scroll.scrollTop(),left:scroll.scrollLeft()};}
return{top:(pos.top+
this.offset.relative.top*mod+
this.offset.parent.top*mod-
((this.cssPosition==="fixed"?-this.scrollParent.scrollTop():this.offset.scroll.top)*mod)),left:(pos.left+
this.offset.relative.left*mod+
this.offset.parent.left*mod-
((this.cssPosition==="fixed"?-this.scrollParent.scrollLeft():this.offset.scroll.left)*mod))};},_generatePosition:function(event){var containment,co,top,left,o=this.options,scroll=this.cssPosition==="absolute"&&!(this.scrollParent[0]!==document&&$.contains(this.scrollParent[0],this.offsetParent[0]))?this.offsetParent:this.scrollParent,pageX=event.pageX,pageY=event.pageY;if(!this.offset.scroll){this.offset.scroll={top:scroll.scrollTop(),left:scroll.scrollLeft()};}
if(this.originalPosition){if(this.containment){if(this.relative_container){co=this.relative_container.offset();containment=[this.containment[0]+co.left,this.containment[1]+co.top,this.containment[2]+co.left,this.containment[3]+co.top];}
else{containment=this.containment;}
if(event.pageX-this.offset.click.left<containment[0]){pageX=containment[0]+this.offset.click.left;}
if(event.pageY-this.offset.click.top<containment[1]){pageY=containment[1]+this.offset.click.top;}
if(event.pageX-this.offset.click.left>containment[2]){pageX=containment[2]+this.offset.click.left;}
if(event.pageY-this.offset.click.top>containment[3]){pageY=containment[3]+this.offset.click.top;}}
if(o.grid){top=o.grid[1]?this.originalPageY+Math.round((pageY-this.originalPageY)/ o.grid[1])*o.grid[1]:this.originalPageY;pageY=containment?((top-this.offset.click.top>=containment[1]||top-this.offset.click.top>containment[3])?top:((top-this.offset.click.top>=containment[1])?top-o.grid[1]:top+o.grid[1])):top;left=o.grid[0]?this.originalPageX+Math.round((pageX-this.originalPageX)/ o.grid[0])*o.grid[0]:this.originalPageX;pageX=containment?((left-this.offset.click.left>=containment[0]||left-this.offset.click.left>containment[2])?left:((left-this.offset.click.left>=containment[0])?left-o.grid[0]:left+o.grid[0])):left;}}
return{top:(pageY-
this.offset.click.top-
this.offset.relative.top-
this.offset.parent.top+
(this.cssPosition==="fixed"?-this.scrollParent.scrollTop():this.offset.scroll.top)),left:(pageX-
this.offset.click.left-
this.offset.relative.left-
this.offset.parent.left+
(this.cssPosition==="fixed"?-this.scrollParent.scrollLeft():this.offset.scroll.left))};},_clear:function(){this.helper.removeClass("ui-draggable-dragging");if(this.helper[0]!==this.element[0]&&!this.cancelHelperRemoval){this.helper.remove();}
this.helper=null;this.cancelHelperRemoval=false;},_trigger:function(type,event,ui){ui=ui||this._uiHash();$.ui.plugin.call(this,type,[event,ui]);if(type==="drag"){this.positionAbs=this._convertPositionTo("absolute");}
return $.Widget.prototype._trigger.call(this,type,event,ui);},plugins:{},_uiHash:function(){return{helper:this.helper,position:this.position,originalPosition:this.originalPosition,offset:this.positionAbs};}});$.ui.plugin.add("draggable","connectToSortable",{start:function(event,ui){var inst=$(this).data("ui-draggable"),o=inst.options,uiSortable=$.extend({},ui,{item:inst.element});inst.sortables=[];$(o.connectToSortable).each(function(){var sortable=$.data(this,"ui-sortable");if(sortable&&!sortable.options.disabled){inst.sortables.push({instance:sortable,shouldRevert:sortable.options.revert});sortable.refreshPositions();sortable._trigger("activate",event,uiSortable);}});},stop:function(event,ui){var inst=$(this).data("ui-draggable"),uiSortable=$.extend({},ui,{item:inst.element});$.each(inst.sortables,function(){if(this.instance.isOver){this.instance.isOver=0;inst.cancelHelperRemoval=true;this.instance.cancelHelperRemoval=false;if(this.shouldRevert){this.instance.options.revert=this.shouldRevert;}
this.instance._mouseStop(event);this.instance.options.helper=this.instance.options._helper;if(inst.options.helper==="original"){this.instance.currentItem.css({top:"auto",left:"auto"});}}else{this.instance.cancelHelperRemoval=false;this.instance._trigger("deactivate",event,uiSortable);}});},drag:function(event,ui){var inst=$(this).data("ui-draggable"),that=this;$.each(inst.sortables,function(){var innermostIntersecting=false,thisSortable=this;this.instance.positionAbs=inst.positionAbs;this.instance.helperProportions=inst.helperProportions;this.instance.offset.click=inst.offset.click;if(this.instance._intersectsWith(this.instance.containerCache)){innermostIntersecting=true;$.each(inst.sortables,function(){this.instance.positionAbs=inst.positionAbs;this.instance.helperProportions=inst.helperProportions;this.instance.offset.click=inst.offset.click;if(this!==thisSortable&&this.instance._intersectsWith(this.instance.containerCache)&&$.contains(thisSortable.instance.element[0],this.instance.element[0])){innermostIntersecting=false;}
return innermostIntersecting;});}
if(innermostIntersecting){if(!this.instance.isOver){this.instance.isOver=1;this.instance.currentItem=$(that).clone().removeAttr("id").appendTo(this.instance.element).data("ui-sortable-item",true);this.instance.options._helper=this.instance.options.helper;this.instance.options.helper=function(){return ui.helper[0];};event.target=this.instance.currentItem[0];this.instance._mouseCapture(event,true);this.instance._mouseStart(event,true,true);this.instance.offset.click.top=inst.offset.click.top;this.instance.offset.click.left=inst.offset.click.left;this.instance.offset.parent.left-=inst.offset.parent.left-this.instance.offset.parent.left;this.instance.offset.parent.top-=inst.offset.parent.top-this.instance.offset.parent.top;inst._trigger("toSortable",event);inst.dropped=this.instance.element;inst.currentItem=inst.element;this.instance.fromOutside=inst;}
if(this.instance.currentItem){this.instance._mouseDrag(event);}}else{if(this.instance.isOver){this.instance.isOver=0;this.instance.cancelHelperRemoval=true;this.instance.options.revert=false;this.instance._trigger("out",event,this.instance._uiHash(this.instance));this.instance._mouseStop(event,true);this.instance.options.helper=this.instance.options._helper;this.instance.currentItem.remove();if(this.instance.placeholder){this.instance.placeholder.remove();}
inst._trigger("fromSortable",event);inst.dropped=false;}}});}});$.ui.plugin.add("draggable","cursor",{start:function(){var t=$("body"),o=$(this).data("ui-draggable").options;if(t.css("cursor")){o._cursor=t.css("cursor");}
t.css("cursor",o.cursor);},stop:function(){var o=$(this).data("ui-draggable").options;if(o._cursor){$("body").css("cursor",o._cursor);}}});$.ui.plugin.add("draggable","opacity",{start:function(event,ui){var t=$(ui.helper),o=$(this).data("ui-draggable").options;if(t.css("opacity")){o._opacity=t.css("opacity");}
t.css("opacity",o.opacity);},stop:function(event,ui){var o=$(this).data("ui-draggable").options;if(o._opacity){$(ui.helper).css("opacity",o._opacity);}}});$.ui.plugin.add("draggable","scroll",{start:function(){var i=$(this).data("ui-draggable");if(i.scrollParent[0]!==document&&i.scrollParent[0].tagName!=="HTML"){i.overflowOffset=i.scrollParent.offset();}},drag:function(event){var i=$(this).data("ui-draggable"),o=i.options,scrolled=false;if(i.scrollParent[0]!==document&&i.scrollParent[0].tagName!=="HTML"){if(!o.axis||o.axis!=="x"){if((i.overflowOffset.top+i.scrollParent[0].offsetHeight)-event.pageY<o.scrollSensitivity){i.scrollParent[0].scrollTop=scrolled=i.scrollParent[0].scrollTop+o.scrollSpeed;}else if(event.pageY-i.overflowOffset.top<o.scrollSensitivity){i.scrollParent[0].scrollTop=scrolled=i.scrollParent[0].scrollTop-o.scrollSpeed;}}
if(!o.axis||o.axis!=="y"){if((i.overflowOffset.left+i.scrollParent[0].offsetWidth)-event.pageX<o.scrollSensitivity){i.scrollParent[0].scrollLeft=scrolled=i.scrollParent[0].scrollLeft+o.scrollSpeed;}else if(event.pageX-i.overflowOffset.left<o.scrollSensitivity){i.scrollParent[0].scrollLeft=scrolled=i.scrollParent[0].scrollLeft-o.scrollSpeed;}}}else{if(!o.axis||o.axis!=="x"){if(event.pageY-$(document).scrollTop()<o.scrollSensitivity){scrolled=$(document).scrollTop($(document).scrollTop()-o.scrollSpeed);}else if($(window).height()-(event.pageY-$(document).scrollTop())<o.scrollSensitivity){scrolled=$(document).scrollTop($(document).scrollTop()+o.scrollSpeed);}}
if(!o.axis||o.axis!=="y"){if(event.pageX-$(document).scrollLeft()<o.scrollSensitivity){scrolled=$(document).scrollLeft($(document).scrollLeft()-o.scrollSpeed);}else if($(window).width()-(event.pageX-$(document).scrollLeft())<o.scrollSensitivity){scrolled=$(document).scrollLeft($(document).scrollLeft()+o.scrollSpeed);}}}
if(scrolled!==false&&$.ui.ddmanager&&!o.dropBehaviour){$.ui.ddmanager.prepareOffsets(i,event);}}});$.ui.plugin.add("draggable","snap",{start:function(){var i=$(this).data("ui-draggable"),o=i.options;i.snapElements=[];$(o.snap.constructor!==String?(o.snap.items||":data(ui-draggable)"):o.snap).each(function(){var $t=$(this),$o=$t.offset();if(this!==i.element[0]){i.snapElements.push({item:this,width:$t.outerWidth(),height:$t.outerHeight(),top:$o.top,left:$o.left});}});},drag:function(event,ui){var ts,bs,ls,rs,l,r,t,b,i,first,inst=$(this).data("ui-draggable"),o=inst.options,d=o.snapTolerance,x1=ui.offset.left,x2=x1+inst.helperProportions.width,y1=ui.offset.top,y2=y1+inst.helperProportions.height;for(i=inst.snapElements.length-1;i>=0;i--){l=inst.snapElements[i].left;r=l+inst.snapElements[i].width;t=inst.snapElements[i].top;b=t+inst.snapElements[i].height;if(x2<l-d||x1>r+d||y2<t-d||y1>b+d||!$.contains(inst.snapElements[i].item.ownerDocument,inst.snapElements[i].item)){if(inst.snapElements[i].snapping){(inst.options.snap.release&&inst.options.snap.release.call(inst.element,event,$.extend(inst._uiHash(),{snapItem:inst.snapElements[i].item})));}
inst.snapElements[i].snapping=false;continue;}
if(o.snapMode!=="inner"){ts=Math.abs(t-y2)<=d;bs=Math.abs(b-y1)<=d;ls=Math.abs(l-x2)<=d;rs=Math.abs(r-x1)<=d;if(ts){ui.position.top=inst._convertPositionTo("relative",{top:t-inst.helperProportions.height,left:0}).top-inst.margins.top;}
if(bs){ui.position.top=inst._convertPositionTo("relative",{top:b,left:0}).top-inst.margins.top;}
if(ls){ui.position.left=inst._convertPositionTo("relative",{top:0,left:l-inst.helperProportions.width}).left-inst.margins.left;}
if(rs){ui.position.left=inst._convertPositionTo("relative",{top:0,left:r}).left-inst.margins.left;}}
first=(ts||bs||ls||rs);if(o.snapMode!=="outer"){ts=Math.abs(t-y1)<=d;bs=Math.abs(b-y2)<=d;ls=Math.abs(l-x1)<=d;rs=Math.abs(r-x2)<=d;if(ts){ui.position.top=inst._convertPositionTo("relative",{top:t,left:0}).top-inst.margins.top;}
if(bs){ui.position.top=inst._convertPositionTo("relative",{top:b-inst.helperProportions.height,left:0}).top-inst.margins.top;}
if(ls){ui.position.left=inst._convertPositionTo("relative",{top:0,left:l}).left-inst.margins.left;}
if(rs){ui.position.left=inst._convertPositionTo("relative",{top:0,left:r-inst.helperProportions.width}).left-inst.margins.left;}}
if(!inst.snapElements[i].snapping&&(ts||bs||ls||rs||first)){(inst.options.snap.snap&&inst.options.snap.snap.call(inst.element,event,$.extend(inst._uiHash(),{snapItem:inst.snapElements[i].item})));}
inst.snapElements[i].snapping=(ts||bs||ls||rs||first);}}});$.ui.plugin.add("draggable","stack",{start:function(){var min,o=this.data("ui-draggable").options,group=$.makeArray($(o.stack)).sort(function(a,b){return(parseInt($(a).css("zIndex"),10)||0)-(parseInt($(b).css("zIndex"),10)||0);});if(!group.length){return;}
min=parseInt($(group[0]).css("zIndex"),10)||0;$(group).each(function(i){$(this).css("zIndex",min+i);});this.css("zIndex",(min+group.length));}});$.ui.plugin.add("draggable","zIndex",{start:function(event,ui){var t=$(ui.helper),o=$(this).data("ui-draggable").options;if(t.css("zIndex")){o._zIndex=t.css("zIndex");}
t.css("zIndex",o.zIndex);},stop:function(event,ui){var o=$(this).data("ui-draggable").options;if(o._zIndex){$(ui.helper).css("zIndex",o._zIndex);}}});})(jQuery);(function($,undefined){function isOverAxis(x,reference,size){return(x>reference)&&(x<(reference+size));}
$.widget("ui.droppable",{version:"1.10.3",widgetEventPrefix:"drop",options:{accept:"*",activeClass:false,addClasses:true,greedy:false,hoverClass:false,scope:"default",tolerance:"intersect",activate:null,deactivate:null,drop:null,out:null,over:null},_create:function(){var o=this.options,accept=o.accept;this.isover=false;this.isout=true;this.accept=$.isFunction(accept)?accept:function(d){return d.is(accept);};this.proportions={width:this.element[0].offsetWidth,height:this.element[0].offsetHeight};$.ui.ddmanager.droppables[o.scope]=$.ui.ddmanager.droppables[o.scope]||[];$.ui.ddmanager.droppables[o.scope].push(this);(o.addClasses&&this.element.addClass("ui-droppable"));},_destroy:function(){var i=0,drop=$.ui.ddmanager.droppables[this.options.scope];for(;i<drop.length;i++){if(drop[i]===this){drop.splice(i,1);}}
this.element.removeClass("ui-droppable ui-droppable-disabled");},_setOption:function(key,value){if(key==="accept"){this.accept=$.isFunction(value)?value:function(d){return d.is(value);};}
$.Widget.prototype._setOption.apply(this,arguments);},_activate:function(event){var draggable=$.ui.ddmanager.current;if(this.options.activeClass){this.element.addClass(this.options.activeClass);}
if(draggable){this._trigger("activate",event,this.ui(draggable));}},_deactivate:function(event){var draggable=$.ui.ddmanager.current;if(this.options.activeClass){this.element.removeClass(this.options.activeClass);}
if(draggable){this._trigger("deactivate",event,this.ui(draggable));}},_over:function(event){var draggable=$.ui.ddmanager.current;if(!draggable||(draggable.currentItem||draggable.element)[0]===this.element[0]){return;}
if(this.accept.call(this.element[0],(draggable.currentItem||draggable.element))){if(this.options.hoverClass){this.element.addClass(this.options.hoverClass);}
this._trigger("over",event,this.ui(draggable));}},_out:function(event){var draggable=$.ui.ddmanager.current;if(!draggable||(draggable.currentItem||draggable.element)[0]===this.element[0]){return;}
if(this.accept.call(this.element[0],(draggable.currentItem||draggable.element))){if(this.options.hoverClass){this.element.removeClass(this.options.hoverClass);}
this._trigger("out",event,this.ui(draggable));}},_drop:function(event,custom){var draggable=custom||$.ui.ddmanager.current,childrenIntersection=false;if(!draggable||(draggable.currentItem||draggable.element)[0]===this.element[0]){return false;}
this.element.find(":data(ui-droppable)").not(".ui-draggable-dragging").each(function(){var inst=$.data(this,"ui-droppable");if(inst.options.greedy&&!inst.options.disabled&&inst.options.scope===draggable.options.scope&&inst.accept.call(inst.element[0],(draggable.currentItem||draggable.element))&&$.ui.intersect(draggable,$.extend(inst,{offset:inst.element.offset()}),inst.options.tolerance)){childrenIntersection=true;return false;}});if(childrenIntersection){return false;}
if(this.accept.call(this.element[0],(draggable.currentItem||draggable.element))){if(this.options.activeClass){this.element.removeClass(this.options.activeClass);}
if(this.options.hoverClass){this.element.removeClass(this.options.hoverClass);}
this._trigger("drop",event,this.ui(draggable));return this.element;}
return false;},ui:function(c){return{draggable:(c.currentItem||c.element),helper:c.helper,position:c.position,offset:c.positionAbs};}});$.ui.intersect=function(draggable,droppable,toleranceMode){if(!droppable.offset){return false;}
var draggableLeft,draggableTop,x1=(draggable.positionAbs||draggable.position.absolute).left,x2=x1+draggable.helperProportions.width,y1=(draggable.positionAbs||draggable.position.absolute).top,y2=y1+draggable.helperProportions.height,l=droppable.offset.left,r=l+droppable.proportions.width,t=droppable.offset.top,b=t+droppable.proportions.height;switch(toleranceMode){case"fit":return(l<=x1&&x2<=r&&t<=y1&&y2<=b);case"intersect":return(l<x1+(draggable.helperProportions.width / 2)&&x2-(draggable.helperProportions.width / 2)<r&&t<y1+(draggable.helperProportions.height / 2)&&y2-(draggable.helperProportions.height / 2)<b);case"pointer":draggableLeft=((draggable.positionAbs||draggable.position.absolute).left+(draggable.clickOffset||draggable.offset.click).left);draggableTop=((draggable.positionAbs||draggable.position.absolute).top+(draggable.clickOffset||draggable.offset.click).top);return isOverAxis(draggableTop,t,droppable.proportions.height)&&isOverAxis(draggableLeft,l,droppable.proportions.width);case"touch":return((y1>=t&&y1<=b)||(y2>=t&&y2<=b)||(y1<t&&y2>b))&&((x1>=l&&x1<=r)||(x2>=l&&x2<=r)||(x1<l&&x2>r));default:return false;}};$.ui.ddmanager={current:null,droppables:{"default":[]},prepareOffsets:function(t,event){var i,j,m=$.ui.ddmanager.droppables[t.options.scope]||[],type=event?event.type:null,list=(t.currentItem||t.element).find(":data(ui-droppable)").addBack();droppablesLoop:for(i=0;i<m.length;i++){if(m[i].options.disabled||(t&&!m[i].accept.call(m[i].element[0],(t.currentItem||t.element)))){continue;}
for(j=0;j<list.length;j++){if(list[j]===m[i].element[0]){m[i].proportions.height=0;continue droppablesLoop;}}
m[i].visible=m[i].element.css("display")!=="none";if(!m[i].visible){continue;}
if(type==="mousedown"){m[i]._activate.call(m[i],event);}
m[i].offset=m[i].element.offset();m[i].proportions={width:m[i].element[0].offsetWidth,height:m[i].element[0].offsetHeight};}},drop:function(draggable,event){var dropped=false;$.each(($.ui.ddmanager.droppables[draggable.options.scope]||[]).slice(),function(){if(!this.options){return;}
if(!this.options.disabled&&this.visible&&$.ui.intersect(draggable,this,this.options.tolerance)){dropped=this._drop.call(this,event)||dropped;}
if(!this.options.disabled&&this.visible&&this.accept.call(this.element[0],(draggable.currentItem||draggable.element))){this.isout=true;this.isover=false;this._deactivate.call(this,event);}});return dropped;},dragStart:function(draggable,event){draggable.element.parentsUntil("body").bind("scroll.droppable",function(){if(!draggable.options.refreshPositions){$.ui.ddmanager.prepareOffsets(draggable,event);}});},drag:function(draggable,event){if(draggable.options.refreshPositions){$.ui.ddmanager.prepareOffsets(draggable,event);}
$.each($.ui.ddmanager.droppables[draggable.options.scope]||[],function(){if(this.options.disabled||this.greedyChild||!this.visible){return;}
var parentInstance,scope,parent,intersects=$.ui.intersect(draggable,this,this.options.tolerance),c=!intersects&&this.isover?"isout":(intersects&&!this.isover?"isover":null);if(!c){return;}
if(this.options.greedy){scope=this.options.scope;parent=this.element.parents(":data(ui-droppable)").filter(function(){return $.data(this,"ui-droppable").options.scope===scope;});if(parent.length){parentInstance=$.data(parent[0],"ui-droppable");parentInstance.greedyChild=(c==="isover");}}
if(parentInstance&&c==="isover"){parentInstance.isover=false;parentInstance.isout=true;parentInstance._out.call(parentInstance,event);}
this[c]=true;this[c==="isout"?"isover":"isout"]=false;this[c==="isover"?"_over":"_out"].call(this,event);if(parentInstance&&c==="isout"){parentInstance.isout=false;parentInstance.isover=true;parentInstance._over.call(parentInstance,event);}});},dragStop:function(draggable,event){draggable.element.parentsUntil("body").unbind("scroll.droppable");if(!draggable.options.refreshPositions){$.ui.ddmanager.prepareOffsets(draggable,event);}}};})(jQuery);(function($,undefined){function num(v){return parseInt(v,10)||0;}
function isNumber(value){return!isNaN(parseInt(value,10));}
$.widget("ui.resizable",$.ui.mouse,{version:"1.10.3",widgetEventPrefix:"resize",options:{alsoResize:false,animate:false,animateDuration:"slow",animateEasing:"swing",aspectRatio:false,autoHide:false,containment:false,ghost:false,grid:false,handles:"e,s,se",helper:false,maxHeight:null,maxWidth:null,minHeight:10,minWidth:10,zIndex:90,resize:null,start:null,stop:null},_create:function(){var n,i,handle,axis,hname,that=this,o=this.options;this.element.addClass("ui-resizable");$.extend(this,{_aspectRatio:!!(o.aspectRatio),aspectRatio:o.aspectRatio,originalElement:this.element,_proportionallyResizeElements:[],_helper:o.helper||o.ghost||o.animate?o.helper||"ui-resizable-helper":null});if(this.element[0].nodeName.match(/canvas|textarea|input|select|button|img/i)){this.element.wrap($("<div class='ui-wrapper' style='overflow: hidden;'></div>").css({position:this.element.css("position"),width:this.element.outerWidth(),height:this.element.outerHeight(),top:this.element.css("top"),left:this.element.css("left")}));this.element=this.element.parent().data("ui-resizable",this.element.data("ui-resizable"));this.elementIsWrapper=true;this.element.css({marginLeft:this.originalElement.css("marginLeft"),marginTop:this.originalElement.css("marginTop"),marginRight:this.originalElement.css("marginRight"),marginBottom:this.originalElement.css("marginBottom")});this.originalElement.css({marginLeft:0,marginTop:0,marginRight:0,marginBottom:0});this.originalResizeStyle=this.originalElement.css("resize");this.originalElement.css("resize","none");this._proportionallyResizeElements.push(this.originalElement.css({position:"static",zoom:1,display:"block"}));this.originalElement.css({margin:this.originalElement.css("margin")});this._proportionallyResize();}
this.handles=o.handles||(!$(".ui-resizable-handle",this.element).length?"e,s,se":{n:".ui-resizable-n",e:".ui-resizable-e",s:".ui-resizable-s",w:".ui-resizable-w",se:".ui-resizable-se",sw:".ui-resizable-sw",ne:".ui-resizable-ne",nw:".ui-resizable-nw"});if(this.handles.constructor===String){if(this.handles==="all"){this.handles="n,e,s,w,se,sw,ne,nw";}
n=this.handles.split(",");this.handles={};for(i=0;i<n.length;i++){handle=$.trim(n[i]);hname="ui-resizable-"+handle;axis=$("<div class='ui-resizable-handle "+hname+"'></div>");axis.css({zIndex:o.zIndex});if("se"===handle){axis.addClass("ui-icon ui-icon-gripsmall-diagonal-se");}
this.handles[handle]=".ui-resizable-"+handle;this.element.append(axis);}}
this._renderAxis=function(target){var i,axis,padPos,padWrapper;target=target||this.element;for(i in this.handles){if(this.handles[i].constructor===String){this.handles[i]=$(this.handles[i],this.element).show();}
if(this.elementIsWrapper&&this.originalElement[0].nodeName.match(/textarea|input|select|button/i)){axis=$(this.handles[i],this.element);padWrapper=/sw|ne|nw|se|n|s/.test(i)?axis.outerHeight():axis.outerWidth();padPos=["padding",/ne|nw|n/.test(i)?"Top":/se|sw|s/.test(i)?"Bottom":/^e$/.test(i)?"Right":"Left"].join("");target.css(padPos,padWrapper);this._proportionallyResize();}
if(!$(this.handles[i]).length){continue;}}};this._renderAxis(this.element);this._handles=$(".ui-resizable-handle",this.element).disableSelection();this._handles.mouseover(function(){if(!that.resizing){if(this.className){axis=this.className.match(/ui-resizable-(se|sw|ne|nw|n|e|s|w)/i);}
that.axis=axis&&axis[1]?axis[1]:"se";}});if(o.autoHide){this._handles.hide();$(this.element).addClass("ui-resizable-autohide").mouseenter(function(){if(o.disabled){return;}
$(this).removeClass("ui-resizable-autohide");that._handles.show();}).mouseleave(function(){if(o.disabled){return;}
if(!that.resizing){$(this).addClass("ui-resizable-autohide");that._handles.hide();}});}
this._mouseInit();},_destroy:function(){this._mouseDestroy();var wrapper,_destroy=function(exp){$(exp).removeClass("ui-resizable ui-resizable-disabled ui-resizable-resizing").removeData("resizable").removeData("ui-resizable").unbind(".resizable").find(".ui-resizable-handle").remove();};if(this.elementIsWrapper){_destroy(this.element);wrapper=this.element;this.originalElement.css({position:wrapper.css("position"),width:wrapper.outerWidth(),height:wrapper.outerHeight(),top:wrapper.css("top"),left:wrapper.css("left")}).insertAfter(wrapper);wrapper.remove();}
this.originalElement.css("resize",this.originalResizeStyle);_destroy(this.originalElement);return this;},_mouseCapture:function(event){var i,handle,capture=false;for(i in this.handles){handle=$(this.handles[i])[0];if(handle===event.target||$.contains(handle,event.target)){capture=true;}}
return!this.options.disabled&&capture;},_mouseStart:function(event){var curleft,curtop,cursor,o=this.options,iniPos=this.element.position(),el=this.element;this.resizing=true;if((/absolute/).test(el.css("position"))){el.css({position:"absolute",top:el.css("top"),left:el.css("left")});}else if(el.is(".ui-draggable")){el.css({position:"absolute",top:iniPos.top,left:iniPos.left});}
this._renderProxy();curleft=num(this.helper.css("left"));curtop=num(this.helper.css("top"));if(o.containment){curleft+=$(o.containment).scrollLeft()||0;curtop+=$(o.containment).scrollTop()||0;}
this.offset=this.helper.offset();this.position={left:curleft,top:curtop};this.size=this._helper?{width:el.outerWidth(),height:el.outerHeight()}:{width:el.width(),height:el.height()};this.originalSize=this._helper?{width:el.outerWidth(),height:el.outerHeight()}:{width:el.width(),height:el.height()};this.originalPosition={left:curleft,top:curtop};this.sizeDiff={width:el.outerWidth()-el.width(),height:el.outerHeight()-el.height()};this.originalMousePosition={left:event.pageX,top:event.pageY};this.aspectRatio=(typeof o.aspectRatio==="number")?o.aspectRatio:((this.originalSize.width / this.originalSize.height)||1);cursor=$(".ui-resizable-"+this.axis).css("cursor");$("body").css("cursor",cursor==="auto"?this.axis+"-resize":cursor);el.addClass("ui-resizable-resizing");this._propagate("start",event);return true;},_mouseDrag:function(event){var data,el=this.helper,props={},smp=this.originalMousePosition,a=this.axis,prevTop=this.position.top,prevLeft=this.position.left,prevWidth=this.size.width,prevHeight=this.size.height,dx=(event.pageX-smp.left)||0,dy=(event.pageY-smp.top)||0,trigger=this._change[a];if(!trigger){return false;}
data=trigger.apply(this,[event,dx,dy]);this._updateVirtualBoundaries(event.shiftKey);if(this._aspectRatio||event.shiftKey){data=this._updateRatio(data,event);}
data=this._respectSize(data,event);this._updateCache(data);this._propagate("resize",event);if(this.position.top!==prevTop){props.top=this.position.top+"px";}
if(this.position.left!==prevLeft){props.left=this.position.left+"px";}
if(this.size.width!==prevWidth){props.width=this.size.width+"px";}
if(this.size.height!==prevHeight){props.height=this.size.height+"px";}
el.css(props);if(!this._helper&&this._proportionallyResizeElements.length){this._proportionallyResize();}
if(!$.isEmptyObject(props)){this._trigger("resize",event,this.ui());}
return false;},_mouseStop:function(event){this.resizing=false;var pr,ista,soffseth,soffsetw,s,left,top,o=this.options,that=this;if(this._helper){pr=this._proportionallyResizeElements;ista=pr.length&&(/textarea/i).test(pr[0].nodeName);soffseth=ista&&$.ui.hasScroll(pr[0],"left")?0:that.sizeDiff.height;soffsetw=ista?0:that.sizeDiff.width;s={width:(that.helper.width()-soffsetw),height:(that.helper.height()-soffseth)};left=(parseInt(that.element.css("left"),10)+(that.position.left-that.originalPosition.left))||null;top=(parseInt(that.element.css("top"),10)+(that.position.top-that.originalPosition.top))||null;if(!o.animate){this.element.css($.extend(s,{top:top,left:left}));}
that.helper.height(that.size.height);that.helper.width(that.size.width);if(this._helper&&!o.animate){this._proportionallyResize();}}
$("body").css("cursor","auto");this.element.removeClass("ui-resizable-resizing");this._propagate("stop",event);if(this._helper){this.helper.remove();}
return false;},_updateVirtualBoundaries:function(forceAspectRatio){var pMinWidth,pMaxWidth,pMinHeight,pMaxHeight,b,o=this.options;b={minWidth:isNumber(o.minWidth)?o.minWidth:0,maxWidth:isNumber(o.maxWidth)?o.maxWidth:Infinity,minHeight:isNumber(o.minHeight)?o.minHeight:0,maxHeight:isNumber(o.maxHeight)?o.maxHeight:Infinity};if(this._aspectRatio||forceAspectRatio){pMinWidth=b.minHeight*this.aspectRatio;pMinHeight=b.minWidth / this.aspectRatio;pMaxWidth=b.maxHeight*this.aspectRatio;pMaxHeight=b.maxWidth / this.aspectRatio;if(pMinWidth>b.minWidth){b.minWidth=pMinWidth;}
if(pMinHeight>b.minHeight){b.minHeight=pMinHeight;}
if(pMaxWidth<b.maxWidth){b.maxWidth=pMaxWidth;}
if(pMaxHeight<b.maxHeight){b.maxHeight=pMaxHeight;}}
this._vBoundaries=b;},_updateCache:function(data){this.offset=this.helper.offset();if(isNumber(data.left)){this.position.left=data.left;}
if(isNumber(data.top)){this.position.top=data.top;}
if(isNumber(data.height)){this.size.height=data.height;}
if(isNumber(data.width)){this.size.width=data.width;}},_updateRatio:function(data){var cpos=this.position,csize=this.size,a=this.axis;if(isNumber(data.height)){data.width=(data.height*this.aspectRatio);}else if(isNumber(data.width)){data.height=(data.width / this.aspectRatio);}
if(a==="sw"){data.left=cpos.left+(csize.width-data.width);data.top=null;}
if(a==="nw"){data.top=cpos.top+(csize.height-data.height);data.left=cpos.left+(csize.width-data.width);}
return data;},_respectSize:function(data){var o=this._vBoundaries,a=this.axis,ismaxw=isNumber(data.width)&&o.maxWidth&&(o.maxWidth<data.width),ismaxh=isNumber(data.height)&&o.maxHeight&&(o.maxHeight<data.height),isminw=isNumber(data.width)&&o.minWidth&&(o.minWidth>data.width),isminh=isNumber(data.height)&&o.minHeight&&(o.minHeight>data.height),dw=this.originalPosition.left+this.originalSize.width,dh=this.position.top+this.size.height,cw=/sw|nw|w/.test(a),ch=/nw|ne|n/.test(a);if(isminw){data.width=o.minWidth;}
if(isminh){data.height=o.minHeight;}
if(ismaxw){data.width=o.maxWidth;}
if(ismaxh){data.height=o.maxHeight;}
if(isminw&&cw){data.left=dw-o.minWidth;}
if(ismaxw&&cw){data.left=dw-o.maxWidth;}
if(isminh&&ch){data.top=dh-o.minHeight;}
if(ismaxh&&ch){data.top=dh-o.maxHeight;}
if(!data.width&&!data.height&&!data.left&&data.top){data.top=null;}else if(!data.width&&!data.height&&!data.top&&data.left){data.left=null;}
return data;},_proportionallyResize:function(){if(!this._proportionallyResizeElements.length){return;}
var i,j,borders,paddings,prel,element=this.helper||this.element;for(i=0;i<this._proportionallyResizeElements.length;i++){prel=this._proportionallyResizeElements[i];if(!this.borderDif){this.borderDif=[];borders=[prel.css("borderTopWidth"),prel.css("borderRightWidth"),prel.css("borderBottomWidth"),prel.css("borderLeftWidth")];paddings=[prel.css("paddingTop"),prel.css("paddingRight"),prel.css("paddingBottom"),prel.css("paddingLeft")];for(j=0;j<borders.length;j++){this.borderDif[j]=(parseInt(borders[j],10)||0)+(parseInt(paddings[j],10)||0);}}
prel.css({height:(element.height()-this.borderDif[0]-this.borderDif[2])||0,width:(element.width()-this.borderDif[1]-this.borderDif[3])||0});}},_renderProxy:function(){var el=this.element,o=this.options;this.elementOffset=el.offset();if(this._helper){this.helper=this.helper||$("<div style='overflow:hidden;'></div>");this.helper.addClass(this._helper).css({width:this.element.outerWidth()-1,height:this.element.outerHeight()-1,position:"absolute",left:this.elementOffset.left+"px",top:this.elementOffset.top+"px",zIndex:++o.zIndex});this.helper.appendTo("body").disableSelection();}else{this.helper=this.element;}},_change:{e:function(event,dx){return{width:this.originalSize.width+dx};},w:function(event,dx){var cs=this.originalSize,sp=this.originalPosition;return{left:sp.left+dx,width:cs.width-dx};},n:function(event,dx,dy){var cs=this.originalSize,sp=this.originalPosition;return{top:sp.top+dy,height:cs.height-dy};},s:function(event,dx,dy){return{height:this.originalSize.height+dy};},se:function(event,dx,dy){return $.extend(this._change.s.apply(this,arguments),this._change.e.apply(this,[event,dx,dy]));},sw:function(event,dx,dy){return $.extend(this._change.s.apply(this,arguments),this._change.w.apply(this,[event,dx,dy]));},ne:function(event,dx,dy){return $.extend(this._change.n.apply(this,arguments),this._change.e.apply(this,[event,dx,dy]));},nw:function(event,dx,dy){return $.extend(this._change.n.apply(this,arguments),this._change.w.apply(this,[event,dx,dy]));}},_propagate:function(n,event){$.ui.plugin.call(this,n,[event,this.ui()]);(n!=="resize"&&this._trigger(n,event,this.ui()));},plugins:{},ui:function(){return{originalElement:this.originalElement,element:this.element,helper:this.helper,position:this.position,size:this.size,originalSize:this.originalSize,originalPosition:this.originalPosition};}});$.ui.plugin.add("resizable","animate",{stop:function(event){var that=$(this).data("ui-resizable"),o=that.options,pr=that._proportionallyResizeElements,ista=pr.length&&(/textarea/i).test(pr[0].nodeName),soffseth=ista&&$.ui.hasScroll(pr[0],"left")?0:that.sizeDiff.height,soffsetw=ista?0:that.sizeDiff.width,style={width:(that.size.width-soffsetw),height:(that.size.height-soffseth)},left=(parseInt(that.element.css("left"),10)+(that.position.left-that.originalPosition.left))||null,top=(parseInt(that.element.css("top"),10)+(that.position.top-that.originalPosition.top))||null;that.element.animate($.extend(style,top&&left?{top:top,left:left}:{}),{duration:o.animateDuration,easing:o.animateEasing,step:function(){var data={width:parseInt(that.element.css("width"),10),height:parseInt(that.element.css("height"),10),top:parseInt(that.element.css("top"),10),left:parseInt(that.element.css("left"),10)};if(pr&&pr.length){$(pr[0]).css({width:data.width,height:data.height});}
that._updateCache(data);that._propagate("resize",event);}});}});$.ui.plugin.add("resizable","containment",{start:function(){var element,p,co,ch,cw,width,height,that=$(this).data("ui-resizable"),o=that.options,el=that.element,oc=o.containment,ce=(oc instanceof $)?oc.get(0):(/parent/.test(oc))?el.parent().get(0):oc;if(!ce){return;}
that.containerElement=$(ce);if(/document/.test(oc)||oc===document){that.containerOffset={left:0,top:0};that.containerPosition={left:0,top:0};that.parentData={element:$(document),left:0,top:0,width:$(document).width(),height:$(document).height()||document.body.parentNode.scrollHeight};}
else{element=$(ce);p=[];$(["Top","Right","Left","Bottom"]).each(function(i,name){p[i]=num(element.css("padding"+name));});that.containerOffset=element.offset();that.containerPosition=element.position();that.containerSize={height:(element.innerHeight()-p[3]),width:(element.innerWidth()-p[1])};co=that.containerOffset;ch=that.containerSize.height;cw=that.containerSize.width;width=($.ui.hasScroll(ce,"left")?ce.scrollWidth:cw);height=($.ui.hasScroll(ce)?ce.scrollHeight:ch);that.parentData={element:ce,left:co.left,top:co.top,width:width,height:height};}},resize:function(event){var woset,hoset,isParent,isOffsetRelative,that=$(this).data("ui-resizable"),o=that.options,co=that.containerOffset,cp=that.position,pRatio=that._aspectRatio||event.shiftKey,cop={top:0,left:0},ce=that.containerElement;if(ce[0]!==document&&(/static/).test(ce.css("position"))){cop=co;}
if(cp.left<(that._helper?co.left:0)){that.size.width=that.size.width+(that._helper?(that.position.left-co.left):(that.position.left-cop.left));if(pRatio){that.size.height=that.size.width / that.aspectRatio;}
that.position.left=o.helper?co.left:0;}
if(cp.top<(that._helper?co.top:0)){that.size.height=that.size.height+(that._helper?(that.position.top-co.top):that.position.top);if(pRatio){that.size.width=that.size.height*that.aspectRatio;}
that.position.top=that._helper?co.top:0;}
that.offset.left=that.parentData.left+that.position.left;that.offset.top=that.parentData.top+that.position.top;woset=Math.abs((that._helper?that.offset.left-cop.left:(that.offset.left-cop.left))+that.sizeDiff.width);hoset=Math.abs((that._helper?that.offset.top-cop.top:(that.offset.top-co.top))+that.sizeDiff.height);isParent=that.containerElement.get(0)===that.element.parent().get(0);isOffsetRelative=/relative|absolute/.test(that.containerElement.css("position"));if(isParent&&isOffsetRelative){woset-=that.parentData.left;}
if(woset+that.size.width>=that.parentData.width){that.size.width=that.parentData.width-woset;if(pRatio){that.size.height=that.size.width / that.aspectRatio;}}
if(hoset+that.size.height>=that.parentData.height){that.size.height=that.parentData.height-hoset;if(pRatio){that.size.width=that.size.height*that.aspectRatio;}}},stop:function(){var that=$(this).data("ui-resizable"),o=that.options,co=that.containerOffset,cop=that.containerPosition,ce=that.containerElement,helper=$(that.helper),ho=helper.offset(),w=helper.outerWidth()-that.sizeDiff.width,h=helper.outerHeight()-that.sizeDiff.height;if(that._helper&&!o.animate&&(/relative/).test(ce.css("position"))){$(this).css({left:ho.left-cop.left-co.left,width:w,height:h});}
if(that._helper&&!o.animate&&(/static/).test(ce.css("position"))){$(this).css({left:ho.left-cop.left-co.left,width:w,height:h});}}});$.ui.plugin.add("resizable","alsoResize",{start:function(){var that=$(this).data("ui-resizable"),o=that.options,_store=function(exp){$(exp).each(function(){var el=$(this);el.data("ui-resizable-alsoresize",{width:parseInt(el.width(),10),height:parseInt(el.height(),10),left:parseInt(el.css("left"),10),top:parseInt(el.css("top"),10)});});};if(typeof(o.alsoResize)==="object"&&!o.alsoResize.parentNode){if(o.alsoResize.length){o.alsoResize=o.alsoResize[0];_store(o.alsoResize);}
else{$.each(o.alsoResize,function(exp){_store(exp);});}}else{_store(o.alsoResize);}},resize:function(event,ui){var that=$(this).data("ui-resizable"),o=that.options,os=that.originalSize,op=that.originalPosition,delta={height:(that.size.height-os.height)||0,width:(that.size.width-os.width)||0,top:(that.position.top-op.top)||0,left:(that.position.left-op.left)||0},_alsoResize=function(exp,c){$(exp).each(function(){var el=$(this),start=$(this).data("ui-resizable-alsoresize"),style={},css=c&&c.length?c:el.parents(ui.originalElement[0]).length?["width","height"]:["width","height","top","left"];$.each(css,function(i,prop){var sum=(start[prop]||0)+(delta[prop]||0);if(sum&&sum>=0){style[prop]=sum||null;}});el.css(style);});};if(typeof(o.alsoResize)==="object"&&!o.alsoResize.nodeType){$.each(o.alsoResize,function(exp,c){_alsoResize(exp,c);});}else{_alsoResize(o.alsoResize);}},stop:function(){$(this).removeData("resizable-alsoresize");}});$.ui.plugin.add("resizable","ghost",{start:function(){var that=$(this).data("ui-resizable"),o=that.options,cs=that.size;that.ghost=that.originalElement.clone();that.ghost.css({opacity:0.25,display:"block",position:"relative",height:cs.height,width:cs.width,margin:0,left:0,top:0}).addClass("ui-resizable-ghost").addClass(typeof o.ghost==="string"?o.ghost:"");that.ghost.appendTo(that.helper);},resize:function(){var that=$(this).data("ui-resizable");if(that.ghost){that.ghost.css({position:"relative",height:that.size.height,width:that.size.width});}},stop:function(){var that=$(this).data("ui-resizable");if(that.ghost&&that.helper){that.helper.get(0).removeChild(that.ghost.get(0));}}});$.ui.plugin.add("resizable","grid",{resize:function(){var that=$(this).data("ui-resizable"),o=that.options,cs=that.size,os=that.originalSize,op=that.originalPosition,a=that.axis,grid=typeof o.grid==="number"?[o.grid,o.grid]:o.grid,gridX=(grid[0]||1),gridY=(grid[1]||1),ox=Math.round((cs.width-os.width)/ gridX)*gridX,oy=Math.round((cs.height-os.height)/ gridY)*gridY,newWidth=os.width+ox,newHeight=os.height+oy,isMaxWidth=o.maxWidth&&(o.maxWidth<newWidth),isMaxHeight=o.maxHeight&&(o.maxHeight<newHeight),isMinWidth=o.minWidth&&(o.minWidth>newWidth),isMinHeight=o.minHeight&&(o.minHeight>newHeight);o.grid=grid;if(isMinWidth){newWidth=newWidth+gridX;}
if(isMinHeight){newHeight=newHeight+gridY;}
if(isMaxWidth){newWidth=newWidth-gridX;}
if(isMaxHeight){newHeight=newHeight-gridY;}
if(/^(se|s|e)$/.test(a)){that.size.width=newWidth;that.size.height=newHeight;}else if(/^(ne)$/.test(a)){that.size.width=newWidth;that.size.height=newHeight;that.position.top=op.top-oy;}else if(/^(sw)$/.test(a)){that.size.width=newWidth;that.size.height=newHeight;that.position.left=op.left-ox;}else{that.size.width=newWidth;that.size.height=newHeight;that.position.top=op.top-oy;that.position.left=op.left-ox;}}});})(jQuery);(function($,undefined){$.widget("ui.selectable",$.ui.mouse,{version:"1.10.3",options:{appendTo:"body",autoRefresh:true,distance:0,filter:"*",tolerance:"touch",selected:null,selecting:null,start:null,stop:null,unselected:null,unselecting:null},_create:function(){var selectees,that=this;this.element.addClass("ui-selectable");this.dragged=false;this.refresh=function(){selectees=$(that.options.filter,that.element[0]);selectees.addClass("ui-selectee");selectees.each(function(){var $this=$(this),pos=$this.offset();$.data(this,"selectable-item",{element:this,$element:$this,left:pos.left,top:pos.top,right:pos.left+$this.outerWidth(),bottom:pos.top+$this.outerHeight(),startselected:false,selected:$this.hasClass("ui-selected"),selecting:$this.hasClass("ui-selecting"),unselecting:$this.hasClass("ui-unselecting")});});};this.refresh();this.selectees=selectees.addClass("ui-selectee");this._mouseInit();this.helper=$("<div class='ui-selectable-helper'></div>");},_destroy:function(){this.selectees.removeClass("ui-selectee").removeData("selectable-item");this.element.removeClass("ui-selectable ui-selectable-disabled");this._mouseDestroy();},_mouseStart:function(event){var that=this,options=this.options;this.opos=[event.pageX,event.pageY];if(this.options.disabled){return;}
this.selectees=$(options.filter,this.element[0]);this._trigger("start",event);$(options.appendTo).append(this.helper);this.helper.css({"left":event.pageX,"top":event.pageY,"width":0,"height":0});if(options.autoRefresh){this.refresh();}
this.selectees.filter(".ui-selected").each(function(){var selectee=$.data(this,"selectable-item");selectee.startselected=true;if(!event.metaKey&&!event.ctrlKey){selectee.$element.removeClass("ui-selected");selectee.selected=false;selectee.$element.addClass("ui-unselecting");selectee.unselecting=true;that._trigger("unselecting",event,{unselecting:selectee.element});}});$(event.target).parents().addBack().each(function(){var doSelect,selectee=$.data(this,"selectable-item");if(selectee){doSelect=(!event.metaKey&&!event.ctrlKey)||!selectee.$element.hasClass("ui-selected");selectee.$element.removeClass(doSelect?"ui-unselecting":"ui-selected").addClass(doSelect?"ui-selecting":"ui-unselecting");selectee.unselecting=!doSelect;selectee.selecting=doSelect;selectee.selected=doSelect;if(doSelect){that._trigger("selecting",event,{selecting:selectee.element});}else{that._trigger("unselecting",event,{unselecting:selectee.element});}
return false;}});},_mouseDrag:function(event){this.dragged=true;if(this.options.disabled){return;}
var tmp,that=this,options=this.options,x1=this.opos[0],y1=this.opos[1],x2=event.pageX,y2=event.pageY;if(x1>x2){tmp=x2;x2=x1;x1=tmp;}
if(y1>y2){tmp=y2;y2=y1;y1=tmp;}
this.helper.css({left:x1,top:y1,width:x2-x1,height:y2-y1});this.selectees.each(function(){var selectee=$.data(this,"selectable-item"),hit=false;if(!selectee||selectee.element===that.element[0]){return;}
if(options.tolerance==="touch"){hit=(!(selectee.left>x2||selectee.right<x1||selectee.top>y2||selectee.bottom<y1));}else if(options.tolerance==="fit"){hit=(selectee.left>x1&&selectee.right<x2&&selectee.top>y1&&selectee.bottom<y2);}
if(hit){if(selectee.selected){selectee.$element.removeClass("ui-selected");selectee.selected=false;}
if(selectee.unselecting){selectee.$element.removeClass("ui-unselecting");selectee.unselecting=false;}
if(!selectee.selecting){selectee.$element.addClass("ui-selecting");selectee.selecting=true;that._trigger("selecting",event,{selecting:selectee.element});}}else{if(selectee.selecting){if((event.metaKey||event.ctrlKey)&&selectee.startselected){selectee.$element.removeClass("ui-selecting");selectee.selecting=false;selectee.$element.addClass("ui-selected");selectee.selected=true;}else{selectee.$element.removeClass("ui-selecting");selectee.selecting=false;if(selectee.startselected){selectee.$element.addClass("ui-unselecting");selectee.unselecting=true;}
that._trigger("unselecting",event,{unselecting:selectee.element});}}
if(selectee.selected){if(!event.metaKey&&!event.ctrlKey&&!selectee.startselected){selectee.$element.removeClass("ui-selected");selectee.selected=false;selectee.$element.addClass("ui-unselecting");selectee.unselecting=true;that._trigger("unselecting",event,{unselecting:selectee.element});}}}});return false;},_mouseStop:function(event){var that=this;this.dragged=false;$(".ui-unselecting",this.element[0]).each(function(){var selectee=$.data(this,"selectable-item");selectee.$element.removeClass("ui-unselecting");selectee.unselecting=false;selectee.startselected=false;that._trigger("unselected",event,{unselected:selectee.element});});$(".ui-selecting",this.element[0]).each(function(){var selectee=$.data(this,"selectable-item");selectee.$element.removeClass("ui-selecting").addClass("ui-selected");selectee.selecting=false;selectee.selected=true;selectee.startselected=true;that._trigger("selected",event,{selected:selectee.element});});this._trigger("stop",event);this.helper.remove();return false;}});})(jQuery);(function($,undefined){function isOverAxis(x,reference,size){return(x>reference)&&(x<(reference+size));}
function isFloating(item){return(/left|right/).test(item.css("float"))||(/inline|table-cell/).test(item.css("display"));}
$.widget("ui.sortable",$.ui.mouse,{version:"1.10.3",widgetEventPrefix:"sort",ready:false,options:{appendTo:"parent",axis:false,connectWith:false,containment:false,cursor:"auto",cursorAt:false,dropOnEmpty:true,forcePlaceholderSize:false,forceHelperSize:false,grid:false,handle:false,helper:"original",items:"> *",opacity:false,placeholder:false,revert:false,scroll:true,scrollSensitivity:20,scrollSpeed:20,scope:"default",tolerance:"intersect",zIndex:1000,activate:null,beforeStop:null,change:null,deactivate:null,out:null,over:null,receive:null,remove:null,sort:null,start:null,stop:null,update:null},_create:function(){var o=this.options;this.containerCache={};this.element.addClass("ui-sortable");this.refresh();this.floating=this.items.length?o.axis==="x"||isFloating(this.items[0].item):false;this.offset=this.element.offset();this._mouseInit();this.ready=true;},_destroy:function(){this.element.removeClass("ui-sortable ui-sortable-disabled");this._mouseDestroy();for(var i=this.items.length-1;i>=0;i--){this.items[i].item.removeData(this.widgetName+"-item");}
return this;},_setOption:function(key,value){if(key==="disabled"){this.options[key]=value;this.widget().toggleClass("ui-sortable-disabled",!!value);}else{$.Widget.prototype._setOption.apply(this,arguments);}},_mouseCapture:function(event,overrideHandle){var currentItem=null,validHandle=false,that=this;if(this.reverting){return false;}
if(this.options.disabled||this.options.type==="static"){return false;}
this._refreshItems(event);$(event.target).parents().each(function(){if($.data(this,that.widgetName+"-item")===that){currentItem=$(this);return false;}});if($.data(event.target,that.widgetName+"-item")===that){currentItem=$(event.target);}
if(!currentItem){return false;}
if(this.options.handle&&!overrideHandle){$(this.options.handle,currentItem).find("*").addBack().each(function(){if(this===event.target){validHandle=true;}});if(!validHandle){return false;}}
this.currentItem=currentItem;this._removeCurrentsFromItems();return true;},_mouseStart:function(event,overrideHandle,noActivation){var i,body,o=this.options;this.currentContainer=this;this.refreshPositions();this.helper=this._createHelper(event);this._cacheHelperProportions();this._cacheMargins();this.scrollParent=this.helper.scrollParent();this.offset=this.currentItem.offset();this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left};$.extend(this.offset,{click:{left:event.pageX-this.offset.left,top:event.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()});this.helper.css("position","absolute");this.cssPosition=this.helper.css("position");this.originalPosition=this._generatePosition(event);this.originalPageX=event.pageX;this.originalPageY=event.pageY;(o.cursorAt&&this._adjustOffsetFromHelper(o.cursorAt));this.domPosition={prev:this.currentItem.prev()[0],parent:this.currentItem.parent()[0]};if(this.helper[0]!==this.currentItem[0]){this.currentItem.hide();}
this._createPlaceholder();if(o.containment){this._setContainment();}
if(o.cursor&&o.cursor!=="auto"){body=this.document.find("body");this.storedCursor=body.css("cursor");body.css("cursor",o.cursor);this.storedStylesheet=$("<style>*{ cursor: "+o.cursor+" !important; }</style>").appendTo(body);}
if(o.opacity){if(this.helper.css("opacity")){this._storedOpacity=this.helper.css("opacity");}
this.helper.css("opacity",o.opacity);}
if(o.zIndex){if(this.helper.css("zIndex")){this._storedZIndex=this.helper.css("zIndex");}
this.helper.css("zIndex",o.zIndex);}
if(this.scrollParent[0]!==document&&this.scrollParent[0].tagName!=="HTML"){this.overflowOffset=this.scrollParent.offset();}
this._trigger("start",event,this._uiHash());if(!this._preserveHelperProportions){this._cacheHelperProportions();}
if(!noActivation){for(i=this.containers.length-1;i>=0;i--){this.containers[i]._trigger("activate",event,this._uiHash(this));}}
if($.ui.ddmanager){$.ui.ddmanager.current=this;}
if($.ui.ddmanager&&!o.dropBehaviour){$.ui.ddmanager.prepareOffsets(this,event);}
this.dragging=true;this.helper.addClass("ui-sortable-helper");this._mouseDrag(event);return true;},_mouseDrag:function(event){var i,item,itemElement,intersection,o=this.options,scrolled=false;this.position=this._generatePosition(event);this.positionAbs=this._convertPositionTo("absolute");if(!this.lastPositionAbs){this.lastPositionAbs=this.positionAbs;}
if(this.options.scroll){if(this.scrollParent[0]!==document&&this.scrollParent[0].tagName!=="HTML"){if((this.overflowOffset.top+this.scrollParent[0].offsetHeight)-event.pageY<o.scrollSensitivity){this.scrollParent[0].scrollTop=scrolled=this.scrollParent[0].scrollTop+o.scrollSpeed;}else if(event.pageY-this.overflowOffset.top<o.scrollSensitivity){this.scrollParent[0].scrollTop=scrolled=this.scrollParent[0].scrollTop-o.scrollSpeed;}
if((this.overflowOffset.left+this.scrollParent[0].offsetWidth)-event.pageX<o.scrollSensitivity){this.scrollParent[0].scrollLeft=scrolled=this.scrollParent[0].scrollLeft+o.scrollSpeed;}else if(event.pageX-this.overflowOffset.left<o.scrollSensitivity){this.scrollParent[0].scrollLeft=scrolled=this.scrollParent[0].scrollLeft-o.scrollSpeed;}}else{if(event.pageY-$(document).scrollTop()<o.scrollSensitivity){scrolled=$(document).scrollTop($(document).scrollTop()-o.scrollSpeed);}else if($(window).height()-(event.pageY-$(document).scrollTop())<o.scrollSensitivity){scrolled=$(document).scrollTop($(document).scrollTop()+o.scrollSpeed);}
if(event.pageX-$(document).scrollLeft()<o.scrollSensitivity){scrolled=$(document).scrollLeft($(document).scrollLeft()-o.scrollSpeed);}else if($(window).width()-(event.pageX-$(document).scrollLeft())<o.scrollSensitivity){scrolled=$(document).scrollLeft($(document).scrollLeft()+o.scrollSpeed);}}
if(scrolled!==false&&$.ui.ddmanager&&!o.dropBehaviour){$.ui.ddmanager.prepareOffsets(this,event);}}
this.positionAbs=this._convertPositionTo("absolute");if(!this.options.axis||this.options.axis!=="y"){this.helper[0].style.left=this.position.left+"px";}
if(!this.options.axis||this.options.axis!=="x"){this.helper[0].style.top=this.position.top+"px";}
for(i=this.items.length-1;i>=0;i--){item=this.items[i];itemElement=item.item[0];intersection=this._intersectsWithPointer(item);if(!intersection){continue;}
if(item.instance!==this.currentContainer){continue;}
if(itemElement!==this.currentItem[0]&&this.placeholder[intersection===1?"next":"prev"]()[0]!==itemElement&&!$.contains(this.placeholder[0],itemElement)&&(this.options.type==="semi-dynamic"?!$.contains(this.element[0],itemElement):true)){this.direction=intersection===1?"down":"up";if(this.options.tolerance==="pointer"||this._intersectsWithSides(item)){this._rearrange(event,item);}else{break;}
this._trigger("change",event,this._uiHash());break;}}
this._contactContainers(event);if($.ui.ddmanager){$.ui.ddmanager.drag(this,event);}
this._trigger("sort",event,this._uiHash());this.lastPositionAbs=this.positionAbs;return false;},_mouseStop:function(event,noPropagation){if(!event){return;}
if($.ui.ddmanager&&!this.options.dropBehaviour){$.ui.ddmanager.drop(this,event);}
if(this.options.revert){var that=this,cur=this.placeholder.offset(),axis=this.options.axis,animation={};if(!axis||axis==="x"){animation.left=cur.left-this.offset.parent.left-this.margins.left+(this.offsetParent[0]===document.body?0:this.offsetParent[0].scrollLeft);}
if(!axis||axis==="y"){animation.top=cur.top-this.offset.parent.top-this.margins.top+(this.offsetParent[0]===document.body?0:this.offsetParent[0].scrollTop);}
this.reverting=true;$(this.helper).animate(animation,parseInt(this.options.revert,10)||500,function(){that._clear(event);});}else{this._clear(event,noPropagation);}
return false;},cancel:function(){if(this.dragging){this._mouseUp({target:null});if(this.options.helper==="original"){this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper");}else{this.currentItem.show();}
for(var i=this.containers.length-1;i>=0;i--){this.containers[i]._trigger("deactivate",null,this._uiHash(this));if(this.containers[i].containerCache.over){this.containers[i]._trigger("out",null,this._uiHash(this));this.containers[i].containerCache.over=0;}}}
if(this.placeholder){if(this.placeholder[0].parentNode){this.placeholder[0].parentNode.removeChild(this.placeholder[0]);}
if(this.options.helper!=="original"&&this.helper&&this.helper[0].parentNode){this.helper.remove();}
$.extend(this,{helper:null,dragging:false,reverting:false,_noFinalSort:null});if(this.domPosition.prev){$(this.domPosition.prev).after(this.currentItem);}else{$(this.domPosition.parent).prepend(this.currentItem);}}
return this;},serialize:function(o){var items=this._getItemsAsjQuery(o&&o.connected),str=[];o=o||{};$(items).each(function(){var res=($(o.item||this).attr(o.attribute||"id")||"").match(o.expression||(/(.+)[\-=_](.+)/));if(res){str.push((o.key||res[1]+"[]")+"="+(o.key&&o.expression?res[1]:res[2]));}});if(!str.length&&o.key){str.push(o.key+"=");}
return str.join("&");},toArray:function(o){var items=this._getItemsAsjQuery(o&&o.connected),ret=[];o=o||{};items.each(function(){ret.push($(o.item||this).attr(o.attribute||"id")||"");});return ret;},_intersectsWith:function(item){var x1=this.positionAbs.left,x2=x1+this.helperProportions.width,y1=this.positionAbs.top,y2=y1+this.helperProportions.height,l=item.left,r=l+item.width,t=item.top,b=t+item.height,dyClick=this.offset.click.top,dxClick=this.offset.click.left,isOverElementHeight=(this.options.axis==="x")||((y1+dyClick)>t&&(y1+dyClick)<b),isOverElementWidth=(this.options.axis==="y")||((x1+dxClick)>l&&(x1+dxClick)<r),isOverElement=isOverElementHeight&&isOverElementWidth;if(this.options.tolerance==="pointer"||this.options.forcePointerForContainers||(this.options.tolerance!=="pointer"&&this.helperProportions[this.floating?"width":"height"]>item[this.floating?"width":"height"])){return isOverElement;}else{return(l<x1+(this.helperProportions.width / 2)&&x2-(this.helperProportions.width / 2)<r&&t<y1+(this.helperProportions.height / 2)&&y2-(this.helperProportions.height / 2)<b);}},_intersectsWithPointer:function(item){var isOverElementHeight=(this.options.axis==="x")||isOverAxis(this.positionAbs.top+this.offset.click.top,item.top,item.height),isOverElementWidth=(this.options.axis==="y")||isOverAxis(this.positionAbs.left+this.offset.click.left,item.left,item.width),isOverElement=isOverElementHeight&&isOverElementWidth,verticalDirection=this._getDragVerticalDirection(),horizontalDirection=this._getDragHorizontalDirection();if(!isOverElement){return false;}
return this.floating?(((horizontalDirection&&horizontalDirection==="right")||verticalDirection==="down")?2:1):(verticalDirection&&(verticalDirection==="down"?2:1));},_intersectsWithSides:function(item){var isOverBottomHalf=isOverAxis(this.positionAbs.top+this.offset.click.top,item.top+(item.height/2),item.height),isOverRightHalf=isOverAxis(this.positionAbs.left+this.offset.click.left,item.left+(item.width/2),item.width),verticalDirection=this._getDragVerticalDirection(),horizontalDirection=this._getDragHorizontalDirection();if(this.floating&&horizontalDirection){return((horizontalDirection==="right"&&isOverRightHalf)||(horizontalDirection==="left"&&!isOverRightHalf));}else{return verticalDirection&&((verticalDirection==="down"&&isOverBottomHalf)||(verticalDirection==="up"&&!isOverBottomHalf));}},_getDragVerticalDirection:function(){var delta=this.positionAbs.top-this.lastPositionAbs.top;return delta!==0&&(delta>0?"down":"up");},_getDragHorizontalDirection:function(){var delta=this.positionAbs.left-this.lastPositionAbs.left;return delta!==0&&(delta>0?"right":"left");},refresh:function(event){this._refreshItems(event);this.refreshPositions();return this;},_connectWith:function(){var options=this.options;return options.connectWith.constructor===String?[options.connectWith]:options.connectWith;},_getItemsAsjQuery:function(connected){var i,j,cur,inst,items=[],queries=[],connectWith=this._connectWith();if(connectWith&&connected){for(i=connectWith.length-1;i>=0;i--){cur=$(connectWith[i]);for(j=cur.length-1;j>=0;j--){inst=$.data(cur[j],this.widgetFullName);if(inst&&inst!==this&&!inst.options.disabled){queries.push([$.isFunction(inst.options.items)?inst.options.items.call(inst.element):$(inst.options.items,inst.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),inst]);}}}}
queries.push([$.isFunction(this.options.items)?this.options.items.call(this.element,null,{options:this.options,item:this.currentItem}):$(this.options.items,this.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),this]);for(i=queries.length-1;i>=0;i--){queries[i][0].each(function(){items.push(this);});}
return $(items);},_removeCurrentsFromItems:function(){var list=this.currentItem.find(":data("+this.widgetName+"-item)");this.items=$.grep(this.items,function(item){for(var j=0;j<list.length;j++){if(list[j]===item.item[0]){return false;}}
return true;});},_refreshItems:function(event){this.items=[];this.containers=[this];var i,j,cur,inst,targetData,_queries,item,queriesLength,items=this.items,queries=[[$.isFunction(this.options.items)?this.options.items.call(this.element[0],event,{item:this.currentItem}):$(this.options.items,this.element),this]],connectWith=this._connectWith();if(connectWith&&this.ready){for(i=connectWith.length-1;i>=0;i--){cur=$(connectWith[i]);for(j=cur.length-1;j>=0;j--){inst=$.data(cur[j],this.widgetFullName);if(inst&&inst!==this&&!inst.options.disabled){queries.push([$.isFunction(inst.options.items)?inst.options.items.call(inst.element[0],event,{item:this.currentItem}):$(inst.options.items,inst.element),inst]);this.containers.push(inst);}}}}
for(i=queries.length-1;i>=0;i--){targetData=queries[i][1];_queries=queries[i][0];for(j=0,queriesLength=_queries.length;j<queriesLength;j++){item=$(_queries[j]);item.data(this.widgetName+"-item",targetData);items.push({item:item,instance:targetData,width:0,height:0,left:0,top:0});}}},refreshPositions:function(fast){if(this.offsetParent&&this.helper){this.offset.parent=this._getParentOffset();}
var i,item,t,p;for(i=this.items.length-1;i>=0;i--){item=this.items[i];if(item.instance!==this.currentContainer&&this.currentContainer&&item.item[0]!==this.currentItem[0]){continue;}
t=this.options.toleranceElement?$(this.options.toleranceElement,item.item):item.item;if(!fast){item.width=t.outerWidth();item.height=t.outerHeight();}
p=t.offset();item.left=p.left;item.top=p.top;}
if(this.options.custom&&this.options.custom.refreshContainers){this.options.custom.refreshContainers.call(this);}else{for(i=this.containers.length-1;i>=0;i--){p=this.containers[i].element.offset();this.containers[i].containerCache.left=p.left;this.containers[i].containerCache.top=p.top;this.containers[i].containerCache.width=this.containers[i].element.outerWidth();this.containers[i].containerCache.height=this.containers[i].element.outerHeight();}}
return this;},_createPlaceholder:function(that){that=that||this;var className,o=that.options;if(!o.placeholder||o.placeholder.constructor===String){className=o.placeholder;o.placeholder={element:function(){var nodeName=that.currentItem[0].nodeName.toLowerCase(),element=$("<"+nodeName+">",that.document[0]).addClass(className||that.currentItem[0].className+" ui-sortable-placeholder").removeClass("ui-sortable-helper");if(nodeName==="tr"){that.currentItem.children().each(function(){$("<td>&#160;</td>",that.document[0]).attr("colspan",$(this).attr("colspan")||1).appendTo(element);});}else if(nodeName==="img"){element.attr("src",that.currentItem.attr("src"));}
if(!className){element.css("visibility","hidden");}
return element;},update:function(container,p){if(className&&!o.forcePlaceholderSize){return;}
if(!p.height()){p.height(that.currentItem.innerHeight()-parseInt(that.currentItem.css("paddingTop")||0,10)-parseInt(that.currentItem.css("paddingBottom")||0,10));}
if(!p.width()){p.width(that.currentItem.innerWidth()-parseInt(that.currentItem.css("paddingLeft")||0,10)-parseInt(that.currentItem.css("paddingRight")||0,10));}}};}
that.placeholder=$(o.placeholder.element.call(that.element,that.currentItem));that.currentItem.after(that.placeholder);o.placeholder.update(that,that.placeholder);},_contactContainers:function(event){var i,j,dist,itemWithLeastDistance,posProperty,sizeProperty,base,cur,nearBottom,floating,innermostContainer=null,innermostIndex=null;for(i=this.containers.length-1;i>=0;i--){if($.contains(this.currentItem[0],this.containers[i].element[0])){continue;}
if(this._intersectsWith(this.containers[i].containerCache)){if(innermostContainer&&$.contains(this.containers[i].element[0],innermostContainer.element[0])){continue;}
innermostContainer=this.containers[i];innermostIndex=i;}else{if(this.containers[i].containerCache.over){this.containers[i]._trigger("out",event,this._uiHash(this));this.containers[i].containerCache.over=0;}}}
if(!innermostContainer){return;}
if(this.containers.length===1){if(!this.containers[innermostIndex].containerCache.over){this.containers[innermostIndex]._trigger("over",event,this._uiHash(this));this.containers[innermostIndex].containerCache.over=1;}}else{dist=10000;itemWithLeastDistance=null;floating=innermostContainer.floating||isFloating(this.currentItem);posProperty=floating?"left":"top";sizeProperty=floating?"width":"height";base=this.positionAbs[posProperty]+this.offset.click[posProperty];for(j=this.items.length-1;j>=0;j--){if(!$.contains(this.containers[innermostIndex].element[0],this.items[j].item[0])){continue;}
if(this.items[j].item[0]===this.currentItem[0]){continue;}
if(floating&&!isOverAxis(this.positionAbs.top+this.offset.click.top,this.items[j].top,this.items[j].height)){continue;}
cur=this.items[j].item.offset()[posProperty];nearBottom=false;if(Math.abs(cur-base)>Math.abs(cur+this.items[j][sizeProperty]-base)){nearBottom=true;cur+=this.items[j][sizeProperty];}
if(Math.abs(cur-base)<dist){dist=Math.abs(cur-base);itemWithLeastDistance=this.items[j];this.direction=nearBottom?"up":"down";}}
if(!itemWithLeastDistance&&!this.options.dropOnEmpty){return;}
if(this.currentContainer===this.containers[innermostIndex]){return;}
itemWithLeastDistance?this._rearrange(event,itemWithLeastDistance,null,true):this._rearrange(event,null,this.containers[innermostIndex].element,true);this._trigger("change",event,this._uiHash());this.containers[innermostIndex]._trigger("change",event,this._uiHash(this));this.currentContainer=this.containers[innermostIndex];this.options.placeholder.update(this.currentContainer,this.placeholder);this.containers[innermostIndex]._trigger("over",event,this._uiHash(this));this.containers[innermostIndex].containerCache.over=1;}},_createHelper:function(event){var o=this.options,helper=$.isFunction(o.helper)?$(o.helper.apply(this.element[0],[event,this.currentItem])):(o.helper==="clone"?this.currentItem.clone():this.currentItem);if(!helper.parents("body").length){$(o.appendTo!=="parent"?o.appendTo:this.currentItem[0].parentNode)[0].appendChild(helper[0]);}
if(helper[0]===this.currentItem[0]){this._storedCSS={width:this.currentItem[0].style.width,height:this.currentItem[0].style.height,position:this.currentItem.css("position"),top:this.currentItem.css("top"),left:this.currentItem.css("left")};}
if(!helper[0].style.width||o.forceHelperSize){helper.width(this.currentItem.width());}
if(!helper[0].style.height||o.forceHelperSize){helper.height(this.currentItem.height());}
return helper;},_adjustOffsetFromHelper:function(obj){if(typeof obj==="string"){obj=obj.split(" ");}
if($.isArray(obj)){obj={left:+obj[0],top:+obj[1]||0};}
if("left"in obj){this.offset.click.left=obj.left+this.margins.left;}
if("right"in obj){this.offset.click.left=this.helperProportions.width-obj.right+this.margins.left;}
if("top"in obj){this.offset.click.top=obj.top+this.margins.top;}
if("bottom"in obj){this.offset.click.top=this.helperProportions.height-obj.bottom+this.margins.top;}},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var po=this.offsetParent.offset();if(this.cssPosition==="absolute"&&this.scrollParent[0]!==document&&$.contains(this.scrollParent[0],this.offsetParent[0])){po.left+=this.scrollParent.scrollLeft();po.top+=this.scrollParent.scrollTop();}
if(this.offsetParent[0]===document.body||(this.offsetParent[0].tagName&&this.offsetParent[0].tagName.toLowerCase()==="html"&&$.ui.ie)){po={top:0,left:0};}
return{top:po.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:po.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)};},_getRelativeOffset:function(){if(this.cssPosition==="relative"){var p=this.currentItem.position();return{top:p.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:p.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()};}else{return{top:0,left:0};}},_cacheMargins:function(){this.margins={left:(parseInt(this.currentItem.css("marginLeft"),10)||0),top:(parseInt(this.currentItem.css("marginTop"),10)||0)};},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()};},_setContainment:function(){var ce,co,over,o=this.options;if(o.containment==="parent"){o.containment=this.helper[0].parentNode;}
if(o.containment==="document"||o.containment==="window"){this.containment=[0-this.offset.relative.left-this.offset.parent.left,0-this.offset.relative.top-this.offset.parent.top,$(o.containment==="document"?document:window).width()-this.helperProportions.width-this.margins.left,($(o.containment==="document"?document:window).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top];}
if(!(/^(document|window|parent)$/).test(o.containment)){ce=$(o.containment)[0];co=$(o.containment).offset();over=($(ce).css("overflow")!=="hidden");this.containment=[co.left+(parseInt($(ce).css("borderLeftWidth"),10)||0)+(parseInt($(ce).css("paddingLeft"),10)||0)-this.margins.left,co.top+(parseInt($(ce).css("borderTopWidth"),10)||0)+(parseInt($(ce).css("paddingTop"),10)||0)-this.margins.top,co.left+(over?Math.max(ce.scrollWidth,ce.offsetWidth):ce.offsetWidth)-(parseInt($(ce).css("borderLeftWidth"),10)||0)-(parseInt($(ce).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left,co.top+(over?Math.max(ce.scrollHeight,ce.offsetHeight):ce.offsetHeight)-(parseInt($(ce).css("borderTopWidth"),10)||0)-(parseInt($(ce).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top];}},_convertPositionTo:function(d,pos){if(!pos){pos=this.position;}
var mod=d==="absolute"?1:-1,scroll=this.cssPosition==="absolute"&&!(this.scrollParent[0]!==document&&$.contains(this.scrollParent[0],this.offsetParent[0]))?this.offsetParent:this.scrollParent,scrollIsRootNode=(/(html|body)/i).test(scroll[0].tagName);return{top:(pos.top+
this.offset.relative.top*mod+
this.offset.parent.top*mod-
((this.cssPosition==="fixed"?-this.scrollParent.scrollTop():(scrollIsRootNode?0:scroll.scrollTop()))*mod)),left:(pos.left+
this.offset.relative.left*mod+
this.offset.parent.left*mod-
((this.cssPosition==="fixed"?-this.scrollParent.scrollLeft():scrollIsRootNode?0:scroll.scrollLeft())*mod))};},_generatePosition:function(event){var top,left,o=this.options,pageX=event.pageX,pageY=event.pageY,scroll=this.cssPosition==="absolute"&&!(this.scrollParent[0]!==document&&$.contains(this.scrollParent[0],this.offsetParent[0]))?this.offsetParent:this.scrollParent,scrollIsRootNode=(/(html|body)/i).test(scroll[0].tagName);if(this.cssPosition==="relative"&&!(this.scrollParent[0]!==document&&this.scrollParent[0]!==this.offsetParent[0])){this.offset.relative=this._getRelativeOffset();}
if(this.originalPosition){if(this.containment){if(event.pageX-this.offset.click.left<this.containment[0]){pageX=this.containment[0]+this.offset.click.left;}
if(event.pageY-this.offset.click.top<this.containment[1]){pageY=this.containment[1]+this.offset.click.top;}
if(event.pageX-this.offset.click.left>this.containment[2]){pageX=this.containment[2]+this.offset.click.left;}
if(event.pageY-this.offset.click.top>this.containment[3]){pageY=this.containment[3]+this.offset.click.top;}}
if(o.grid){top=this.originalPageY+Math.round((pageY-this.originalPageY)/ o.grid[1])*o.grid[1];pageY=this.containment?((top-this.offset.click.top>=this.containment[1]&&top-this.offset.click.top<=this.containment[3])?top:((top-this.offset.click.top>=this.containment[1])?top-o.grid[1]:top+o.grid[1])):top;left=this.originalPageX+Math.round((pageX-this.originalPageX)/ o.grid[0])*o.grid[0];pageX=this.containment?((left-this.offset.click.left>=this.containment[0]&&left-this.offset.click.left<=this.containment[2])?left:((left-this.offset.click.left>=this.containment[0])?left-o.grid[0]:left+o.grid[0])):left;}}
return{top:(pageY-
this.offset.click.top-
this.offset.relative.top-
this.offset.parent.top+
((this.cssPosition==="fixed"?-this.scrollParent.scrollTop():(scrollIsRootNode?0:scroll.scrollTop())))),left:(pageX-
this.offset.click.left-
this.offset.relative.left-
this.offset.parent.left+
((this.cssPosition==="fixed"?-this.scrollParent.scrollLeft():scrollIsRootNode?0:scroll.scrollLeft())))};},_rearrange:function(event,i,a,hardRefresh){a?a[0].appendChild(this.placeholder[0]):i.item[0].parentNode.insertBefore(this.placeholder[0],(this.direction==="down"?i.item[0]:i.item[0].nextSibling));this.counter=this.counter?++this.counter:1;var counter=this.counter;this._delay(function(){if(counter===this.counter){this.refreshPositions(!hardRefresh);}});},_clear:function(event,noPropagation){this.reverting=false;var i,delayedTriggers=[];if(!this._noFinalSort&&this.currentItem.parent().length){this.placeholder.before(this.currentItem);}
this._noFinalSort=null;if(this.helper[0]===this.currentItem[0]){for(i in this._storedCSS){if(this._storedCSS[i]==="auto"||this._storedCSS[i]==="static"){this._storedCSS[i]="";}}
this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper");}else{this.currentItem.show();}
if(this.fromOutside&&!noPropagation){delayedTriggers.push(function(event){this._trigger("receive",event,this._uiHash(this.fromOutside));});}
if((this.fromOutside||this.domPosition.prev!==this.currentItem.prev().not(".ui-sortable-helper")[0]||this.domPosition.parent!==this.currentItem.parent()[0])&&!noPropagation){delayedTriggers.push(function(event){this._trigger("update",event,this._uiHash());});}
if(this!==this.currentContainer){if(!noPropagation){delayedTriggers.push(function(event){this._trigger("remove",event,this._uiHash());});delayedTriggers.push((function(c){return function(event){c._trigger("receive",event,this._uiHash(this));};}).call(this,this.currentContainer));delayedTriggers.push((function(c){return function(event){c._trigger("update",event,this._uiHash(this));};}).call(this,this.currentContainer));}}
for(i=this.containers.length-1;i>=0;i--){if(!noPropagation){delayedTriggers.push((function(c){return function(event){c._trigger("deactivate",event,this._uiHash(this));};}).call(this,this.containers[i]));}
if(this.containers[i].containerCache.over){delayedTriggers.push((function(c){return function(event){c._trigger("out",event,this._uiHash(this));};}).call(this,this.containers[i]));this.containers[i].containerCache.over=0;}}
if(this.storedCursor){this.document.find("body").css("cursor",this.storedCursor);this.storedStylesheet.remove();}
if(this._storedOpacity){this.helper.css("opacity",this._storedOpacity);}
if(this._storedZIndex){this.helper.css("zIndex",this._storedZIndex==="auto"?"":this._storedZIndex);}
this.dragging=false;if(this.cancelHelperRemoval){if(!noPropagation){this._trigger("beforeStop",event,this._uiHash());for(i=0;i<delayedTriggers.length;i++){delayedTriggers[i].call(this,event);}
this._trigger("stop",event,this._uiHash());}
this.fromOutside=false;return false;}
if(!noPropagation){this._trigger("beforeStop",event,this._uiHash());}
this.placeholder[0].parentNode.removeChild(this.placeholder[0]);if(this.helper[0]!==this.currentItem[0]){this.helper.remove();}
this.helper=null;if(!noPropagation){for(i=0;i<delayedTriggers.length;i++){delayedTriggers[i].call(this,event);}
this._trigger("stop",event,this._uiHash());}
this.fromOutside=false;return true;},_trigger:function(){if($.Widget.prototype._trigger.apply(this,arguments)===false){this.cancel();}},_uiHash:function(_inst){var inst=_inst||this;return{helper:inst.helper,placeholder:inst.placeholder||$([]),position:inst.position,originalPosition:inst.originalPosition,offset:inst.positionAbs,item:inst.currentItem,sender:_inst?_inst.element:null};}});})(jQuery);(function($,undefined){var dataSpace="ui-effects-";$.effects={effect:{}};(function(jQuery,undefined){var stepHooks="backgroundColor borderBottomColor borderLeftColor borderRightColor borderTopColor color columnRuleColor outlineColor textDecorationColor textEmphasisColor",rplusequals=/^([\-+])=\s*(\d+\.?\d*)/,stringParsers=[{re:/rgba?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(execResult){return[execResult[1],execResult[2],execResult[3],execResult[4]];}},{re:/rgba?\(\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(execResult){return[execResult[1]*2.55,execResult[2]*2.55,execResult[3]*2.55,execResult[4]];}},{re:/#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})/,parse:function(execResult){return[parseInt(execResult[1],16),parseInt(execResult[2],16),parseInt(execResult[3],16)];}},{re:/#([a-f0-9])([a-f0-9])([a-f0-9])/,parse:function(execResult){return[parseInt(execResult[1]+execResult[1],16),parseInt(execResult[2]+execResult[2],16),parseInt(execResult[3]+execResult[3],16)];}},{re:/hsla?\(\s*(\d+(?:\.\d+)?)\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,space:"hsla",parse:function(execResult){return[execResult[1],execResult[2]/ 100,execResult[3]/ 100,execResult[4]];}}],color=jQuery.Color=function(color,green,blue,alpha){return new jQuery.Color.fn.parse(color,green,blue,alpha);},spaces={rgba:{props:{red:{idx:0,type:"byte"},green:{idx:1,type:"byte"},blue:{idx:2,type:"byte"}}},hsla:{props:{hue:{idx:0,type:"degrees"},saturation:{idx:1,type:"percent"},lightness:{idx:2,type:"percent"}}}},propTypes={"byte":{floor:true,max:255},"percent":{max:1},"degrees":{mod:360,floor:true}},support=color.support={},supportElem=jQuery("<p>")[0],colors,each=jQuery.each;supportElem.style.cssText="background-color:rgba(1,1,1,.5)";support.rgba=supportElem.style.backgroundColor.indexOf("rgba")>-1;each(spaces,function(spaceName,space){space.cache="_"+spaceName;space.props.alpha={idx:3,type:"percent",def:1};});function clamp(value,prop,allowEmpty){var type=propTypes[prop.type]||{};if(value==null){return(allowEmpty||!prop.def)?null:prop.def;}
value=type.floor?~~value:parseFloat(value);if(isNaN(value)){return prop.def;}
if(type.mod){return(value+type.mod)%type.mod;}
return 0>value?0:type.max<value?type.max:value;}
function stringParse(string){var inst=color(),rgba=inst._rgba=[];string=string.toLowerCase();each(stringParsers,function(i,parser){var parsed,match=parser.re.exec(string),values=match&&parser.parse(match),spaceName=parser.space||"rgba";if(values){parsed=inst[spaceName](values);inst[spaces[spaceName].cache]=parsed[spaces[spaceName].cache];rgba=inst._rgba=parsed._rgba;return false;}});if(rgba.length){if(rgba.join()==="0,0,0,0"){jQuery.extend(rgba,colors.transparent);}
return inst;}
return colors[string];}
color.fn=jQuery.extend(color.prototype,{parse:function(red,green,blue,alpha){if(red===undefined){this._rgba=[null,null,null,null];return this;}
if(red.jquery||red.nodeType){red=jQuery(red).css(green);green=undefined;}
var inst=this,type=jQuery.type(red),rgba=this._rgba=[];if(green!==undefined){red=[red,green,blue,alpha];type="array";}
if(type==="string"){return this.parse(stringParse(red)||colors._default);}
if(type==="array"){each(spaces.rgba.props,function(key,prop){rgba[prop.idx]=clamp(red[prop.idx],prop);});return this;}
if(type==="object"){if(red instanceof color){each(spaces,function(spaceName,space){if(red[space.cache]){inst[space.cache]=red[space.cache].slice();}});}else{each(spaces,function(spaceName,space){var cache=space.cache;each(space.props,function(key,prop){if(!inst[cache]&&space.to){if(key==="alpha"||red[key]==null){return;}
inst[cache]=space.to(inst._rgba);}
inst[cache][prop.idx]=clamp(red[key],prop,true);});if(inst[cache]&&jQuery.inArray(null,inst[cache].slice(0,3))<0){inst[cache][3]=1;if(space.from){inst._rgba=space.from(inst[cache]);}}});}
return this;}},is:function(compare){var is=color(compare),same=true,inst=this;each(spaces,function(_,space){var localCache,isCache=is[space.cache];if(isCache){localCache=inst[space.cache]||space.to&&space.to(inst._rgba)||[];each(space.props,function(_,prop){if(isCache[prop.idx]!=null){same=(isCache[prop.idx]===localCache[prop.idx]);return same;}});}
return same;});return same;},_space:function(){var used=[],inst=this;each(spaces,function(spaceName,space){if(inst[space.cache]){used.push(spaceName);}});return used.pop();},transition:function(other,distance){var end=color(other),spaceName=end._space(),space=spaces[spaceName],startColor=this.alpha()===0?color("transparent"):this,start=startColor[space.cache]||space.to(startColor._rgba),result=start.slice();end=end[space.cache];each(space.props,function(key,prop){var index=prop.idx,startValue=start[index],endValue=end[index],type=propTypes[prop.type]||{};if(endValue===null){return;}
if(startValue===null){result[index]=endValue;}else{if(type.mod){if(endValue-startValue>type.mod / 2){startValue+=type.mod;}else if(startValue-endValue>type.mod / 2){startValue-=type.mod;}}
result[index]=clamp((endValue-startValue)*distance+startValue,prop);}});return this[spaceName](result);},blend:function(opaque){if(this._rgba[3]===1){return this;}
var rgb=this._rgba.slice(),a=rgb.pop(),blend=color(opaque)._rgba;return color(jQuery.map(rgb,function(v,i){return(1-a)*blend[i]+a*v;}));},toRgbaString:function(){var prefix="rgba(",rgba=jQuery.map(this._rgba,function(v,i){return v==null?(i>2?1:0):v;});if(rgba[3]===1){rgba.pop();prefix="rgb(";}
return prefix+rgba.join()+")";},toHslaString:function(){var prefix="hsla(",hsla=jQuery.map(this.hsla(),function(v,i){if(v==null){v=i>2?1:0;}
if(i&&i<3){v=Math.round(v*100)+"%";}
return v;});if(hsla[3]===1){hsla.pop();prefix="hsl(";}
return prefix+hsla.join()+")";},toHexString:function(includeAlpha){var rgba=this._rgba.slice(),alpha=rgba.pop();if(includeAlpha){rgba.push(~~(alpha*255));}
return"#"+jQuery.map(rgba,function(v){v=(v||0).toString(16);return v.length===1?"0"+v:v;}).join("");},toString:function(){return this._rgba[3]===0?"transparent":this.toRgbaString();}});color.fn.parse.prototype=color.fn;function hue2rgb(p,q,h){h=(h+1)%1;if(h*6<1){return p+(q-p)*h*6;}
if(h*2<1){return q;}
if(h*3<2){return p+(q-p)*((2/3)-h)*6;}
return p;}
spaces.hsla.to=function(rgba){if(rgba[0]==null||rgba[1]==null||rgba[2]==null){return[null,null,null,rgba[3]];}
var r=rgba[0]/ 255,g=rgba[1]/ 255,b=rgba[2]/ 255,a=rgba[3],max=Math.max(r,g,b),min=Math.min(r,g,b),diff=max-min,add=max+min,l=add*0.5,h,s;if(min===max){h=0;}else if(r===max){h=(60*(g-b)/ diff)+360;}else if(g===max){h=(60*(b-r)/ diff)+120;}else{h=(60*(r-g)/ diff)+240;}
if(diff===0){s=0;}else if(l<=0.5){s=diff / add;}else{s=diff /(2-add);}
return[Math.round(h)%360,s,l,a==null?1:a];};spaces.hsla.from=function(hsla){if(hsla[0]==null||hsla[1]==null||hsla[2]==null){return[null,null,null,hsla[3]];}
var h=hsla[0]/ 360,s=hsla[1],l=hsla[2],a=hsla[3],q=l<=0.5?l*(1+s):l+s-l*s,p=2*l-q;return[Math.round(hue2rgb(p,q,h+(1 / 3))*255),Math.round(hue2rgb(p,q,h)*255),Math.round(hue2rgb(p,q,h-(1 / 3))*255),a];};each(spaces,function(spaceName,space){var props=space.props,cache=space.cache,to=space.to,from=space.from;color.fn[spaceName]=function(value){if(to&&!this[cache]){this[cache]=to(this._rgba);}
if(value===undefined){return this[cache].slice();}
var ret,type=jQuery.type(value),arr=(type==="array"||type==="object")?value:arguments,local=this[cache].slice();each(props,function(key,prop){var val=arr[type==="object"?key:prop.idx];if(val==null){val=local[prop.idx];}
local[prop.idx]=clamp(val,prop);});if(from){ret=color(from(local));ret[cache]=local;return ret;}else{return color(local);}};each(props,function(key,prop){if(color.fn[key]){return;}
color.fn[key]=function(value){var vtype=jQuery.type(value),fn=(key==="alpha"?(this._hsla?"hsla":"rgba"):spaceName),local=this[fn](),cur=local[prop.idx],match;if(vtype==="undefined"){return cur;}
if(vtype==="function"){value=value.call(this,cur);vtype=jQuery.type(value);}
if(value==null&&prop.empty){return this;}
if(vtype==="string"){match=rplusequals.exec(value);if(match){value=cur+parseFloat(match[2])*(match[1]==="+"?1:-1);}}
local[prop.idx]=value;return this[fn](local);};});});color.hook=function(hook){var hooks=hook.split(" ");each(hooks,function(i,hook){jQuery.cssHooks[hook]={set:function(elem,value){var parsed,curElem,backgroundColor="";if(value!=="transparent"&&(jQuery.type(value)!=="string"||(parsed=stringParse(value)))){value=color(parsed||value);if(!support.rgba&&value._rgba[3]!==1){curElem=hook==="backgroundColor"?elem.parentNode:elem;while((backgroundColor===""||backgroundColor==="transparent")&&curElem&&curElem.style){try{backgroundColor=jQuery.css(curElem,"backgroundColor");curElem=curElem.parentNode;}catch(e){}}
value=value.blend(backgroundColor&&backgroundColor!=="transparent"?backgroundColor:"_default");}
value=value.toRgbaString();}
try{elem.style[hook]=value;}catch(e){}}};jQuery.fx.step[hook]=function(fx){if(!fx.colorInit){fx.start=color(fx.elem,hook);fx.end=color(fx.end);fx.colorInit=true;}
jQuery.cssHooks[hook].set(fx.elem,fx.start.transition(fx.end,fx.pos));};});};color.hook(stepHooks);jQuery.cssHooks.borderColor={expand:function(value){var expanded={};each(["Top","Right","Bottom","Left"],function(i,part){expanded["border"+part+"Color"]=value;});return expanded;}};colors=jQuery.Color.names={aqua:"#00ffff",black:"#000000",blue:"#0000ff",fuchsia:"#ff00ff",gray:"#808080",green:"#008000",lime:"#00ff00",maroon:"#800000",navy:"#000080",olive:"#808000",purple:"#800080",red:"#ff0000",silver:"#c0c0c0",teal:"#008080",white:"#ffffff",yellow:"#ffff00",transparent:[null,null,null,0],_default:"#ffffff"};})(jQuery);(function(){var classAnimationActions=["add","remove","toggle"],shorthandStyles={border:1,borderBottom:1,borderColor:1,borderLeft:1,borderRight:1,borderTop:1,borderWidth:1,margin:1,padding:1};$.each(["borderLeftStyle","borderRightStyle","borderBottomStyle","borderTopStyle"],function(_,prop){$.fx.step[prop]=function(fx){if(fx.end!=="none"&&!fx.setAttr||fx.pos===1&&!fx.setAttr){jQuery.style(fx.elem,prop,fx.end);fx.setAttr=true;}};});function getElementStyles(elem){var key,len,style=elem.ownerDocument.defaultView?elem.ownerDocument.defaultView.getComputedStyle(elem,null):elem.currentStyle,styles={};if(style&&style.length&&style[0]&&style[style[0]]){len=style.length;while(len--){key=style[len];if(typeof style[key]==="string"){styles[$.camelCase(key)]=style[key];}}}else{for(key in style){if(typeof style[key]==="string"){styles[key]=style[key];}}}
return styles;}
function styleDifference(oldStyle,newStyle){var diff={},name,value;for(name in newStyle){value=newStyle[name];if(oldStyle[name]!==value){if(!shorthandStyles[name]){if($.fx.step[name]||!isNaN(parseFloat(value))){diff[name]=value;}}}}
return diff;}
if(!$.fn.addBack){$.fn.addBack=function(selector){return this.add(selector==null?this.prevObject:this.prevObject.filter(selector));};}
$.effects.animateClass=function(value,duration,easing,callback){var o=$.speed(duration,easing,callback);return this.queue(function(){var animated=$(this),baseClass=animated.attr("class")||"",applyClassChange,allAnimations=o.children?animated.find("*").addBack():animated;allAnimations=allAnimations.map(function(){var el=$(this);return{el:el,start:getElementStyles(this)};});applyClassChange=function(){$.each(classAnimationActions,function(i,action){if(value[action]){animated[action+"Class"](value[action]);}});};applyClassChange();allAnimations=allAnimations.map(function(){this.end=getElementStyles(this.el[0]);this.diff=styleDifference(this.start,this.end);return this;});animated.attr("class",baseClass);allAnimations=allAnimations.map(function(){var styleInfo=this,dfd=$.Deferred(),opts=$.extend({},o,{queue:false,complete:function(){dfd.resolve(styleInfo);}});this.el.animate(this.diff,opts);return dfd.promise();});$.when.apply($,allAnimations.get()).done(function(){applyClassChange();$.each(arguments,function(){var el=this.el;$.each(this.diff,function(key){el.css(key,"");});});o.complete.call(animated[0]);});});};$.fn.extend({addClass:(function(orig){return function(classNames,speed,easing,callback){return speed?$.effects.animateClass.call(this,{add:classNames},speed,easing,callback):orig.apply(this,arguments);};})($.fn.addClass),removeClass:(function(orig){return function(classNames,speed,easing,callback){return arguments.length>1?$.effects.animateClass.call(this,{remove:classNames},speed,easing,callback):orig.apply(this,arguments);};})($.fn.removeClass),toggleClass:(function(orig){return function(classNames,force,speed,easing,callback){if(typeof force==="boolean"||force===undefined){if(!speed){return orig.apply(this,arguments);}else{return $.effects.animateClass.call(this,(force?{add:classNames}:{remove:classNames}),speed,easing,callback);}}else{return $.effects.animateClass.call(this,{toggle:classNames},force,speed,easing);}};})($.fn.toggleClass),switchClass:function(remove,add,speed,easing,callback){return $.effects.animateClass.call(this,{add:add,remove:remove},speed,easing,callback);}});})();(function(){$.extend($.effects,{version:"1.10.3",save:function(element,set){for(var i=0;i<set.length;i++){if(set[i]!==null){element.data(dataSpace+set[i],element[0].style[set[i]]);}}},restore:function(element,set){var val,i;for(i=0;i<set.length;i++){if(set[i]!==null){val=element.data(dataSpace+set[i]);if(val===undefined){val="";}
element.css(set[i],val);}}},setMode:function(el,mode){if(mode==="toggle"){mode=el.is(":hidden")?"show":"hide";}
return mode;},getBaseline:function(origin,original){var y,x;switch(origin[0]){case"top":y=0;break;case"middle":y=0.5;break;case"bottom":y=1;break;default:y=origin[0]/ original.height;}
switch(origin[1]){case"left":x=0;break;case"center":x=0.5;break;case"right":x=1;break;default:x=origin[1]/ original.width;}
return{x:x,y:y};},createWrapper:function(element){if(element.parent().is(".ui-effects-wrapper")){return element.parent();}
var props={width:element.outerWidth(true),height:element.outerHeight(true),"float":element.css("float")},wrapper=$("<div></div>").addClass("ui-effects-wrapper").css({fontSize:"100%",background:"transparent",border:"none",margin:0,padding:0}),size={width:element.width(),height:element.height()},active=document.activeElement;try{active.id;}catch(e){active=document.body;}
element.wrap(wrapper);if(element[0]===active||$.contains(element[0],active)){$(active).focus();}
wrapper=element.parent();if(element.css("position")==="static"){wrapper.css({position:"relative"});element.css({position:"relative"});}else{$.extend(props,{position:element.css("position"),zIndex:element.css("z-index")});$.each(["top","left","bottom","right"],function(i,pos){props[pos]=element.css(pos);if(isNaN(parseInt(props[pos],10))){props[pos]="auto";}});element.css({position:"relative",top:0,left:0,right:"auto",bottom:"auto"});}
element.css(size);return wrapper.css(props).show();},removeWrapper:function(element){var active=document.activeElement;if(element.parent().is(".ui-effects-wrapper")){element.parent().replaceWith(element);if(element[0]===active||$.contains(element[0],active)){$(active).focus();}}
return element;},setTransition:function(element,list,factor,value){value=value||{};$.each(list,function(i,x){var unit=element.cssUnit(x);if(unit[0]>0){value[x]=unit[0]*factor+unit[1];}});return value;}});function _normalizeArguments(effect,options,speed,callback){if($.isPlainObject(effect)){options=effect;effect=effect.effect;}
effect={effect:effect};if(options==null){options={};}
if($.isFunction(options)){callback=options;speed=null;options={};}
if(typeof options==="number"||$.fx.speeds[options]){callback=speed;speed=options;options={};}
if($.isFunction(speed)){callback=speed;speed=null;}
if(options){$.extend(effect,options);}
speed=speed||options.duration;effect.duration=$.fx.off?0:typeof speed==="number"?speed:speed in $.fx.speeds?$.fx.speeds[speed]:$.fx.speeds._default;effect.complete=callback||options.complete;return effect;}
function standardAnimationOption(option){if(!option||typeof option==="number"||$.fx.speeds[option]){return true;}
if(typeof option==="string"&&!$.effects.effect[option]){return true;}
if($.isFunction(option)){return true;}
if(typeof option==="object"&&!option.effect){return true;}
return false;}
$.fn.extend({effect:function(){var args=_normalizeArguments.apply(this,arguments),mode=args.mode,queue=args.queue,effectMethod=$.effects.effect[args.effect];if($.fx.off||!effectMethod){if(mode){return this[mode](args.duration,args.complete);}else{return this.each(function(){if(args.complete){args.complete.call(this);}});}}
function run(next){var elem=$(this),complete=args.complete,mode=args.mode;function done(){if($.isFunction(complete)){complete.call(elem[0]);}
if($.isFunction(next)){next();}}
if(elem.is(":hidden")?mode==="hide":mode==="show"){elem[mode]();done();}else{effectMethod.call(elem[0],args,done);}}
return queue===false?this.each(run):this.queue(queue||"fx",run);},show:(function(orig){return function(option){if(standardAnimationOption(option)){return orig.apply(this,arguments);}else{var args=_normalizeArguments.apply(this,arguments);args.mode="show";return this.effect.call(this,args);}};})($.fn.show),hide:(function(orig){return function(option){if(standardAnimationOption(option)){return orig.apply(this,arguments);}else{var args=_normalizeArguments.apply(this,arguments);args.mode="hide";return this.effect.call(this,args);}};})($.fn.hide),toggle:(function(orig){return function(option){if(standardAnimationOption(option)||typeof option==="boolean"){return orig.apply(this,arguments);}else{var args=_normalizeArguments.apply(this,arguments);args.mode="toggle";return this.effect.call(this,args);}};})($.fn.toggle),cssUnit:function(key){var style=this.css(key),val=[];$.each(["em","px","%","pt"],function(i,unit){if(style.indexOf(unit)>0){val=[parseFloat(style),unit];}});return val;}});})();(function(){var baseEasings={};$.each(["Quad","Cubic","Quart","Quint","Expo"],function(i,name){baseEasings[name]=function(p){return Math.pow(p,i+2);};});$.extend(baseEasings,{Sine:function(p){return 1-Math.cos(p*Math.PI / 2);},Circ:function(p){return 1-Math.sqrt(1-p*p);},Elastic:function(p){return p===0||p===1?p:-Math.pow(2,8*(p-1))*Math.sin(((p-1)*80-7.5)*Math.PI / 15);},Back:function(p){return p*p*(3*p-2);},Bounce:function(p){var pow2,bounce=4;while(p<((pow2=Math.pow(2,--bounce))-1)/ 11){}
return 1 / Math.pow(4,3-bounce)-7.5625*Math.pow((pow2*3-2)/ 22-p,2);}});$.each(baseEasings,function(name,easeIn){$.easing["easeIn"+name]=easeIn;$.easing["easeOut"+name]=function(p){return 1-easeIn(1-p);};$.easing["easeInOut"+name]=function(p){return p<0.5?easeIn(p*2)/ 2:1-easeIn(p*-2+2)/ 2;};});})();})(jQuery);(function($,undefined){var uid=0,hideProps={},showProps={};hideProps.height=hideProps.paddingTop=hideProps.paddingBottom=hideProps.borderTopWidth=hideProps.borderBottomWidth="hide";showProps.height=showProps.paddingTop=showProps.paddingBottom=showProps.borderTopWidth=showProps.borderBottomWidth="show";$.widget("ui.accordion",{version:"1.10.3",options:{active:0,animate:{},collapsible:false,event:"click",header:"> li > :first-child,> :not(li):even",heightStyle:"auto",icons:{activeHeader:"ui-icon-triangle-1-s",header:"ui-icon-triangle-1-e"},activate:null,beforeActivate:null},_create:function(){var options=this.options;this.prevShow=this.prevHide=$();this.element.addClass("ui-accordion ui-widget ui-helper-reset").attr("role","tablist");if(!options.collapsible&&(options.active===false||options.active==null)){options.active=0;}
this._processPanels();if(options.active<0){options.active+=this.headers.length;}
this._refresh();},_getCreateEventData:function(){return{header:this.active,panel:!this.active.length?$():this.active.next(),content:!this.active.length?$():this.active.next()};},_createIcons:function(){var icons=this.options.icons;if(icons){$("<span>").addClass("ui-accordion-header-icon ui-icon "+icons.header).prependTo(this.headers);this.active.children(".ui-accordion-header-icon").removeClass(icons.header).addClass(icons.activeHeader);this.headers.addClass("ui-accordion-icons");}},_destroyIcons:function(){this.headers.removeClass("ui-accordion-icons").children(".ui-accordion-header-icon").remove();},_destroy:function(){var contents;this.element.removeClass("ui-accordion ui-widget ui-helper-reset").removeAttr("role");this.headers.removeClass("ui-accordion-header ui-accordion-header-active ui-helper-reset ui-state-default ui-corner-all ui-state-active ui-state-disabled ui-corner-top").removeAttr("role").removeAttr("aria-selected").removeAttr("aria-controls").removeAttr("tabIndex").each(function(){if(/^ui-accordion/.test(this.id)){this.removeAttribute("id");}});this._destroyIcons();contents=this.headers.next().css("display","").removeAttr("role").removeAttr("aria-expanded").removeAttr("aria-hidden").removeAttr("aria-labelledby").removeClass("ui-helper-reset ui-widget-content ui-corner-bottom ui-accordion-content ui-accordion-content-active ui-state-disabled").each(function(){if(/^ui-accordion/.test(this.id)){this.removeAttribute("id");}});if(this.options.heightStyle!=="content"){contents.css("height","");}},_setOption:function(key,value){if(key==="active"){this._activate(value);return;}
if(key==="event"){if(this.options.event){this._off(this.headers,this.options.event);}
this._setupEvents(value);}
this._super(key,value);if(key==="collapsible"&&!value&&this.options.active===false){this._activate(0);}
if(key==="icons"){this._destroyIcons();if(value){this._createIcons();}}
if(key==="disabled"){this.headers.add(this.headers.next()).toggleClass("ui-state-disabled",!!value);}},_keydown:function(event){if(event.altKey||event.ctrlKey){return;}
var keyCode=$.ui.keyCode,length=this.headers.length,currentIndex=this.headers.index(event.target),toFocus=false;switch(event.keyCode){case keyCode.RIGHT:case keyCode.DOWN:toFocus=this.headers[(currentIndex+1)%length];break;case keyCode.LEFT:case keyCode.UP:toFocus=this.headers[(currentIndex-1+length)%length];break;case keyCode.SPACE:case keyCode.ENTER:this._eventHandler(event);break;case keyCode.HOME:toFocus=this.headers[0];break;case keyCode.END:toFocus=this.headers[length-1];break;}
if(toFocus){$(event.target).attr("tabIndex",-1);$(toFocus).attr("tabIndex",0);toFocus.focus();event.preventDefault();}},_panelKeyDown:function(event){if(event.keyCode===$.ui.keyCode.UP&&event.ctrlKey){$(event.currentTarget).prev().focus();}},refresh:function(){var options=this.options;this._processPanels();if((options.active===false&&options.collapsible===true)||!this.headers.length){options.active=false;this.active=$();}else if(options.active===false){this._activate(0);}else if(this.active.length&&!$.contains(this.element[0],this.active[0])){if(this.headers.length===this.headers.find(".ui-state-disabled").length){options.active=false;this.active=$();}else{this._activate(Math.max(0,options.active-1));}}else{options.active=this.headers.index(this.active);}
this._destroyIcons();this._refresh();},_processPanels:function(){this.headers=this.element.find(this.options.header).addClass("ui-accordion-header ui-helper-reset ui-state-default ui-corner-all");this.headers.next().addClass("ui-accordion-content ui-helper-reset ui-widget-content ui-corner-bottom").filter(":not(.ui-accordion-content-active)").hide();},_refresh:function(){var maxHeight,options=this.options,heightStyle=options.heightStyle,parent=this.element.parent(),accordionId=this.accordionId="ui-accordion-"+
(this.element.attr("id")||++uid);this.active=this._findActive(options.active).addClass("ui-accordion-header-active ui-state-active ui-corner-top").removeClass("ui-corner-all");this.active.next().addClass("ui-accordion-content-active").show();this.headers.attr("role","tab").each(function(i){var header=$(this),headerId=header.attr("id"),panel=header.next(),panelId=panel.attr("id");if(!headerId){headerId=accordionId+"-header-"+i;header.attr("id",headerId);}
if(!panelId){panelId=accordionId+"-panel-"+i;panel.attr("id",panelId);}
header.attr("aria-controls",panelId);panel.attr("aria-labelledby",headerId);}).next().attr("role","tabpanel");this.headers.not(this.active).attr({"aria-selected":"false",tabIndex:-1}).next().attr({"aria-expanded":"false","aria-hidden":"true"}).hide();if(!this.active.length){this.headers.eq(0).attr("tabIndex",0);}else{this.active.attr({"aria-selected":"true",tabIndex:0}).next().attr({"aria-expanded":"true","aria-hidden":"false"});}
this._createIcons();this._setupEvents(options.event);if(heightStyle==="fill"){maxHeight=parent.height();this.element.siblings(":visible").each(function(){var elem=$(this),position=elem.css("position");if(position==="absolute"||position==="fixed"){return;}
maxHeight-=elem.outerHeight(true);});this.headers.each(function(){maxHeight-=$(this).outerHeight(true);});this.headers.next().each(function(){$(this).height(Math.max(0,maxHeight-
$(this).innerHeight()+$(this).height()));}).css("overflow","auto");}else if(heightStyle==="auto"){maxHeight=0;this.headers.next().each(function(){maxHeight=Math.max(maxHeight,$(this).css("height","").height());}).height(maxHeight);}},_activate:function(index){var active=this._findActive(index)[0];if(active===this.active[0]){return;}
active=active||this.active[0];this._eventHandler({target:active,currentTarget:active,preventDefault:$.noop});},_findActive:function(selector){return typeof selector==="number"?this.headers.eq(selector):$();},_setupEvents:function(event){var events={keydown:"_keydown"};if(event){$.each(event.split(" "),function(index,eventName){events[eventName]="_eventHandler";});}
this._off(this.headers.add(this.headers.next()));this._on(this.headers,events);this._on(this.headers.next(),{keydown:"_panelKeyDown"});this._hoverable(this.headers);this._focusable(this.headers);},_eventHandler:function(event){var options=this.options,active=this.active,clicked=$(event.currentTarget),clickedIsActive=clicked[0]===active[0],collapsing=clickedIsActive&&options.collapsible,toShow=collapsing?$():clicked.next(),toHide=active.next(),eventData={oldHeader:active,oldPanel:toHide,newHeader:collapsing?$():clicked,newPanel:toShow};event.preventDefault();if((clickedIsActive&&!options.collapsible)||(this._trigger("beforeActivate",event,eventData)===false)){return;}
options.active=collapsing?false:this.headers.index(clicked);this.active=clickedIsActive?$():clicked;this._toggle(eventData);active.removeClass("ui-accordion-header-active ui-state-active");if(options.icons){active.children(".ui-accordion-header-icon").removeClass(options.icons.activeHeader).addClass(options.icons.header);}
if(!clickedIsActive){clicked.removeClass("ui-corner-all").addClass("ui-accordion-header-active ui-state-active ui-corner-top");if(options.icons){clicked.children(".ui-accordion-header-icon").removeClass(options.icons.header).addClass(options.icons.activeHeader);}
clicked.next().addClass("ui-accordion-content-active");}},_toggle:function(data){var toShow=data.newPanel,toHide=this.prevShow.length?this.prevShow:data.oldPanel;this.prevShow.add(this.prevHide).stop(true,true);this.prevShow=toShow;this.prevHide=toHide;if(this.options.animate){this._animate(toShow,toHide,data);}else{toHide.hide();toShow.show();this._toggleComplete(data);}
toHide.attr({"aria-expanded":"false","aria-hidden":"true"});toHide.prev().attr("aria-selected","false");if(toShow.length&&toHide.length){toHide.prev().attr("tabIndex",-1);}else if(toShow.length){this.headers.filter(function(){return $(this).attr("tabIndex")===0;}).attr("tabIndex",-1);}
toShow.attr({"aria-expanded":"true","aria-hidden":"false"}).prev().attr({"aria-selected":"true",tabIndex:0});},_animate:function(toShow,toHide,data){var total,easing,duration,that=this,adjust=0,down=toShow.length&&(!toHide.length||(toShow.index()<toHide.index())),animate=this.options.animate||{},options=down&&animate.down||animate,complete=function(){that._toggleComplete(data);};if(typeof options==="number"){duration=options;}
if(typeof options==="string"){easing=options;}
easing=easing||options.easing||animate.easing;duration=duration||options.duration||animate.duration;if(!toHide.length){return toShow.animate(showProps,duration,easing,complete);}
if(!toShow.length){return toHide.animate(hideProps,duration,easing,complete);}
total=toShow.show().outerHeight();toHide.animate(hideProps,{duration:duration,easing:easing,step:function(now,fx){fx.now=Math.round(now);}});toShow.hide().animate(showProps,{duration:duration,easing:easing,complete:complete,step:function(now,fx){fx.now=Math.round(now);if(fx.prop!=="height"){adjust+=fx.now;}else if(that.options.heightStyle!=="content"){fx.now=Math.round(total-toHide.outerHeight()-adjust);adjust=0;}}});},_toggleComplete:function(data){var toHide=data.oldPanel;toHide.removeClass("ui-accordion-content-active").prev().removeClass("ui-corner-top").addClass("ui-corner-all");if(toHide.length){toHide.parent()[0].className=toHide.parent()[0].className;}
this._trigger("activate",null,data);}});})(jQuery);(function($,undefined){var requestIndex=0;$.widget("ui.autocomplete",{version:"1.10.3",defaultElement:"<input>",options:{appendTo:null,autoFocus:false,delay:300,minLength:1,position:{my:"left top",at:"left bottom",collision:"none"},source:null,change:null,close:null,focus:null,open:null,response:null,search:null,select:null},pending:0,_create:function(){var suppressKeyPress,suppressKeyPressRepeat,suppressInput,nodeName=this.element[0].nodeName.toLowerCase(),isTextarea=nodeName==="textarea",isInput=nodeName==="input";this.isMultiLine=isTextarea?true:isInput?false:this.element.prop("isContentEditable");this.valueMethod=this.element[isTextarea||isInput?"val":"text"];this.isNewMenu=true;this.element.addClass("ui-autocomplete-input").attr("autocomplete","off");this._on(this.element,{keydown:function(event){if(this.element.prop("readOnly")){suppressKeyPress=true;suppressInput=true;suppressKeyPressRepeat=true;return;}
suppressKeyPress=false;suppressInput=false;suppressKeyPressRepeat=false;var keyCode=$.ui.keyCode;switch(event.keyCode){case keyCode.PAGE_UP:suppressKeyPress=true;this._move("previousPage",event);break;case keyCode.PAGE_DOWN:suppressKeyPress=true;this._move("nextPage",event);break;case keyCode.UP:suppressKeyPress=true;this._keyEvent("previous",event);break;case keyCode.DOWN:suppressKeyPress=true;this._keyEvent("next",event);break;case keyCode.ENTER:case keyCode.NUMPAD_ENTER:if(this.menu.active){suppressKeyPress=true;event.preventDefault();this.menu.select(event);}
break;case keyCode.TAB:if(this.menu.active){this.menu.select(event);}
break;case keyCode.ESCAPE:if(this.menu.element.is(":visible")){this._value(this.term);this.close(event);event.preventDefault();}
break;default:suppressKeyPressRepeat=true;this._searchTimeout(event);break;}},keypress:function(event){if(suppressKeyPress){suppressKeyPress=false;if(!this.isMultiLine||this.menu.element.is(":visible")){event.preventDefault();}
return;}
if(suppressKeyPressRepeat){return;}
var keyCode=$.ui.keyCode;switch(event.keyCode){case keyCode.PAGE_UP:this._move("previousPage",event);break;case keyCode.PAGE_DOWN:this._move("nextPage",event);break;case keyCode.UP:this._keyEvent("previous",event);break;case keyCode.DOWN:this._keyEvent("next",event);break;}},input:function(event){if(suppressInput){suppressInput=false;event.preventDefault();return;}
this._searchTimeout(event);},focus:function(){this.selectedItem=null;this.previous=this._value();},blur:function(event){if(this.cancelBlur){delete this.cancelBlur;return;}
clearTimeout(this.searching);this.close(event);this._change(event);}});this._initSource();this.menu=$("<ul>").addClass("ui-autocomplete ui-front").appendTo(this._appendTo()).menu({role:null}).hide().data("ui-menu");this._on(this.menu.element,{mousedown:function(event){event.preventDefault();this.cancelBlur=true;this._delay(function(){delete this.cancelBlur;});var menuElement=this.menu.element[0];if(!$(event.target).closest(".ui-menu-item").length){this._delay(function(){var that=this;this.document.one("mousedown",function(event){if(event.target!==that.element[0]&&event.target!==menuElement&&!$.contains(menuElement,event.target)){that.close();}});});}},menufocus:function(event,ui){if(this.isNewMenu){this.isNewMenu=false;if(event.originalEvent&&/^mouse/.test(event.originalEvent.type)){this.menu.blur();this.document.one("mousemove",function(){$(event.target).trigger(event.originalEvent);});return;}}
var item=ui.item.data("ui-autocomplete-item");if(false!==this._trigger("focus",event,{item:item})){if(event.originalEvent&&/^key/.test(event.originalEvent.type)){this._value(item.value);}}else{this.liveRegion.text(item.value);}},menuselect:function(event,ui){var item=ui.item.data("ui-autocomplete-item"),previous=this.previous;if(this.element[0]!==this.document[0].activeElement){this.element.focus();this.previous=previous;this._delay(function(){this.previous=previous;this.selectedItem=item;});}
if(false!==this._trigger("select",event,{item:item})){this._value(item.value);}
this.term=this._value();this.close(event);this.selectedItem=item;}});this.liveRegion=$("<span>",{role:"status","aria-live":"polite"}).addClass("ui-helper-hidden-accessible").insertBefore(this.element);this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete");}});},_destroy:function(){clearTimeout(this.searching);this.element.removeClass("ui-autocomplete-input").removeAttr("autocomplete");this.menu.element.remove();this.liveRegion.remove();},_setOption:function(key,value){this._super(key,value);if(key==="source"){this._initSource();}
if(key==="appendTo"){this.menu.element.appendTo(this._appendTo());}
if(key==="disabled"&&value&&this.xhr){this.xhr.abort();}},_appendTo:function(){var element=this.options.appendTo;if(element){element=element.jquery||element.nodeType?$(element):this.document.find(element).eq(0);}
if(!element){element=this.element.closest(".ui-front");}
if(!element.length){element=this.document[0].body;}
return element;},_initSource:function(){var array,url,that=this;if($.isArray(this.options.source)){array=this.options.source;this.source=function(request,response){response($.ui.autocomplete.filter(array,request.term));};}else if(typeof this.options.source==="string"){url=this.options.source;this.source=function(request,response){if(that.xhr){that.xhr.abort();}
that.xhr=$.ajax({url:url,data:request,dataType:"json",success:function(data){response(data);},error:function(){response([]);}});};}else{this.source=this.options.source;}},_searchTimeout:function(event){clearTimeout(this.searching);this.searching=this._delay(function(){if(this.term!==this._value()){this.selectedItem=null;this.search(null,event);}},this.options.delay);},search:function(value,event){value=value!=null?value:this._value();this.term=this._value();if(value.length<this.options.minLength){return this.close(event);}
if(this._trigger("search",event)===false){return;}
return this._search(value);},_search:function(value){this.pending++;this.element.addClass("ui-autocomplete-loading");this.cancelSearch=false;this.source({term:value},this._response());},_response:function(){var that=this,index=++requestIndex;return function(content){if(index===requestIndex){that.__response(content);}
that.pending--;if(!that.pending){that.element.removeClass("ui-autocomplete-loading");}};},__response:function(content){if(content){content=this._normalize(content);}
this._trigger("response",null,{content:content});if(!this.options.disabled&&content&&content.length&&!this.cancelSearch){this._suggest(content);this._trigger("open");}else{this._close();}},close:function(event){this.cancelSearch=true;this._close(event);},_close:function(event){if(this.menu.element.is(":visible")){this.menu.element.hide();this.menu.blur();this.isNewMenu=true;this._trigger("close",event);}},_change:function(event){if(this.previous!==this._value()){this._trigger("change",event,{item:this.selectedItem});}},_normalize:function(items){if(items.length&&items[0].label&&items[0].value){return items;}
return $.map(items,function(item){if(typeof item==="string"){return{label:item,value:item};}
return $.extend({label:item.label||item.value,value:item.value||item.label},item);});},_suggest:function(items){var ul=this.menu.element.empty();this._renderMenu(ul,items);this.isNewMenu=true;this.menu.refresh();ul.show();this._resizeMenu();ul.position($.extend({of:this.element},this.options.position));if(this.options.autoFocus){this.menu.next();}},_resizeMenu:function(){var ul=this.menu.element;ul.outerWidth(Math.max(ul.width("").outerWidth()+1,this.element.outerWidth()));},_renderMenu:function(ul,items){var that=this;$.each(items,function(index,item){that._renderItemData(ul,item);});},_renderItemData:function(ul,item){return this._renderItem(ul,item).data("ui-autocomplete-item",item);},_renderItem:function(ul,item){return $("<li>").append($("<a>").text(item.label)).appendTo(ul);},_move:function(direction,event){if(!this.menu.element.is(":visible")){this.search(null,event);return;}
if(this.menu.isFirstItem()&&/^previous/.test(direction)||this.menu.isLastItem()&&/^next/.test(direction)){this._value(this.term);this.menu.blur();return;}
this.menu[direction](event);},widget:function(){return this.menu.element;},_value:function(){return this.valueMethod.apply(this.element,arguments);},_keyEvent:function(keyEvent,event){if(!this.isMultiLine||this.menu.element.is(":visible")){this._move(keyEvent,event);event.preventDefault();}}});$.extend($.ui.autocomplete,{escapeRegex:function(value){return value.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&");},filter:function(array,term){var matcher=new RegExp($.ui.autocomplete.escapeRegex(term),"i");return $.grep(array,function(value){return matcher.test(value.label||value.value||value);});}});$.widget("ui.autocomplete",$.ui.autocomplete,{options:{messages:{noResults:"No search results.",results:function(amount){return amount+(amount>1?" results are":" result is")+" available, use up and down arrow keys to navigate.";}}},__response:function(content){var message;this._superApply(arguments);if(this.options.disabled||this.cancelSearch){return;}
if(content&&content.length){message=this.options.messages.results(content.length);}else{message=this.options.messages.noResults;}
this.liveRegion.text(message);}});}(jQuery));(function($,undefined){var lastActive,startXPos,startYPos,clickDragged,baseClasses="ui-button ui-widget ui-state-default ui-corner-all",stateClasses="ui-state-hover ui-state-active ",typeClasses="ui-button-icons-only ui-button-icon-only ui-button-text-icons ui-button-text-icon-primary ui-button-text-icon-secondary ui-button-text-only",formResetHandler=function(){var form=$(this);setTimeout(function(){form.find(":ui-button").button("refresh");},1);},radioGroup=function(radio){var name=radio.name,form=radio.form,radios=$([]);if(name){name=name.replace(/'/g,"\\'");if(form){radios=$(form).find("[name='"+name+"']");}else{radios=$("[name='"+name+"']",radio.ownerDocument).filter(function(){return!this.form;});}}
return radios;};$.widget("ui.button",{version:"1.10.3",defaultElement:"<button>",options:{disabled:null,text:true,label:null,icons:{primary:null,secondary:null}},_create:function(){this.element.closest("form").unbind("reset"+this.eventNamespace).bind("reset"+this.eventNamespace,formResetHandler);if(typeof this.options.disabled!=="boolean"){this.options.disabled=!!this.element.prop("disabled");}else{this.element.prop("disabled",this.options.disabled);}
this._determineButtonType();this.hasTitle=!!this.buttonElement.attr("title");var that=this,options=this.options,toggleButton=this.type==="checkbox"||this.type==="radio",activeClass=!toggleButton?"ui-state-active":"",focusClass="ui-state-focus";if(options.label===null){options.label=(this.type==="input"?this.buttonElement.val():this.buttonElement.html());}
this._hoverable(this.buttonElement);this.buttonElement.addClass(baseClasses).attr("role","button").bind("mouseenter"+this.eventNamespace,function(){if(options.disabled){return;}
if(this===lastActive){$(this).addClass("ui-state-active");}}).bind("mouseleave"+this.eventNamespace,function(){if(options.disabled){return;}
$(this).removeClass(activeClass);}).bind("click"+this.eventNamespace,function(event){if(options.disabled){event.preventDefault();event.stopImmediatePropagation();}});this.element.bind("focus"+this.eventNamespace,function(){that.buttonElement.addClass(focusClass);}).bind("blur"+this.eventNamespace,function(){that.buttonElement.removeClass(focusClass);});if(toggleButton){this.element.bind("change"+this.eventNamespace,function(){if(clickDragged){return;}
that.refresh();});this.buttonElement.bind("mousedown"+this.eventNamespace,function(event){if(options.disabled){return;}
clickDragged=false;startXPos=event.pageX;startYPos=event.pageY;}).bind("mouseup"+this.eventNamespace,function(event){if(options.disabled){return;}
if(startXPos!==event.pageX||startYPos!==event.pageY){clickDragged=true;}});}
if(this.type==="checkbox"){this.buttonElement.bind("click"+this.eventNamespace,function(){if(options.disabled||clickDragged){return false;}});}else if(this.type==="radio"){this.buttonElement.bind("click"+this.eventNamespace,function(){if(options.disabled||clickDragged){return false;}
$(this).addClass("ui-state-active");that.buttonElement.attr("aria-pressed","true");var radio=that.element[0];radioGroup(radio).not(radio).map(function(){return $(this).button("widget")[0];}).removeClass("ui-state-active").attr("aria-pressed","false");});}else{this.buttonElement.bind("mousedown"+this.eventNamespace,function(){if(options.disabled){return false;}
$(this).addClass("ui-state-active");lastActive=this;that.document.one("mouseup",function(){lastActive=null;});}).bind("mouseup"+this.eventNamespace,function(){if(options.disabled){return false;}
$(this).removeClass("ui-state-active");}).bind("keydown"+this.eventNamespace,function(event){if(options.disabled){return false;}
if(event.keyCode===$.ui.keyCode.SPACE||event.keyCode===$.ui.keyCode.ENTER){$(this).addClass("ui-state-active");}}).bind("keyup"+this.eventNamespace+" blur"+this.eventNamespace,function(){$(this).removeClass("ui-state-active");});if(this.buttonElement.is("a")){this.buttonElement.keyup(function(event){if(event.keyCode===$.ui.keyCode.SPACE){$(this).click();}});}}
this._setOption("disabled",options.disabled);this._resetButton();},_determineButtonType:function(){var ancestor,labelSelector,checked;if(this.element.is("[type=checkbox]")){this.type="checkbox";}else if(this.element.is("[type=radio]")){this.type="radio";}else if(this.element.is("input")){this.type="input";}else{this.type="button";}
if(this.type==="checkbox"||this.type==="radio"){ancestor=this.element.parents().last();labelSelector="label[for='"+this.element.attr("id")+"']";this.buttonElement=ancestor.find(labelSelector);if(!this.buttonElement.length){ancestor=ancestor.length?ancestor.siblings():this.element.siblings();this.buttonElement=ancestor.filter(labelSelector);if(!this.buttonElement.length){this.buttonElement=ancestor.find(labelSelector);}}
this.element.addClass("ui-helper-hidden-accessible");checked=this.element.is(":checked");if(checked){this.buttonElement.addClass("ui-state-active");}
this.buttonElement.prop("aria-pressed",checked);}else{this.buttonElement=this.element;}},widget:function(){return this.buttonElement;},_destroy:function(){this.element.removeClass("ui-helper-hidden-accessible");this.buttonElement.removeClass(baseClasses+" "+stateClasses+" "+typeClasses).removeAttr("role").removeAttr("aria-pressed").html(this.buttonElement.find(".ui-button-text").html());if(!this.hasTitle){this.buttonElement.removeAttr("title");}},_setOption:function(key,value){this._super(key,value);if(key==="disabled"){if(value){this.element.prop("disabled",true);}else{this.element.prop("disabled",false);}
return;}
this._resetButton();},refresh:function(){var isDisabled=this.element.is("input, button")?this.element.is(":disabled"):this.element.hasClass("ui-button-disabled");if(isDisabled!==this.options.disabled){this._setOption("disabled",isDisabled);}
if(this.type==="radio"){radioGroup(this.element[0]).each(function(){if($(this).is(":checked")){$(this).button("widget").addClass("ui-state-active").attr("aria-pressed","true");}else{$(this).button("widget").removeClass("ui-state-active").attr("aria-pressed","false");}});}else if(this.type==="checkbox"){if(this.element.is(":checked")){this.buttonElement.addClass("ui-state-active").attr("aria-pressed","true");}else{this.buttonElement.removeClass("ui-state-active").attr("aria-pressed","false");}}},_resetButton:function(){if(this.type==="input"){if(this.options.label){this.element.val(this.options.label);}
return;}
var buttonElement=this.buttonElement.removeClass(typeClasses),buttonText=$("<span></span>",this.document[0]).addClass("ui-button-text").html(this.options.label).appendTo(buttonElement.empty()).text(),icons=this.options.icons,multipleIcons=icons.primary&&icons.secondary,buttonClasses=[];if(icons.primary||icons.secondary){if(this.options.text){buttonClasses.push("ui-button-text-icon"+(multipleIcons?"s":(icons.primary?"-primary":"-secondary")));}
if(icons.primary){buttonElement.prepend("<span class='ui-button-icon-primary ui-icon "+icons.primary+"'></span>");}
if(icons.secondary){buttonElement.append("<span class='ui-button-icon-secondary ui-icon "+icons.secondary+"'></span>");}
if(!this.options.text){buttonClasses.push(multipleIcons?"ui-button-icons-only":"ui-button-icon-only");if(!this.hasTitle){buttonElement.attr("title",$.trim(buttonText));}}}else{buttonClasses.push("ui-button-text-only");}
buttonElement.addClass(buttonClasses.join(" "));}});$.widget("ui.buttonset",{version:"1.10.3",options:{items:"button, input[type=button], input[type=submit], input[type=reset], input[type=checkbox], input[type=radio], a, :data(ui-button)"},_create:function(){this.element.addClass("ui-buttonset");},_init:function(){this.refresh();},_setOption:function(key,value){if(key==="disabled"){this.buttons.button("option",key,value);}
this._super(key,value);},refresh:function(){var rtl=this.element.css("direction")==="rtl";this.buttons=this.element.find(this.options.items).filter(":ui-button").button("refresh").end().not(":ui-button").button().end().map(function(){return $(this).button("widget")[0];}).removeClass("ui-corner-all ui-corner-left ui-corner-right").filter(":first").addClass(rtl?"ui-corner-right":"ui-corner-left").end().filter(":last").addClass(rtl?"ui-corner-left":"ui-corner-right").end().end();},_destroy:function(){this.element.removeClass("ui-buttonset");this.buttons.map(function(){return $(this).button("widget")[0];}).removeClass("ui-corner-left ui-corner-right").end().button("destroy");}});}(jQuery));(function($,undefined){$.extend($.ui,{datepicker:{version:"1.10.3"}});var PROP_NAME="datepicker",instActive;function Datepicker(){this._curInst=null;this._keyEvent=false;this._disabledInputs=[];this._datepickerShowing=false;this._inDialog=false;this._mainDivId="ui-datepicker-div";this._inlineClass="ui-datepicker-inline";this._appendClass="ui-datepicker-append";this._triggerClass="ui-datepicker-trigger";this._dialogClass="ui-datepicker-dialog";this._disableClass="ui-datepicker-disabled";this._unselectableClass="ui-datepicker-unselectable";this._currentClass="ui-datepicker-current-day";this._dayOverClass="ui-datepicker-days-cell-over";this.regional=[];this.regional[""]={closeText:"Done",prevText:"Prev",nextText:"Next",currentText:"Today",monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],weekHeader:"Wk",dateFormat:"mm/dd/yy",firstDay:0,isRTL:false,showMonthAfterYear:false,yearSuffix:""};this._defaults={showOn:"focus",showAnim:"fadeIn",showOptions:{},defaultDate:null,appendText:"",buttonText:"...",buttonImage:"",buttonImageOnly:false,hideIfNoPrevNext:false,navigationAsDateFormat:false,gotoCurrent:false,changeMonth:false,changeYear:false,yearRange:"c-10:c+10",showOtherMonths:false,selectOtherMonths:false,showWeek:false,calculateWeek:this.iso8601Week,shortYearCutoff:"+10",minDate:null,maxDate:null,duration:"fast",beforeShowDay:null,beforeShow:null,onSelect:null,onChangeMonthYear:null,onClose:null,numberOfMonths:1,showCurrentAtPos:0,stepMonths:1,stepBigMonths:12,altField:"",altFormat:"",constrainInput:true,showButtonPanel:false,autoSize:false,disabled:false};$.extend(this._defaults,this.regional[""]);this.dpDiv=bindHover($("<div id='"+this._mainDivId+"' class='ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>"));}
$.extend(Datepicker.prototype,{markerClassName:"hasDatepicker",maxRows:4,_widgetDatepicker:function(){return this.dpDiv;},setDefaults:function(settings){extendRemove(this._defaults,settings||{});return this;},_attachDatepicker:function(target,settings){var nodeName,inline,inst;nodeName=target.nodeName.toLowerCase();inline=(nodeName==="div"||nodeName==="span");if(!target.id){this.uuid+=1;target.id="dp"+this.uuid;}
inst=this._newInst($(target),inline);inst.settings=$.extend({},settings||{});if(nodeName==="input"){this._connectDatepicker(target,inst);}else if(inline){this._inlineDatepicker(target,inst);}},_newInst:function(target,inline){var id=target[0].id.replace(/([^A-Za-z0-9_\-])/g,"\\\\$1");return{id:id,input:target,selectedDay:0,selectedMonth:0,selectedYear:0,drawMonth:0,drawYear:0,inline:inline,dpDiv:(!inline?this.dpDiv:bindHover($("<div class='"+this._inlineClass+" ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>")))};},_connectDatepicker:function(target,inst){var input=$(target);inst.append=$([]);inst.trigger=$([]);if(input.hasClass(this.markerClassName)){return;}
this._attachments(input,inst);input.addClass(this.markerClassName).keydown(this._doKeyDown).keypress(this._doKeyPress).keyup(this._doKeyUp);this._autoSize(inst);$.data(target,PROP_NAME,inst);if(inst.settings.disabled){this._disableDatepicker(target);}},_attachments:function(input,inst){var showOn,buttonText,buttonImage,appendText=this._get(inst,"appendText"),isRTL=this._get(inst,"isRTL");if(inst.append){inst.append.remove();}
if(appendText){inst.append=$("<span class='"+this._appendClass+"'>"+appendText+"</span>");input[isRTL?"before":"after"](inst.append);}
input.unbind("focus",this._showDatepicker);if(inst.trigger){inst.trigger.remove();}
showOn=this._get(inst,"showOn");if(showOn==="focus"||showOn==="both"){input.focus(this._showDatepicker);}
if(showOn==="button"||showOn==="both"){buttonText=this._get(inst,"buttonText");buttonImage=this._get(inst,"buttonImage");inst.trigger=$(this._get(inst,"buttonImageOnly")?$("<img/>").addClass(this._triggerClass).attr({src:buttonImage,alt:buttonText,title:buttonText}):$("<button type='button'></button>").addClass(this._triggerClass).html(!buttonImage?buttonText:$("<img/>").attr({src:buttonImage,alt:buttonText,title:buttonText})));input[isRTL?"before":"after"](inst.trigger);inst.trigger.click(function(){if($.datepicker._datepickerShowing&&$.datepicker._lastInput===input[0]){$.datepicker._hideDatepicker();}else if($.datepicker._datepickerShowing&&$.datepicker._lastInput!==input[0]){$.datepicker._hideDatepicker();$.datepicker._showDatepicker(input[0]);}else{$.datepicker._showDatepicker(input[0]);}
return false;});}},_autoSize:function(inst){if(this._get(inst,"autoSize")&&!inst.inline){var findMax,max,maxI,i,date=new Date(2009,12-1,20),dateFormat=this._get(inst,"dateFormat");if(dateFormat.match(/[DM]/)){findMax=function(names){max=0;maxI=0;for(i=0;i<names.length;i++){if(names[i].length>max){max=names[i].length;maxI=i;}}
return maxI;};date.setMonth(findMax(this._get(inst,(dateFormat.match(/MM/)?"monthNames":"monthNamesShort"))));date.setDate(findMax(this._get(inst,(dateFormat.match(/DD/)?"dayNames":"dayNamesShort")))+20-date.getDay());}
inst.input.attr("size",this._formatDate(inst,date).length);}},_inlineDatepicker:function(target,inst){var divSpan=$(target);if(divSpan.hasClass(this.markerClassName)){return;}
divSpan.addClass(this.markerClassName).append(inst.dpDiv);$.data(target,PROP_NAME,inst);this._setDate(inst,this._getDefaultDate(inst),true);this._updateDatepicker(inst);this._updateAlternate(inst);if(inst.settings.disabled){this._disableDatepicker(target);}
inst.dpDiv.css("display","block");},_dialogDatepicker:function(input,date,onSelect,settings,pos){var id,browserWidth,browserHeight,scrollX,scrollY,inst=this._dialogInst;if(!inst){this.uuid+=1;id="dp"+this.uuid;this._dialogInput=$("<input type='text' id='"+id+"' style='position: absolute; top: -100px; width: 0px;'/>");this._dialogInput.keydown(this._doKeyDown);$("body").append(this._dialogInput);inst=this._dialogInst=this._newInst(this._dialogInput,false);inst.settings={};$.data(this._dialogInput[0],PROP_NAME,inst);}
extendRemove(inst.settings,settings||{});date=(date&&date.constructor===Date?this._formatDate(inst,date):date);this._dialogInput.val(date);this._pos=(pos?(pos.length?pos:[pos.pageX,pos.pageY]):null);if(!this._pos){browserWidth=document.documentElement.clientWidth;browserHeight=document.documentElement.clientHeight;scrollX=document.documentElement.scrollLeft||document.body.scrollLeft;scrollY=document.documentElement.scrollTop||document.body.scrollTop;this._pos=[(browserWidth / 2)-100+scrollX,(browserHeight / 2)-150+scrollY];}
this._dialogInput.css("left",(this._pos[0]+20)+"px").css("top",this._pos[1]+"px");inst.settings.onSelect=onSelect;this._inDialog=true;this.dpDiv.addClass(this._dialogClass);this._showDatepicker(this._dialogInput[0]);if($.blockUI){$.blockUI(this.dpDiv);}
$.data(this._dialogInput[0],PROP_NAME,inst);return this;},_destroyDatepicker:function(target){var nodeName,$target=$(target),inst=$.data(target,PROP_NAME);if(!$target.hasClass(this.markerClassName)){return;}
nodeName=target.nodeName.toLowerCase();$.removeData(target,PROP_NAME);if(nodeName==="input"){inst.append.remove();inst.trigger.remove();$target.removeClass(this.markerClassName).unbind("focus",this._showDatepicker).unbind("keydown",this._doKeyDown).unbind("keypress",this._doKeyPress).unbind("keyup",this._doKeyUp);}else if(nodeName==="div"||nodeName==="span"){$target.removeClass(this.markerClassName).empty();}},_enableDatepicker:function(target){var nodeName,inline,$target=$(target),inst=$.data(target,PROP_NAME);if(!$target.hasClass(this.markerClassName)){return;}
nodeName=target.nodeName.toLowerCase();if(nodeName==="input"){target.disabled=false;inst.trigger.filter("button").each(function(){this.disabled=false;}).end().filter("img").css({opacity:"1.0",cursor:""});}else if(nodeName==="div"||nodeName==="span"){inline=$target.children("."+this._inlineClass);inline.children().removeClass("ui-state-disabled");inline.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",false);}
this._disabledInputs=$.map(this._disabledInputs,function(value){return(value===target?null:value);});},_disableDatepicker:function(target){var nodeName,inline,$target=$(target),inst=$.data(target,PROP_NAME);if(!$target.hasClass(this.markerClassName)){return;}
nodeName=target.nodeName.toLowerCase();if(nodeName==="input"){target.disabled=true;inst.trigger.filter("button").each(function(){this.disabled=true;}).end().filter("img").css({opacity:"0.5",cursor:"default"});}else if(nodeName==="div"||nodeName==="span"){inline=$target.children("."+this._inlineClass);inline.children().addClass("ui-state-disabled");inline.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",true);}
this._disabledInputs=$.map(this._disabledInputs,function(value){return(value===target?null:value);});this._disabledInputs[this._disabledInputs.length]=target;},_isDisabledDatepicker:function(target){if(!target){return false;}
for(var i=0;i<this._disabledInputs.length;i++){if(this._disabledInputs[i]===target){return true;}}
return false;},_getInst:function(target){try{return $.data(target,PROP_NAME);}
catch(err){throw"Missing instance data for this datepicker";}},_optionDatepicker:function(target,name,value){var settings,date,minDate,maxDate,inst=this._getInst(target);if(arguments.length===2&&typeof name==="string"){return(name==="defaults"?$.extend({},$.datepicker._defaults):(inst?(name==="all"?$.extend({},inst.settings):this._get(inst,name)):null));}
settings=name||{};if(typeof name==="string"){settings={};settings[name]=value;}
if(inst){if(this._curInst===inst){this._hideDatepicker();}
date=this._getDateDatepicker(target,true);minDate=this._getMinMaxDate(inst,"min");maxDate=this._getMinMaxDate(inst,"max");extendRemove(inst.settings,settings);if(minDate!==null&&settings.dateFormat!==undefined&&settings.minDate===undefined){inst.settings.minDate=this._formatDate(inst,minDate);}
if(maxDate!==null&&settings.dateFormat!==undefined&&settings.maxDate===undefined){inst.settings.maxDate=this._formatDate(inst,maxDate);}
if("disabled"in settings){if(settings.disabled){this._disableDatepicker(target);}else{this._enableDatepicker(target);}}
this._attachments($(target),inst);this._autoSize(inst);this._setDate(inst,date);this._updateAlternate(inst);this._updateDatepicker(inst);}},_changeDatepicker:function(target,name,value){this._optionDatepicker(target,name,value);},_refreshDatepicker:function(target){var inst=this._getInst(target);if(inst){this._updateDatepicker(inst);}},_setDateDatepicker:function(target,date){var inst=this._getInst(target);if(inst){this._setDate(inst,date);this._updateDatepicker(inst);this._updateAlternate(inst);}},_getDateDatepicker:function(target,noDefault){var inst=this._getInst(target);if(inst&&!inst.inline){this._setDateFromField(inst,noDefault);}
return(inst?this._getDate(inst):null);},_doKeyDown:function(event){var onSelect,dateStr,sel,inst=$.datepicker._getInst(event.target),handled=true,isRTL=inst.dpDiv.is(".ui-datepicker-rtl");inst._keyEvent=true;if($.datepicker._datepickerShowing){switch(event.keyCode){case 9:$.datepicker._hideDatepicker();handled=false;break;case 13:sel=$("td."+$.datepicker._dayOverClass+":not(."+
$.datepicker._currentClass+")",inst.dpDiv);if(sel[0]){$.datepicker._selectDay(event.target,inst.selectedMonth,inst.selectedYear,sel[0]);}
onSelect=$.datepicker._get(inst,"onSelect");if(onSelect){dateStr=$.datepicker._formatDate(inst);onSelect.apply((inst.input?inst.input[0]:null),[dateStr,inst]);}else{$.datepicker._hideDatepicker();}
return false;case 27:$.datepicker._hideDatepicker();break;case 33:$.datepicker._adjustDate(event.target,(event.ctrlKey?-$.datepicker._get(inst,"stepBigMonths"):-$.datepicker._get(inst,"stepMonths")),"M");break;case 34:$.datepicker._adjustDate(event.target,(event.ctrlKey?+$.datepicker._get(inst,"stepBigMonths"):+$.datepicker._get(inst,"stepMonths")),"M");break;case 35:if(event.ctrlKey||event.metaKey){$.datepicker._clearDate(event.target);}
handled=event.ctrlKey||event.metaKey;break;case 36:if(event.ctrlKey||event.metaKey){$.datepicker._gotoToday(event.target);}
handled=event.ctrlKey||event.metaKey;break;case 37:if(event.ctrlKey||event.metaKey){$.datepicker._adjustDate(event.target,(isRTL?+1:-1),"D");}
handled=event.ctrlKey||event.metaKey;if(event.originalEvent.altKey){$.datepicker._adjustDate(event.target,(event.ctrlKey?-$.datepicker._get(inst,"stepBigMonths"):-$.datepicker._get(inst,"stepMonths")),"M");}
break;case 38:if(event.ctrlKey||event.metaKey){$.datepicker._adjustDate(event.target,-7,"D");}
handled=event.ctrlKey||event.metaKey;break;case 39:if(event.ctrlKey||event.metaKey){$.datepicker._adjustDate(event.target,(isRTL?-1:+1),"D");}
handled=event.ctrlKey||event.metaKey;if(event.originalEvent.altKey){$.datepicker._adjustDate(event.target,(event.ctrlKey?+$.datepicker._get(inst,"stepBigMonths"):+$.datepicker._get(inst,"stepMonths")),"M");}
break;case 40:if(event.ctrlKey||event.metaKey){$.datepicker._adjustDate(event.target,+7,"D");}
handled=event.ctrlKey||event.metaKey;break;default:handled=false;}}else if(event.keyCode===36&&event.ctrlKey){$.datepicker._showDatepicker(this);}else{handled=false;}
if(handled){event.preventDefault();event.stopPropagation();}},_doKeyPress:function(event){var chars,chr,inst=$.datepicker._getInst(event.target);if($.datepicker._get(inst,"constrainInput")){chars=$.datepicker._possibleChars($.datepicker._get(inst,"dateFormat"));chr=String.fromCharCode(event.charCode==null?event.keyCode:event.charCode);return event.ctrlKey||event.metaKey||(chr<" "||!chars||chars.indexOf(chr)>-1);}},_doKeyUp:function(event){var date,inst=$.datepicker._getInst(event.target);if(inst.input.val()!==inst.lastVal){try{date=$.datepicker.parseDate($.datepicker._get(inst,"dateFormat"),(inst.input?inst.input.val():null),$.datepicker._getFormatConfig(inst));if(date){$.datepicker._setDateFromField(inst);$.datepicker._updateAlternate(inst);$.datepicker._updateDatepicker(inst);}}
catch(err){}}
return true;},_showDatepicker:function(input){input=input.target||input;if(input.nodeName.toLowerCase()!=="input"){input=$("input",input.parentNode)[0];}
if($.datepicker._isDisabledDatepicker(input)||$.datepicker._lastInput===input){return;}
var inst,beforeShow,beforeShowSettings,isFixed,offset,showAnim,duration;inst=$.datepicker._getInst(input);if($.datepicker._curInst&&$.datepicker._curInst!==inst){$.datepicker._curInst.dpDiv.stop(true,true);if(inst&&$.datepicker._datepickerShowing){$.datepicker._hideDatepicker($.datepicker._curInst.input[0]);}}
beforeShow=$.datepicker._get(inst,"beforeShow");beforeShowSettings=beforeShow?beforeShow.apply(input,[input,inst]):{};if(beforeShowSettings===false){return;}
extendRemove(inst.settings,beforeShowSettings);inst.lastVal=null;$.datepicker._lastInput=input;$.datepicker._setDateFromField(inst);if($.datepicker._inDialog){input.value="";}
if(!$.datepicker._pos){$.datepicker._pos=$.datepicker._findPos(input);$.datepicker._pos[1]+=input.offsetHeight;}
isFixed=false;$(input).parents().each(function(){isFixed|=$(this).css("position")==="fixed";return!isFixed;});offset={left:$.datepicker._pos[0],top:$.datepicker._pos[1]};$.datepicker._pos=null;inst.dpDiv.empty();inst.dpDiv.css({position:"absolute",display:"block",top:"-1000px"});$.datepicker._updateDatepicker(inst);offset=$.datepicker._checkOffset(inst,offset,isFixed);inst.dpDiv.css({position:($.datepicker._inDialog&&$.blockUI?"static":(isFixed?"fixed":"absolute")),display:"none",left:offset.left+"px",top:offset.top+"px"});if(!inst.inline){showAnim=$.datepicker._get(inst,"showAnim");duration=$.datepicker._get(inst,"duration");inst.dpDiv.zIndex($(input).zIndex()+1);$.datepicker._datepickerShowing=true;if($.effects&&$.effects.effect[showAnim]){inst.dpDiv.show(showAnim,$.datepicker._get(inst,"showOptions"),duration);}else{inst.dpDiv[showAnim||"show"](showAnim?duration:null);}
if($.datepicker._shouldFocusInput(inst)){inst.input.focus();}
$.datepicker._curInst=inst;}},_updateDatepicker:function(inst){this.maxRows=4;instActive=inst;inst.dpDiv.empty().append(this._generateHTML(inst));this._attachHandlers(inst);inst.dpDiv.find("."+this._dayOverClass+" a").mouseover();var origyearshtml,numMonths=this._getNumberOfMonths(inst),cols=numMonths[1],width=17;inst.dpDiv.removeClass("ui-datepicker-multi-2 ui-datepicker-multi-3 ui-datepicker-multi-4").width("");if(cols>1){inst.dpDiv.addClass("ui-datepicker-multi-"+cols).css("width",(width*cols)+"em");}
inst.dpDiv[(numMonths[0]!==1||numMonths[1]!==1?"add":"remove")+"Class"]("ui-datepicker-multi");inst.dpDiv[(this._get(inst,"isRTL")?"add":"remove")+"Class"]("ui-datepicker-rtl");if(inst===$.datepicker._curInst&&$.datepicker._datepickerShowing&&$.datepicker._shouldFocusInput(inst)){inst.input.focus();}
if(inst.yearshtml){origyearshtml=inst.yearshtml;setTimeout(function(){if(origyearshtml===inst.yearshtml&&inst.yearshtml){inst.dpDiv.find("select.ui-datepicker-year:first").replaceWith(inst.yearshtml);}
origyearshtml=inst.yearshtml=null;},0);}},_shouldFocusInput:function(inst){return inst.input&&inst.input.is(":visible")&&!inst.input.is(":disabled")&&!inst.input.is(":focus");},_checkOffset:function(inst,offset,isFixed){var dpWidth=inst.dpDiv.outerWidth(),dpHeight=inst.dpDiv.outerHeight(),inputWidth=inst.input?inst.input.outerWidth():0,inputHeight=inst.input?inst.input.outerHeight():0,viewWidth=document.documentElement.clientWidth+(isFixed?0:$(document).scrollLeft()),viewHeight=document.documentElement.clientHeight+(isFixed?0:$(document).scrollTop());offset.left-=(this._get(inst,"isRTL")?(dpWidth-inputWidth):0);offset.left-=(isFixed&&offset.left===inst.input.offset().left)?$(document).scrollLeft():0;offset.top-=(isFixed&&offset.top===(inst.input.offset().top+inputHeight))?$(document).scrollTop():0;offset.left-=Math.min(offset.left,(offset.left+dpWidth>viewWidth&&viewWidth>dpWidth)?Math.abs(offset.left+dpWidth-viewWidth):0);offset.top-=Math.min(offset.top,(offset.top+dpHeight>viewHeight&&viewHeight>dpHeight)?Math.abs(dpHeight+inputHeight):0);return offset;},_findPos:function(obj){var position,inst=this._getInst(obj),isRTL=this._get(inst,"isRTL");while(obj&&(obj.type==="hidden"||obj.nodeType!==1||$.expr.filters.hidden(obj))){obj=obj[isRTL?"previousSibling":"nextSibling"];}
position=$(obj).offset();return[position.left,position.top];},_hideDatepicker:function(input){var showAnim,duration,postProcess,onClose,inst=this._curInst;if(!inst||(input&&inst!==$.data(input,PROP_NAME))){return;}
if(this._datepickerShowing){showAnim=this._get(inst,"showAnim");duration=this._get(inst,"duration");postProcess=function(){$.datepicker._tidyDialog(inst);};if($.effects&&($.effects.effect[showAnim]||$.effects[showAnim])){inst.dpDiv.hide(showAnim,$.datepicker._get(inst,"showOptions"),duration,postProcess);}else{inst.dpDiv[(showAnim==="slideDown"?"slideUp":(showAnim==="fadeIn"?"fadeOut":"hide"))]((showAnim?duration:null),postProcess);}
if(!showAnim){postProcess();}
this._datepickerShowing=false;onClose=this._get(inst,"onClose");if(onClose){onClose.apply((inst.input?inst.input[0]:null),[(inst.input?inst.input.val():""),inst]);}
this._lastInput=null;if(this._inDialog){this._dialogInput.css({position:"absolute",left:"0",top:"-100px"});if($.blockUI){$.unblockUI();$("body").append(this.dpDiv);}}
this._inDialog=false;}},_tidyDialog:function(inst){inst.dpDiv.removeClass(this._dialogClass).unbind(".ui-datepicker-calendar");},_checkExternalClick:function(event){if(!$.datepicker._curInst){return;}
var $target=$(event.target),inst=$.datepicker._getInst($target[0]);if((($target[0].id!==$.datepicker._mainDivId&&$target.parents("#"+$.datepicker._mainDivId).length===0&&!$target.hasClass($.datepicker.markerClassName)&&!$target.closest("."+$.datepicker._triggerClass).length&&$.datepicker._datepickerShowing&&!($.datepicker._inDialog&&$.blockUI)))||($target.hasClass($.datepicker.markerClassName)&&$.datepicker._curInst!==inst)){$.datepicker._hideDatepicker();}},_adjustDate:function(id,offset,period){var target=$(id),inst=this._getInst(target[0]);if(this._isDisabledDatepicker(target[0])){return;}
this._adjustInstDate(inst,offset+
(period==="M"?this._get(inst,"showCurrentAtPos"):0),period);this._updateDatepicker(inst);},_gotoToday:function(id){var date,target=$(id),inst=this._getInst(target[0]);if(this._get(inst,"gotoCurrent")&&inst.currentDay){inst.selectedDay=inst.currentDay;inst.drawMonth=inst.selectedMonth=inst.currentMonth;inst.drawYear=inst.selectedYear=inst.currentYear;}else{date=new Date();inst.selectedDay=date.getDate();inst.drawMonth=inst.selectedMonth=date.getMonth();inst.drawYear=inst.selectedYear=date.getFullYear();}
this._notifyChange(inst);this._adjustDate(target);},_selectMonthYear:function(id,select,period){var target=$(id),inst=this._getInst(target[0]);inst["selected"+(period==="M"?"Month":"Year")]=inst["draw"+(period==="M"?"Month":"Year")]=parseInt(select.options[select.selectedIndex].value,10);this._notifyChange(inst);this._adjustDate(target);},_selectDay:function(id,month,year,td){var inst,target=$(id);if($(td).hasClass(this._unselectableClass)||this._isDisabledDatepicker(target[0])){return;}
inst=this._getInst(target[0]);inst.selectedDay=inst.currentDay=$("a",td).html();inst.selectedMonth=inst.currentMonth=month;inst.selectedYear=inst.currentYear=year;this._selectDate(id,this._formatDate(inst,inst.currentDay,inst.currentMonth,inst.currentYear));},_clearDate:function(id){var target=$(id);this._selectDate(target,"");},_selectDate:function(id,dateStr){var onSelect,target=$(id),inst=this._getInst(target[0]);dateStr=(dateStr!=null?dateStr:this._formatDate(inst));if(inst.input){inst.input.val(dateStr);}
this._updateAlternate(inst);onSelect=this._get(inst,"onSelect");if(onSelect){onSelect.apply((inst.input?inst.input[0]:null),[dateStr,inst]);}else if(inst.input){inst.input.trigger("change");}
if(inst.inline){this._updateDatepicker(inst);}else{this._hideDatepicker();this._lastInput=inst.input[0];if(typeof(inst.input[0])!=="object"){inst.input.focus();}
this._lastInput=null;}},_updateAlternate:function(inst){var altFormat,date,dateStr,altField=this._get(inst,"altField");if(altField){altFormat=this._get(inst,"altFormat")||this._get(inst,"dateFormat");date=this._getDate(inst);dateStr=this.formatDate(altFormat,date,this._getFormatConfig(inst));$(altField).each(function(){$(this).val(dateStr);});}},noWeekends:function(date){var day=date.getDay();return[(day>0&&day<6),""];},iso8601Week:function(date){var time,checkDate=new Date(date.getTime());checkDate.setDate(checkDate.getDate()+4-(checkDate.getDay()||7));time=checkDate.getTime();checkDate.setMonth(0);checkDate.setDate(1);return Math.floor(Math.round((time-checkDate)/ 86400000)/ 7)+1;},parseDate:function(format,value,settings){if(format==null||value==null){throw"Invalid arguments";}
value=(typeof value==="object"?value.toString():value+"");if(value===""){return null;}
var iFormat,dim,extra,iValue=0,shortYearCutoffTemp=(settings?settings.shortYearCutoff:null)||this._defaults.shortYearCutoff,shortYearCutoff=(typeof shortYearCutoffTemp!=="string"?shortYearCutoffTemp:new Date().getFullYear()%100+parseInt(shortYearCutoffTemp,10)),dayNamesShort=(settings?settings.dayNamesShort:null)||this._defaults.dayNamesShort,dayNames=(settings?settings.dayNames:null)||this._defaults.dayNames,monthNamesShort=(settings?settings.monthNamesShort:null)||this._defaults.monthNamesShort,monthNames=(settings?settings.monthNames:null)||this._defaults.monthNames,year=-1,month=-1,day=-1,doy=-1,literal=false,date,lookAhead=function(match){var matches=(iFormat+1<format.length&&format.charAt(iFormat+1)===match);if(matches){iFormat++;}
return matches;},getNumber=function(match){var isDoubled=lookAhead(match),size=(match==="@"?14:(match==="!"?20:(match==="y"&&isDoubled?4:(match==="o"?3:2)))),digits=new RegExp("^\\d{1,"+size+"}"),num=value.substring(iValue).match(digits);if(!num){throw"Missing number at position "+iValue;}
iValue+=num[0].length;return parseInt(num[0],10);},getName=function(match,shortNames,longNames){var index=-1,names=$.map(lookAhead(match)?longNames:shortNames,function(v,k){return[[k,v]];}).sort(function(a,b){return-(a[1].length-b[1].length);});$.each(names,function(i,pair){var name=pair[1];if(value.substr(iValue,name.length).toLowerCase()===name.toLowerCase()){index=pair[0];iValue+=name.length;return false;}});if(index!==-1){return index+1;}else{throw"Unknown name at position "+iValue;}},checkLiteral=function(){if(value.charAt(iValue)!==format.charAt(iFormat)){throw"Unexpected literal at position "+iValue;}
iValue++;};for(iFormat=0;iFormat<format.length;iFormat++){if(literal){if(format.charAt(iFormat)==="'"&&!lookAhead("'")){literal=false;}else{checkLiteral();}}else{switch(format.charAt(iFormat)){case"d":day=getNumber("d");break;case"D":getName("D",dayNamesShort,dayNames);break;case"o":doy=getNumber("o");break;case"m":month=getNumber("m");break;case"M":month=getName("M",monthNamesShort,monthNames);break;case"y":year=getNumber("y");break;case"@":date=new Date(getNumber("@"));year=date.getFullYear();month=date.getMonth()+1;day=date.getDate();break;case"!":date=new Date((getNumber("!")-this._ticksTo1970)/ 10000);year=date.getFullYear();month=date.getMonth()+1;day=date.getDate();break;case"'":if(lookAhead("'")){checkLiteral();}else{literal=true;}
break;default:checkLiteral();}}}
if(iValue<value.length){extra=value.substr(iValue);if(!/^\s+/.test(extra)){throw"Extra/unparsed characters found in date: "+extra;}}
if(year===-1){year=new Date().getFullYear();}else if(year<100){year+=new Date().getFullYear()-new Date().getFullYear()%100+
(year<=shortYearCutoff?0:-100);}
if(doy>-1){month=1;day=doy;do{dim=this._getDaysInMonth(year,month-1);if(day<=dim){break;}
month++;day-=dim;}while(true);}
date=this._daylightSavingAdjust(new Date(year,month-1,day));if(date.getFullYear()!==year||date.getMonth()+1!==month||date.getDate()!==day){throw"Invalid date";}
return date;},ATOM:"yy-mm-dd",COOKIE:"D, dd M yy",ISO_8601:"yy-mm-dd",RFC_822:"D, d M y",RFC_850:"DD, dd-M-y",RFC_1036:"D, d M y",RFC_1123:"D, d M yy",RFC_2822:"D, d M yy",RSS:"D, d M y",TICKS:"!",TIMESTAMP:"@",W3C:"yy-mm-dd",_ticksTo1970:(((1970-1)*365+Math.floor(1970 / 4)-Math.floor(1970 / 100)+
Math.floor(1970 / 400))*24*60*60*10000000),formatDate:function(format,date,settings){if(!date){return"";}
var iFormat,dayNamesShort=(settings?settings.dayNamesShort:null)||this._defaults.dayNamesShort,dayNames=(settings?settings.dayNames:null)||this._defaults.dayNames,monthNamesShort=(settings?settings.monthNamesShort:null)||this._defaults.monthNamesShort,monthNames=(settings?settings.monthNames:null)||this._defaults.monthNames,lookAhead=function(match){var matches=(iFormat+1<format.length&&format.charAt(iFormat+1)===match);if(matches){iFormat++;}
return matches;},formatNumber=function(match,value,len){var num=""+value;if(lookAhead(match)){while(num.length<len){num="0"+num;}}
return num;},formatName=function(match,value,shortNames,longNames){return(lookAhead(match)?longNames[value]:shortNames[value]);},output="",literal=false;if(date){for(iFormat=0;iFormat<format.length;iFormat++){if(literal){if(format.charAt(iFormat)==="'"&&!lookAhead("'")){literal=false;}else{output+=format.charAt(iFormat);}}else{switch(format.charAt(iFormat)){case"d":output+=formatNumber("d",date.getDate(),2);break;case"D":output+=formatName("D",date.getDay(),dayNamesShort,dayNames);break;case"o":output+=formatNumber("o",Math.round((new Date(date.getFullYear(),date.getMonth(),date.getDate()).getTime()-new Date(date.getFullYear(),0,0).getTime())/ 86400000),3);break;case"m":output+=formatNumber("m",date.getMonth()+1,2);break;case"M":output+=formatName("M",date.getMonth(),monthNamesShort,monthNames);break;case"y":output+=(lookAhead("y")?date.getFullYear():(date.getYear()%100<10?"0":"")+date.getYear()%100);break;case"@":output+=date.getTime();break;case"!":output+=date.getTime()*10000+this._ticksTo1970;break;case"'":if(lookAhead("'")){output+="'";}else{literal=true;}
break;default:output+=format.charAt(iFormat);}}}}
return output;},_possibleChars:function(format){var iFormat,chars="",literal=false,lookAhead=function(match){var matches=(iFormat+1<format.length&&format.charAt(iFormat+1)===match);if(matches){iFormat++;}
return matches;};for(iFormat=0;iFormat<format.length;iFormat++){if(literal){if(format.charAt(iFormat)==="'"&&!lookAhead("'")){literal=false;}else{chars+=format.charAt(iFormat);}}else{switch(format.charAt(iFormat)){case"d":case"m":case"y":case"@":chars+="0123456789";break;case"D":case"M":return null;case"'":if(lookAhead("'")){chars+="'";}else{literal=true;}
break;default:chars+=format.charAt(iFormat);}}}
return chars;},_get:function(inst,name){return inst.settings[name]!==undefined?inst.settings[name]:this._defaults[name];},_setDateFromField:function(inst,noDefault){if(inst.input.val()===inst.lastVal){return;}
var dateFormat=this._get(inst,"dateFormat"),dates=inst.lastVal=inst.input?inst.input.val():null,defaultDate=this._getDefaultDate(inst),date=defaultDate,settings=this._getFormatConfig(inst);try{date=this.parseDate(dateFormat,dates,settings)||defaultDate;}catch(event){dates=(noDefault?"":dates);}
inst.selectedDay=date.getDate();inst.drawMonth=inst.selectedMonth=date.getMonth();inst.drawYear=inst.selectedYear=date.getFullYear();inst.currentDay=(dates?date.getDate():0);inst.currentMonth=(dates?date.getMonth():0);inst.currentYear=(dates?date.getFullYear():0);this._adjustInstDate(inst);},_getDefaultDate:function(inst){return this._restrictMinMax(inst,this._determineDate(inst,this._get(inst,"defaultDate"),new Date()));},_determineDate:function(inst,date,defaultDate){var offsetNumeric=function(offset){var date=new Date();date.setDate(date.getDate()+offset);return date;},offsetString=function(offset){try{return $.datepicker.parseDate($.datepicker._get(inst,"dateFormat"),offset,$.datepicker._getFormatConfig(inst));}
catch(e){}
var date=(offset.toLowerCase().match(/^c/)?$.datepicker._getDate(inst):null)||new Date(),year=date.getFullYear(),month=date.getMonth(),day=date.getDate(),pattern=/([+\-]?[0-9]+)\s*(d|D|w|W|m|M|y|Y)?/g,matches=pattern.exec(offset);while(matches){switch(matches[2]||"d"){case"d":case"D":day+=parseInt(matches[1],10);break;case"w":case"W":day+=parseInt(matches[1],10)*7;break;case"m":case"M":month+=parseInt(matches[1],10);day=Math.min(day,$.datepicker._getDaysInMonth(year,month));break;case"y":case"Y":year+=parseInt(matches[1],10);day=Math.min(day,$.datepicker._getDaysInMonth(year,month));break;}
matches=pattern.exec(offset);}
return new Date(year,month,day);},newDate=(date==null||date===""?defaultDate:(typeof date==="string"?offsetString(date):(typeof date==="number"?(isNaN(date)?defaultDate:offsetNumeric(date)):new Date(date.getTime()))));newDate=(newDate&&newDate.toString()==="Invalid Date"?defaultDate:newDate);if(newDate){newDate.setHours(0);newDate.setMinutes(0);newDate.setSeconds(0);newDate.setMilliseconds(0);}
return this._daylightSavingAdjust(newDate);},_daylightSavingAdjust:function(date){if(!date){return null;}
date.setHours(date.getHours()>12?date.getHours()+2:0);return date;},_setDate:function(inst,date,noChange){var clear=!date,origMonth=inst.selectedMonth,origYear=inst.selectedYear,newDate=this._restrictMinMax(inst,this._determineDate(inst,date,new Date()));inst.selectedDay=inst.currentDay=newDate.getDate();inst.drawMonth=inst.selectedMonth=inst.currentMonth=newDate.getMonth();inst.drawYear=inst.selectedYear=inst.currentYear=newDate.getFullYear();if((origMonth!==inst.selectedMonth||origYear!==inst.selectedYear)&&!noChange){this._notifyChange(inst);}
this._adjustInstDate(inst);if(inst.input){inst.input.val(clear?"":this._formatDate(inst));}},_getDate:function(inst){var startDate=(!inst.currentYear||(inst.input&&inst.input.val()==="")?null:this._daylightSavingAdjust(new Date(inst.currentYear,inst.currentMonth,inst.currentDay)));return startDate;},_attachHandlers:function(inst){var stepMonths=this._get(inst,"stepMonths"),id="#"+inst.id.replace(/\\\\/g,"\\");inst.dpDiv.find("[data-handler]").map(function(){var handler={prev:function(){$.datepicker._adjustDate(id,-stepMonths,"M");},next:function(){$.datepicker._adjustDate(id,+stepMonths,"M");},hide:function(){$.datepicker._hideDatepicker();},today:function(){$.datepicker._gotoToday(id);},selectDay:function(){$.datepicker._selectDay(id,+this.getAttribute("data-month"),+this.getAttribute("data-year"),this);return false;},selectMonth:function(){$.datepicker._selectMonthYear(id,this,"M");return false;},selectYear:function(){$.datepicker._selectMonthYear(id,this,"Y");return false;}};$(this).bind(this.getAttribute("data-event"),handler[this.getAttribute("data-handler")]);});},_generateHTML:function(inst){var maxDraw,prevText,prev,nextText,next,currentText,gotoDate,controls,buttonPanel,firstDay,showWeek,dayNames,dayNamesMin,monthNames,monthNamesShort,beforeShowDay,showOtherMonths,selectOtherMonths,defaultDate,html,dow,row,group,col,selectedDate,cornerClass,calender,thead,day,daysInMonth,leadDays,curRows,numRows,printDate,dRow,tbody,daySettings,otherMonth,unselectable,tempDate=new Date(),today=this._daylightSavingAdjust(new Date(tempDate.getFullYear(),tempDate.getMonth(),tempDate.getDate())),isRTL=this._get(inst,"isRTL"),showButtonPanel=this._get(inst,"showButtonPanel"),hideIfNoPrevNext=this._get(inst,"hideIfNoPrevNext"),navigationAsDateFormat=this._get(inst,"navigationAsDateFormat"),numMonths=this._getNumberOfMonths(inst),showCurrentAtPos=this._get(inst,"showCurrentAtPos"),stepMonths=this._get(inst,"stepMonths"),isMultiMonth=(numMonths[0]!==1||numMonths[1]!==1),currentDate=this._daylightSavingAdjust((!inst.currentDay?new Date(9999,9,9):new Date(inst.currentYear,inst.currentMonth,inst.currentDay))),minDate=this._getMinMaxDate(inst,"min"),maxDate=this._getMinMaxDate(inst,"max"),drawMonth=inst.drawMonth-showCurrentAtPos,drawYear=inst.drawYear;if(drawMonth<0){drawMonth+=12;drawYear--;}
if(maxDate){maxDraw=this._daylightSavingAdjust(new Date(maxDate.getFullYear(),maxDate.getMonth()-(numMonths[0]*numMonths[1])+1,maxDate.getDate()));maxDraw=(minDate&&maxDraw<minDate?minDate:maxDraw);while(this._daylightSavingAdjust(new Date(drawYear,drawMonth,1))>maxDraw){drawMonth--;if(drawMonth<0){drawMonth=11;drawYear--;}}}
inst.drawMonth=drawMonth;inst.drawYear=drawYear;prevText=this._get(inst,"prevText");prevText=(!navigationAsDateFormat?prevText:this.formatDate(prevText,this._daylightSavingAdjust(new Date(drawYear,drawMonth-stepMonths,1)),this._getFormatConfig(inst)));prev=(this._canAdjustMonth(inst,-1,drawYear,drawMonth)?"<a class='ui-datepicker-prev ui-corner-all' data-handler='prev' data-event='click'"+" title='"+prevText+"'><span class='ui-icon ui-icon-circle-triangle-"+(isRTL?"e":"w")+"'>"+prevText+"</span></a>":(hideIfNoPrevNext?"":"<a class='ui-datepicker-prev ui-corner-all ui-state-disabled' title='"+prevText+"'><span class='ui-icon ui-icon-circle-triangle-"+(isRTL?"e":"w")+"'>"+prevText+"</span></a>"));nextText=this._get(inst,"nextText");nextText=(!navigationAsDateFormat?nextText:this.formatDate(nextText,this._daylightSavingAdjust(new Date(drawYear,drawMonth+stepMonths,1)),this._getFormatConfig(inst)));next=(this._canAdjustMonth(inst,+1,drawYear,drawMonth)?"<a class='ui-datepicker-next ui-corner-all' data-handler='next' data-event='click'"+" title='"+nextText+"'><span class='ui-icon ui-icon-circle-triangle-"+(isRTL?"w":"e")+"'>"+nextText+"</span></a>":(hideIfNoPrevNext?"":"<a class='ui-datepicker-next ui-corner-all ui-state-disabled' title='"+nextText+"'><span class='ui-icon ui-icon-circle-triangle-"+(isRTL?"w":"e")+"'>"+nextText+"</span></a>"));currentText=this._get(inst,"currentText");gotoDate=(this._get(inst,"gotoCurrent")&&inst.currentDay?currentDate:today);currentText=(!navigationAsDateFormat?currentText:this.formatDate(currentText,gotoDate,this._getFormatConfig(inst)));controls=(!inst.inline?"<button type='button' class='ui-datepicker-close ui-state-default ui-priority-primary ui-corner-all' data-handler='hide' data-event='click'>"+
this._get(inst,"closeText")+"</button>":"");buttonPanel=(showButtonPanel)?"<div class='ui-datepicker-buttonpane ui-widget-content'>"+(isRTL?controls:"")+
(this._isInRange(inst,gotoDate)?"<button type='button' class='ui-datepicker-current ui-state-default ui-priority-secondary ui-corner-all' data-handler='today' data-event='click'"+">"+currentText+"</button>":"")+(isRTL?"":controls)+"</div>":"";firstDay=parseInt(this._get(inst,"firstDay"),10);firstDay=(isNaN(firstDay)?0:firstDay);showWeek=this._get(inst,"showWeek");dayNames=this._get(inst,"dayNames");dayNamesMin=this._get(inst,"dayNamesMin");monthNames=this._get(inst,"monthNames");monthNamesShort=this._get(inst,"monthNamesShort");beforeShowDay=this._get(inst,"beforeShowDay");showOtherMonths=this._get(inst,"showOtherMonths");selectOtherMonths=this._get(inst,"selectOtherMonths");defaultDate=this._getDefaultDate(inst);html="";dow;for(row=0;row<numMonths[0];row++){group="";this.maxRows=4;for(col=0;col<numMonths[1];col++){selectedDate=this._daylightSavingAdjust(new Date(drawYear,drawMonth,inst.selectedDay));cornerClass=" ui-corner-all";calender="";if(isMultiMonth){calender+="<div class='ui-datepicker-group";if(numMonths[1]>1){switch(col){case 0:calender+=" ui-datepicker-group-first";cornerClass=" ui-corner-"+(isRTL?"right":"left");break;case numMonths[1]-1:calender+=" ui-datepicker-group-last";cornerClass=" ui-corner-"+(isRTL?"left":"right");break;default:calender+=" ui-datepicker-group-middle";cornerClass="";break;}}
calender+="'>";}
calender+="<div class='ui-datepicker-header ui-widget-header ui-helper-clearfix"+cornerClass+"'>"+
(/all|left/.test(cornerClass)&&row===0?(isRTL?next:prev):"")+
(/all|right/.test(cornerClass)&&row===0?(isRTL?prev:next):"")+
this._generateMonthYearHeader(inst,drawMonth,drawYear,minDate,maxDate,row>0||col>0,monthNames,monthNamesShort)+"</div><table class='ui-datepicker-calendar'><thead>"+"<tr>";thead=(showWeek?"<th class='ui-datepicker-week-col'>"+this._get(inst,"weekHeader")+"</th>":"");for(dow=0;dow<7;dow++){day=(dow+firstDay)%7;thead+="<th"+((dow+firstDay+6)%7>=5?" class='ui-datepicker-week-end'":"")+">"+"<span title='"+dayNames[day]+"'>"+dayNamesMin[day]+"</span></th>";}
calender+=thead+"</tr></thead><tbody>";daysInMonth=this._getDaysInMonth(drawYear,drawMonth);if(drawYear===inst.selectedYear&&drawMonth===inst.selectedMonth){inst.selectedDay=Math.min(inst.selectedDay,daysInMonth);}
leadDays=(this._getFirstDayOfMonth(drawYear,drawMonth)-firstDay+7)%7;curRows=Math.ceil((leadDays+daysInMonth)/ 7);numRows=(isMultiMonth?this.maxRows>curRows?this.maxRows:curRows:curRows);this.maxRows=numRows;printDate=this._daylightSavingAdjust(new Date(drawYear,drawMonth,1-leadDays));for(dRow=0;dRow<numRows;dRow++){calender+="<tr>";tbody=(!showWeek?"":"<td class='ui-datepicker-week-col'>"+
this._get(inst,"calculateWeek")(printDate)+"</td>");for(dow=0;dow<7;dow++){daySettings=(beforeShowDay?beforeShowDay.apply((inst.input?inst.input[0]:null),[printDate]):[true,""]);otherMonth=(printDate.getMonth()!==drawMonth);unselectable=(otherMonth&&!selectOtherMonths)||!daySettings[0]||(minDate&&printDate<minDate)||(maxDate&&printDate>maxDate);tbody+="<td class='"+
((dow+firstDay+6)%7>=5?" ui-datepicker-week-end":"")+
(otherMonth?" ui-datepicker-other-month":"")+
((printDate.getTime()===selectedDate.getTime()&&drawMonth===inst.selectedMonth&&inst._keyEvent)||(defaultDate.getTime()===printDate.getTime()&&defaultDate.getTime()===selectedDate.getTime())?" "+this._dayOverClass:"")+
(unselectable?" "+this._unselectableClass+" ui-state-disabled":"")+
(otherMonth&&!showOtherMonths?"":" "+daySettings[1]+
(printDate.getTime()===currentDate.getTime()?" "+this._currentClass:"")+
(printDate.getTime()===today.getTime()?" ui-datepicker-today":""))+"'"+
((!otherMonth||showOtherMonths)&&daySettings[2]?" title='"+daySettings[2].replace(/'/g,"&#39;")+"'":"")+
(unselectable?"":" data-handler='selectDay' data-event='click' data-month='"+printDate.getMonth()+"' data-year='"+printDate.getFullYear()+"'")+">"+
(otherMonth&&!showOtherMonths?"&#xa0;":(unselectable?"<span class='ui-state-default'>"+printDate.getDate()+"</span>":"<a class='ui-state-default"+
(printDate.getTime()===today.getTime()?" ui-state-highlight":"")+
(printDate.getTime()===currentDate.getTime()?" ui-state-active":"")+
(otherMonth?" ui-priority-secondary":"")+"' href='#'>"+printDate.getDate()+"</a>"))+"</td>";printDate.setDate(printDate.getDate()+1);printDate=this._daylightSavingAdjust(printDate);}
calender+=tbody+"</tr>";}
drawMonth++;if(drawMonth>11){drawMonth=0;drawYear++;}
calender+="</tbody></table>"+(isMultiMonth?"</div>"+
((numMonths[0]>0&&col===numMonths[1]-1)?"<div class='ui-datepicker-row-break'></div>":""):"");group+=calender;}
html+=group;}
html+=buttonPanel;inst._keyEvent=false;return html;},_generateMonthYearHeader:function(inst,drawMonth,drawYear,minDate,maxDate,secondary,monthNames,monthNamesShort){var inMinYear,inMaxYear,month,years,thisYear,determineYear,year,endYear,changeMonth=this._get(inst,"changeMonth"),changeYear=this._get(inst,"changeYear"),showMonthAfterYear=this._get(inst,"showMonthAfterYear"),html="<div class='ui-datepicker-title'>",monthHtml="";if(secondary||!changeMonth){monthHtml+="<span class='ui-datepicker-month'>"+monthNames[drawMonth]+"</span>";}else{inMinYear=(minDate&&minDate.getFullYear()===drawYear);inMaxYear=(maxDate&&maxDate.getFullYear()===drawYear);monthHtml+="<select class='ui-datepicker-month' data-handler='selectMonth' data-event='change'>";for(month=0;month<12;month++){if((!inMinYear||month>=minDate.getMonth())&&(!inMaxYear||month<=maxDate.getMonth())){monthHtml+="<option value='"+month+"'"+
(month===drawMonth?" selected='selected'":"")+">"+monthNamesShort[month]+"</option>";}}
monthHtml+="</select>";}
if(!showMonthAfterYear){html+=monthHtml+(secondary||!(changeMonth&&changeYear)?"&#xa0;":"");}
if(!inst.yearshtml){inst.yearshtml="";if(secondary||!changeYear){html+="<span class='ui-datepicker-year'>"+drawYear+"</span>";}else{years=this._get(inst,"yearRange").split(":");thisYear=new Date().getFullYear();determineYear=function(value){var year=(value.match(/c[+\-].*/)?drawYear+parseInt(value.substring(1),10):(value.match(/[+\-].*/)?thisYear+parseInt(value,10):parseInt(value,10)));return(isNaN(year)?thisYear:year);};year=determineYear(years[0]);endYear=Math.max(year,determineYear(years[1]||""));year=(minDate?Math.max(year,minDate.getFullYear()):year);endYear=(maxDate?Math.min(endYear,maxDate.getFullYear()):endYear);inst.yearshtml+="<select class='ui-datepicker-year' data-handler='selectYear' data-event='change'>";for(;year<=endYear;year++){inst.yearshtml+="<option value='"+year+"'"+
(year===drawYear?" selected='selected'":"")+">"+year+"</option>";}
inst.yearshtml+="</select>";html+=inst.yearshtml;inst.yearshtml=null;}}
html+=this._get(inst,"yearSuffix");if(showMonthAfterYear){html+=(secondary||!(changeMonth&&changeYear)?"&#xa0;":"")+monthHtml;}
html+="</div>";return html;},_adjustInstDate:function(inst,offset,period){var year=inst.drawYear+(period==="Y"?offset:0),month=inst.drawMonth+(period==="M"?offset:0),day=Math.min(inst.selectedDay,this._getDaysInMonth(year,month))+(period==="D"?offset:0),date=this._restrictMinMax(inst,this._daylightSavingAdjust(new Date(year,month,day)));inst.selectedDay=date.getDate();inst.drawMonth=inst.selectedMonth=date.getMonth();inst.drawYear=inst.selectedYear=date.getFullYear();if(period==="M"||period==="Y"){this._notifyChange(inst);}},_restrictMinMax:function(inst,date){var minDate=this._getMinMaxDate(inst,"min"),maxDate=this._getMinMaxDate(inst,"max"),newDate=(minDate&&date<minDate?minDate:date);return(maxDate&&newDate>maxDate?maxDate:newDate);},_notifyChange:function(inst){var onChange=this._get(inst,"onChangeMonthYear");if(onChange){onChange.apply((inst.input?inst.input[0]:null),[inst.selectedYear,inst.selectedMonth+1,inst]);}},_getNumberOfMonths:function(inst){var numMonths=this._get(inst,"numberOfMonths");return(numMonths==null?[1,1]:(typeof numMonths==="number"?[1,numMonths]:numMonths));},_getMinMaxDate:function(inst,minMax){return this._determineDate(inst,this._get(inst,minMax+"Date"),null);},_getDaysInMonth:function(year,month){return 32-this._daylightSavingAdjust(new Date(year,month,32)).getDate();},_getFirstDayOfMonth:function(year,month){return new Date(year,month,1).getDay();},_canAdjustMonth:function(inst,offset,curYear,curMonth){var numMonths=this._getNumberOfMonths(inst),date=this._daylightSavingAdjust(new Date(curYear,curMonth+(offset<0?offset:numMonths[0]*numMonths[1]),1));if(offset<0){date.setDate(this._getDaysInMonth(date.getFullYear(),date.getMonth()));}
return this._isInRange(inst,date);},_isInRange:function(inst,date){var yearSplit,currentYear,minDate=this._getMinMaxDate(inst,"min"),maxDate=this._getMinMaxDate(inst,"max"),minYear=null,maxYear=null,years=this._get(inst,"yearRange");if(years){yearSplit=years.split(":");currentYear=new Date().getFullYear();minYear=parseInt(yearSplit[0],10);maxYear=parseInt(yearSplit[1],10);if(yearSplit[0].match(/[+\-].*/)){minYear+=currentYear;}
if(yearSplit[1].match(/[+\-].*/)){maxYear+=currentYear;}}
return((!minDate||date.getTime()>=minDate.getTime())&&(!maxDate||date.getTime()<=maxDate.getTime())&&(!minYear||date.getFullYear()>=minYear)&&(!maxYear||date.getFullYear()<=maxYear));},_getFormatConfig:function(inst){var shortYearCutoff=this._get(inst,"shortYearCutoff");shortYearCutoff=(typeof shortYearCutoff!=="string"?shortYearCutoff:new Date().getFullYear()%100+parseInt(shortYearCutoff,10));return{shortYearCutoff:shortYearCutoff,dayNamesShort:this._get(inst,"dayNamesShort"),dayNames:this._get(inst,"dayNames"),monthNamesShort:this._get(inst,"monthNamesShort"),monthNames:this._get(inst,"monthNames")};},_formatDate:function(inst,day,month,year){if(!day){inst.currentDay=inst.selectedDay;inst.currentMonth=inst.selectedMonth;inst.currentYear=inst.selectedYear;}
var date=(day?(typeof day==="object"?day:this._daylightSavingAdjust(new Date(year,month,day))):this._daylightSavingAdjust(new Date(inst.currentYear,inst.currentMonth,inst.currentDay)));return this.formatDate(this._get(inst,"dateFormat"),date,this._getFormatConfig(inst));}});function bindHover(dpDiv){var selector="button, .ui-datepicker-prev, .ui-datepicker-next, .ui-datepicker-calendar td a";return dpDiv.delegate(selector,"mouseout",function(){$(this).removeClass("ui-state-hover");if(this.className.indexOf("ui-datepicker-prev")!==-1){$(this).removeClass("ui-datepicker-prev-hover");}
if(this.className.indexOf("ui-datepicker-next")!==-1){$(this).removeClass("ui-datepicker-next-hover");}}).delegate(selector,"mouseover",function(){if(!$.datepicker._isDisabledDatepicker(instActive.inline?dpDiv.parent()[0]:instActive.input[0])){$(this).parents(".ui-datepicker-calendar").find("a").removeClass("ui-state-hover");$(this).addClass("ui-state-hover");if(this.className.indexOf("ui-datepicker-prev")!==-1){$(this).addClass("ui-datepicker-prev-hover");}
if(this.className.indexOf("ui-datepicker-next")!==-1){$(this).addClass("ui-datepicker-next-hover");}}});}
function extendRemove(target,props){$.extend(target,props);for(var name in props){if(props[name]==null){target[name]=props[name];}}
return target;}
$.fn.datepicker=function(options){if(!this.length){return this;}
if(!$.datepicker.initialized){$(document).mousedown($.datepicker._checkExternalClick);$.datepicker.initialized=true;}
if($("#"+$.datepicker._mainDivId).length===0){$("body").append($.datepicker.dpDiv);}
var otherArgs=Array.prototype.slice.call(arguments,1);if(typeof options==="string"&&(options==="isDisabled"||options==="getDate"||options==="widget")){return $.datepicker["_"+options+"Datepicker"].apply($.datepicker,[this[0]].concat(otherArgs));}
if(options==="option"&&arguments.length===2&&typeof arguments[1]==="string"){return $.datepicker["_"+options+"Datepicker"].apply($.datepicker,[this[0]].concat(otherArgs));}
return this.each(function(){typeof options==="string"?$.datepicker["_"+options+"Datepicker"].apply($.datepicker,[this].concat(otherArgs)):$.datepicker._attachDatepicker(this,options);});};$.datepicker=new Datepicker();$.datepicker.initialized=false;$.datepicker.uuid=new Date().getTime();$.datepicker.version="1.10.3";})(jQuery);(function($,undefined){var sizeRelatedOptions={buttons:true,height:true,maxHeight:true,maxWidth:true,minHeight:true,minWidth:true,width:true},resizableRelatedOptions={maxHeight:true,maxWidth:true,minHeight:true,minWidth:true};$.widget("ui.dialog",{version:"1.10.3",options:{appendTo:"body",autoOpen:true,buttons:[],closeOnEscape:true,closeText:"close",dialogClass:"",draggable:true,hide:null,height:"auto",maxHeight:null,maxWidth:null,minHeight:150,minWidth:150,modal:false,position:{my:"center",at:"center",of:window,collision:"fit",using:function(pos){var topOffset=$(this).css(pos).offset().top;if(topOffset<0){$(this).css("top",pos.top-topOffset);}}},resizable:true,show:null,title:null,width:300,beforeClose:null,close:null,drag:null,dragStart:null,dragStop:null,focus:null,open:null,resize:null,resizeStart:null,resizeStop:null},_create:function(){this.originalCss={display:this.element[0].style.display,width:this.element[0].style.width,minHeight:this.element[0].style.minHeight,maxHeight:this.element[0].style.maxHeight,height:this.element[0].style.height};this.originalPosition={parent:this.element.parent(),index:this.element.parent().children().index(this.element)};this.originalTitle=this.element.attr("title");this.options.title=this.options.title||this.originalTitle;this._createWrapper();this.element.show().removeAttr("title").addClass("ui-dialog-content ui-widget-content").appendTo(this.uiDialog);this._createTitlebar();this._createButtonPane();if(this.options.draggable&&$.fn.draggable){this._makeDraggable();}
if(this.options.resizable&&$.fn.resizable){this._makeResizable();}
this._isOpen=false;},_init:function(){if(this.options.autoOpen){this.open();}},_appendTo:function(){var element=this.options.appendTo;if(element&&(element.jquery||element.nodeType)){return $(element);}
return this.document.find(element||"body").eq(0);},_destroy:function(){var next,originalPosition=this.originalPosition;this._destroyOverlay();this.element.removeUniqueId().removeClass("ui-dialog-content ui-widget-content").css(this.originalCss).detach();this.uiDialog.stop(true,true).remove();if(this.originalTitle){this.element.attr("title",this.originalTitle);}
next=originalPosition.parent.children().eq(originalPosition.index);if(next.length&&next[0]!==this.element[0]){next.before(this.element);}else{originalPosition.parent.append(this.element);}},widget:function(){return this.uiDialog;},disable:$.noop,enable:$.noop,close:function(event){var that=this;if(!this._isOpen||this._trigger("beforeClose",event)===false){return;}
this._isOpen=false;this._destroyOverlay();if(!this.opener.filter(":focusable").focus().length){$(this.document[0].activeElement).blur();}
this._hide(this.uiDialog,this.options.hide,function(){that._trigger("close",event);});},isOpen:function(){return this._isOpen;},moveToTop:function(){this._moveToTop();},_moveToTop:function(event,silent){var moved=!!this.uiDialog.nextAll(":visible").insertBefore(this.uiDialog).length;if(moved&&!silent){this._trigger("focus",event);}
return moved;},open:function(){var that=this;if(this._isOpen){if(this._moveToTop()){this._focusTabbable();}
return;}
this._isOpen=true;this.opener=$(this.document[0].activeElement);this._size();this._position();this._createOverlay();this._moveToTop(null,true);this._show(this.uiDialog,this.options.show,function(){that._focusTabbable();that._trigger("focus");});this._trigger("open");},_focusTabbable:function(){var hasFocus=this.element.find("[autofocus]");if(!hasFocus.length){hasFocus=this.element.find(":tabbable");}
if(!hasFocus.length){hasFocus=this.uiDialogButtonPane.find(":tabbable");}
if(!hasFocus.length){hasFocus=this.uiDialogTitlebarClose.filter(":tabbable");}
if(!hasFocus.length){hasFocus=this.uiDialog;}
hasFocus.eq(0).focus();},_keepFocus:function(event){function checkFocus(){var activeElement=this.document[0].activeElement,isActive=this.uiDialog[0]===activeElement||$.contains(this.uiDialog[0],activeElement);if(!isActive){this._focusTabbable();}}
event.preventDefault();checkFocus.call(this);this._delay(checkFocus);},_createWrapper:function(){this.uiDialog=$("<div>").addClass("ui-dialog ui-widget ui-widget-content ui-corner-all ui-front "+
this.options.dialogClass).hide().attr({tabIndex:-1,role:"dialog"}).appendTo(this._appendTo());this._on(this.uiDialog,{keydown:function(event){if(this.options.closeOnEscape&&!event.isDefaultPrevented()&&event.keyCode&&event.keyCode===$.ui.keyCode.ESCAPE){event.preventDefault();this.close(event);return;}
if(event.keyCode!==$.ui.keyCode.TAB){return;}
var tabbables=this.uiDialog.find(":tabbable"),first=tabbables.filter(":first"),last=tabbables.filter(":last");if((event.target===last[0]||event.target===this.uiDialog[0])&&!event.shiftKey){first.focus(1);event.preventDefault();}else if((event.target===first[0]||event.target===this.uiDialog[0])&&event.shiftKey){last.focus(1);event.preventDefault();}},mousedown:function(event){if(this._moveToTop(event)){this._focusTabbable();}}});if(!this.element.find("[aria-describedby]").length){this.uiDialog.attr({"aria-describedby":this.element.uniqueId().attr("id")});}},_createTitlebar:function(){var uiDialogTitle;this.uiDialogTitlebar=$("<div>").addClass("ui-dialog-titlebar ui-widget-header ui-corner-all ui-helper-clearfix").prependTo(this.uiDialog);this._on(this.uiDialogTitlebar,{mousedown:function(event){if(!$(event.target).closest(".ui-dialog-titlebar-close")){this.uiDialog.focus();}}});this.uiDialogTitlebarClose=$("<button></button>").button({label:this.options.closeText,icons:{primary:"ui-icon-closethick"},text:false}).addClass("ui-dialog-titlebar-close").appendTo(this.uiDialogTitlebar);this._on(this.uiDialogTitlebarClose,{click:function(event){event.preventDefault();this.close(event);}});uiDialogTitle=$("<span>").uniqueId().addClass("ui-dialog-title").prependTo(this.uiDialogTitlebar);this._title(uiDialogTitle);this.uiDialog.attr({"aria-labelledby":uiDialogTitle.attr("id")});},_title:function(title){if(!this.options.title){title.html("&#160;");}
title.text(this.options.title);},_createButtonPane:function(){this.uiDialogButtonPane=$("<div>").addClass("ui-dialog-buttonpane ui-widget-content ui-helper-clearfix");this.uiButtonSet=$("<div>").addClass("ui-dialog-buttonset").appendTo(this.uiDialogButtonPane);this._createButtons();},_createButtons:function(){var that=this,buttons=this.options.buttons;this.uiDialogButtonPane.remove();this.uiButtonSet.empty();if($.isEmptyObject(buttons)||($.isArray(buttons)&&!buttons.length)){this.uiDialog.removeClass("ui-dialog-buttons");return;}
$.each(buttons,function(name,props){var click,buttonOptions;props=$.isFunction(props)?{click:props,text:name}:props;props=$.extend({type:"button"},props);click=props.click;props.click=function(){click.apply(that.element[0],arguments);};buttonOptions={icons:props.icons,text:props.showText};delete props.icons;delete props.showText;$("<button></button>",props).button(buttonOptions).appendTo(that.uiButtonSet);});this.uiDialog.addClass("ui-dialog-buttons");this.uiDialogButtonPane.appendTo(this.uiDialog);},_makeDraggable:function(){var that=this,options=this.options;function filteredUi(ui){return{position:ui.position,offset:ui.offset};}
this.uiDialog.draggable({cancel:".ui-dialog-content, .ui-dialog-titlebar-close",handle:".ui-dialog-titlebar",containment:"document",start:function(event,ui){$(this).addClass("ui-dialog-dragging");that._blockFrames();that._trigger("dragStart",event,filteredUi(ui));},drag:function(event,ui){that._trigger("drag",event,filteredUi(ui));},stop:function(event,ui){options.position=[ui.position.left-that.document.scrollLeft(),ui.position.top-that.document.scrollTop()];$(this).removeClass("ui-dialog-dragging");that._unblockFrames();that._trigger("dragStop",event,filteredUi(ui));}});},_makeResizable:function(){var that=this,options=this.options,handles=options.resizable,position=this.uiDialog.css("position"),resizeHandles=typeof handles==="string"?handles:"n,e,s,w,se,sw,ne,nw";function filteredUi(ui){return{originalPosition:ui.originalPosition,originalSize:ui.originalSize,position:ui.position,size:ui.size};}
this.uiDialog.resizable({cancel:".ui-dialog-content",containment:"document",alsoResize:this.element,maxWidth:options.maxWidth,maxHeight:options.maxHeight,minWidth:options.minWidth,minHeight:this._minHeight(),handles:resizeHandles,start:function(event,ui){$(this).addClass("ui-dialog-resizing");that._blockFrames();that._trigger("resizeStart",event,filteredUi(ui));},resize:function(event,ui){that._trigger("resize",event,filteredUi(ui));},stop:function(event,ui){options.height=$(this).height();options.width=$(this).width();$(this).removeClass("ui-dialog-resizing");that._unblockFrames();that._trigger("resizeStop",event,filteredUi(ui));}}).css("position",position);},_minHeight:function(){var options=this.options;return options.height==="auto"?options.minHeight:Math.min(options.minHeight,options.height);},_position:function(){var isVisible=this.uiDialog.is(":visible");if(!isVisible){this.uiDialog.show();}
this.uiDialog.position(this.options.position);if(!isVisible){this.uiDialog.hide();}},_setOptions:function(options){var that=this,resize=false,resizableOptions={};$.each(options,function(key,value){that._setOption(key,value);if(key in sizeRelatedOptions){resize=true;}
if(key in resizableRelatedOptions){resizableOptions[key]=value;}});if(resize){this._size();this._position();}
if(this.uiDialog.is(":data(ui-resizable)")){this.uiDialog.resizable("option",resizableOptions);}},_setOption:function(key,value){var isDraggable,isResizable,uiDialog=this.uiDialog;if(key==="dialogClass"){uiDialog.removeClass(this.options.dialogClass).addClass(value);}
if(key==="disabled"){return;}
this._super(key,value);if(key==="appendTo"){this.uiDialog.appendTo(this._appendTo());}
if(key==="buttons"){this._createButtons();}
if(key==="closeText"){this.uiDialogTitlebarClose.button({label:""+value});}
if(key==="draggable"){isDraggable=uiDialog.is(":data(ui-draggable)");if(isDraggable&&!value){uiDialog.draggable("destroy");}
if(!isDraggable&&value){this._makeDraggable();}}
if(key==="position"){this._position();}
if(key==="resizable"){isResizable=uiDialog.is(":data(ui-resizable)");if(isResizable&&!value){uiDialog.resizable("destroy");}
if(isResizable&&typeof value==="string"){uiDialog.resizable("option","handles",value);}
if(!isResizable&&value!==false){this._makeResizable();}}
if(key==="title"){this._title(this.uiDialogTitlebar.find(".ui-dialog-title"));}},_size:function(){var nonContentHeight,minContentHeight,maxContentHeight,options=this.options;this.element.show().css({width:"auto",minHeight:0,maxHeight:"none",height:0});if(options.minWidth>options.width){options.width=options.minWidth;}
nonContentHeight=this.uiDialog.css({height:"auto",width:options.width}).outerHeight();minContentHeight=Math.max(0,options.minHeight-nonContentHeight);maxContentHeight=typeof options.maxHeight==="number"?Math.max(0,options.maxHeight-nonContentHeight):"none";if(options.height==="auto"){this.element.css({minHeight:minContentHeight,maxHeight:maxContentHeight,height:"auto"});}else{this.element.height(Math.max(0,options.height-nonContentHeight));}
if(this.uiDialog.is(":data(ui-resizable)")){this.uiDialog.resizable("option","minHeight",this._minHeight());}},_blockFrames:function(){this.iframeBlocks=this.document.find("iframe").map(function(){var iframe=$(this);return $("<div>").css({position:"absolute",width:iframe.outerWidth(),height:iframe.outerHeight()}).appendTo(iframe.parent()).offset(iframe.offset())[0];});},_unblockFrames:function(){if(this.iframeBlocks){this.iframeBlocks.remove();delete this.iframeBlocks;}},_allowInteraction:function(event){if($(event.target).closest(".ui-dialog").length){return true;}
return!!$(event.target).closest(".ui-datepicker").length;},_createOverlay:function(){if(!this.options.modal){return;}
var that=this,widgetFullName=this.widgetFullName;if(!$.ui.dialog.overlayInstances){this._delay(function(){if($.ui.dialog.overlayInstances){this.document.bind("focusin.dialog",function(event){if(!that._allowInteraction(event)){event.preventDefault();$(".ui-dialog:visible:last .ui-dialog-content").data(widgetFullName)._focusTabbable();}});}});}
this.overlay=$("<div>").addClass("ui-widget-overlay ui-front").appendTo(this._appendTo());this._on(this.overlay,{mousedown:"_keepFocus"});$.ui.dialog.overlayInstances++;},_destroyOverlay:function(){if(!this.options.modal){return;}
if(this.overlay){$.ui.dialog.overlayInstances--;if(!$.ui.dialog.overlayInstances){this.document.unbind("focusin.dialog");}
this.overlay.remove();this.overlay=null;}}});$.ui.dialog.overlayInstances=0;if($.uiBackCompat!==false){$.widget("ui.dialog",$.ui.dialog,{_position:function(){var position=this.options.position,myAt=[],offset=[0,0],isVisible;if(position){if(typeof position==="string"||(typeof position==="object"&&"0"in position)){myAt=position.split?position.split(" "):[position[0],position[1]];if(myAt.length===1){myAt[1]=myAt[0];}
$.each(["left","top"],function(i,offsetPosition){if(+myAt[i]===myAt[i]){offset[i]=myAt[i];myAt[i]=offsetPosition;}});position={my:myAt[0]+(offset[0]<0?offset[0]:"+"+offset[0])+" "+
myAt[1]+(offset[1]<0?offset[1]:"+"+offset[1]),at:myAt.join(" ")};}
position=$.extend({},$.ui.dialog.prototype.options.position,position);}else{position=$.ui.dialog.prototype.options.position;}
isVisible=this.uiDialog.is(":visible");if(!isVisible){this.uiDialog.show();}
this.uiDialog.position(position);if(!isVisible){this.uiDialog.hide();}}});}}(jQuery));(function($,undefined){var rvertical=/up|down|vertical/,rpositivemotion=/up|left|vertical|horizontal/;$.effects.effect.blind=function(o,done){var el=$(this),props=["position","top","bottom","left","right","height","width"],mode=$.effects.setMode(el,o.mode||"hide"),direction=o.direction||"up",vertical=rvertical.test(direction),ref=vertical?"height":"width",ref2=vertical?"top":"left",motion=rpositivemotion.test(direction),animation={},show=mode==="show",wrapper,distance,margin;if(el.parent().is(".ui-effects-wrapper")){$.effects.save(el.parent(),props);}else{$.effects.save(el,props);}
el.show();wrapper=$.effects.createWrapper(el).css({overflow:"hidden"});distance=wrapper[ref]();margin=parseFloat(wrapper.css(ref2))||0;animation[ref]=show?distance:0;if(!motion){el.css(vertical?"bottom":"right",0).css(vertical?"top":"left","auto").css({position:"absolute"});animation[ref2]=show?margin:distance+margin;}
if(show){wrapper.css(ref,0);if(!motion){wrapper.css(ref2,margin+distance);}}
wrapper.animate(animation,{duration:o.duration,easing:o.easing,queue:false,complete:function(){if(mode==="hide"){el.hide();}
$.effects.restore(el,props);$.effects.removeWrapper(el);done();}});};})(jQuery);(function($,undefined){$.effects.effect.bounce=function(o,done){var el=$(this),props=["position","top","bottom","left","right","height","width"],mode=$.effects.setMode(el,o.mode||"effect"),hide=mode==="hide",show=mode==="show",direction=o.direction||"up",distance=o.distance,times=o.times||5,anims=times*2+(show||hide?1:0),speed=o.duration / anims,easing=o.easing,ref=(direction==="up"||direction==="down")?"top":"left",motion=(direction==="up"||direction==="left"),i,upAnim,downAnim,queue=el.queue(),queuelen=queue.length;if(show||hide){props.push("opacity");}
$.effects.save(el,props);el.show();$.effects.createWrapper(el);if(!distance){distance=el[ref==="top"?"outerHeight":"outerWidth"]()/ 3;}
if(show){downAnim={opacity:1};downAnim[ref]=0;el.css("opacity",0).css(ref,motion?-distance*2:distance*2).animate(downAnim,speed,easing);}
if(hide){distance=distance / Math.pow(2,times-1);}
downAnim={};downAnim[ref]=0;for(i=0;i<times;i++){upAnim={};upAnim[ref]=(motion?"-=":"+=")+distance;el.animate(upAnim,speed,easing).animate(downAnim,speed,easing);distance=hide?distance*2:distance / 2;}
if(hide){upAnim={opacity:0};upAnim[ref]=(motion?"-=":"+=")+distance;el.animate(upAnim,speed,easing);}
el.queue(function(){if(hide){el.hide();}
$.effects.restore(el,props);$.effects.removeWrapper(el);done();});if(queuelen>1){queue.splice.apply(queue,[1,0].concat(queue.splice(queuelen,anims+1)));}
el.dequeue();};})(jQuery);(function($,undefined){$.effects.effect.clip=function(o,done){var el=$(this),props=["position","top","bottom","left","right","height","width"],mode=$.effects.setMode(el,o.mode||"hide"),show=mode==="show",direction=o.direction||"vertical",vert=direction==="vertical",size=vert?"height":"width",position=vert?"top":"left",animation={},wrapper,animate,distance;$.effects.save(el,props);el.show();wrapper=$.effects.createWrapper(el).css({overflow:"hidden"});animate=(el[0].tagName==="IMG")?wrapper:el;distance=animate[size]();if(show){animate.css(size,0);animate.css(position,distance / 2);}
animation[size]=show?distance:0;animation[position]=show?0:distance / 2;animate.animate(animation,{queue:false,duration:o.duration,easing:o.easing,complete:function(){if(!show){el.hide();}
$.effects.restore(el,props);$.effects.removeWrapper(el);done();}});};})(jQuery);(function($,undefined){$.effects.effect.drop=function(o,done){var el=$(this),props=["position","top","bottom","left","right","opacity","height","width"],mode=$.effects.setMode(el,o.mode||"hide"),show=mode==="show",direction=o.direction||"left",ref=(direction==="up"||direction==="down")?"top":"left",motion=(direction==="up"||direction==="left")?"pos":"neg",animation={opacity:show?1:0},distance;$.effects.save(el,props);el.show();$.effects.createWrapper(el);distance=o.distance||el[ref==="top"?"outerHeight":"outerWidth"](true)/ 2;if(show){el.css("opacity",0).css(ref,motion==="pos"?-distance:distance);}
animation[ref]=(show?(motion==="pos"?"+=":"-="):(motion==="pos"?"-=":"+="))+
distance;el.animate(animation,{queue:false,duration:o.duration,easing:o.easing,complete:function(){if(mode==="hide"){el.hide();}
$.effects.restore(el,props);$.effects.removeWrapper(el);done();}});};})(jQuery);(function($,undefined){$.effects.effect.explode=function(o,done){var rows=o.pieces?Math.round(Math.sqrt(o.pieces)):3,cells=rows,el=$(this),mode=$.effects.setMode(el,o.mode||"hide"),show=mode==="show",offset=el.show().css("visibility","hidden").offset(),width=Math.ceil(el.outerWidth()/ cells),height=Math.ceil(el.outerHeight()/ rows),pieces=[],i,j,left,top,mx,my;function childComplete(){pieces.push(this);if(pieces.length===rows*cells){animComplete();}}
for(i=0;i<rows;i++){top=offset.top+i*height;my=i-(rows-1)/ 2;for(j=0;j<cells;j++){left=offset.left+j*width;mx=j-(cells-1)/ 2;el.clone().appendTo("body").wrap("<div></div>").css({position:"absolute",visibility:"visible",left:-j*width,top:-i*height}).parent().addClass("ui-effects-explode").css({position:"absolute",overflow:"hidden",width:width,height:height,left:left+(show?mx*width:0),top:top+(show?my*height:0),opacity:show?0:1}).animate({left:left+(show?0:mx*width),top:top+(show?0:my*height),opacity:show?1:0},o.duration||500,o.easing,childComplete);}}
function animComplete(){el.css({visibility:"visible"});$(pieces).remove();if(!show){el.hide();}
done();}};})(jQuery);(function($,undefined){$.effects.effect.fade=function(o,done){var el=$(this),mode=$.effects.setMode(el,o.mode||"toggle");el.animate({opacity:mode},{queue:false,duration:o.duration,easing:o.easing,complete:done});};})(jQuery);(function($,undefined){$.effects.effect.fold=function(o,done){var el=$(this),props=["position","top","bottom","left","right","height","width"],mode=$.effects.setMode(el,o.mode||"hide"),show=mode==="show",hide=mode==="hide",size=o.size||15,percent=/([0-9]+)%/.exec(size),horizFirst=!!o.horizFirst,widthFirst=show!==horizFirst,ref=widthFirst?["width","height"]:["height","width"],duration=o.duration / 2,wrapper,distance,animation1={},animation2={};$.effects.save(el,props);el.show();wrapper=$.effects.createWrapper(el).css({overflow:"hidden"});distance=widthFirst?[wrapper.width(),wrapper.height()]:[wrapper.height(),wrapper.width()];if(percent){size=parseInt(percent[1],10)/ 100*distance[hide?0:1];}
if(show){wrapper.css(horizFirst?{height:0,width:size}:{height:size,width:0});}
animation1[ref[0]]=show?distance[0]:size;animation2[ref[1]]=show?distance[1]:0;wrapper.animate(animation1,duration,o.easing).animate(animation2,duration,o.easing,function(){if(hide){el.hide();}
$.effects.restore(el,props);$.effects.removeWrapper(el);done();});};})(jQuery);(function($,undefined){$.effects.effect.highlight=function(o,done){var elem=$(this),props=["backgroundImage","backgroundColor","opacity"],mode=$.effects.setMode(elem,o.mode||"show"),animation={backgroundColor:elem.css("backgroundColor")};if(mode==="hide"){animation.opacity=0;}
$.effects.save(elem,props);elem.show().css({backgroundImage:"none",backgroundColor:o.color||"#ffff99"}).animate(animation,{queue:false,duration:o.duration,easing:o.easing,complete:function(){if(mode==="hide"){elem.hide();}
$.effects.restore(elem,props);done();}});};})(jQuery);(function($,undefined){$.effects.effect.pulsate=function(o,done){var elem=$(this),mode=$.effects.setMode(elem,o.mode||"show"),show=mode==="show",hide=mode==="hide",showhide=(show||mode==="hide"),anims=((o.times||5)*2)+(showhide?1:0),duration=o.duration / anims,animateTo=0,queue=elem.queue(),queuelen=queue.length,i;if(show||!elem.is(":visible")){elem.css("opacity",0).show();animateTo=1;}
for(i=1;i<anims;i++){elem.animate({opacity:animateTo},duration,o.easing);animateTo=1-animateTo;}
elem.animate({opacity:animateTo},duration,o.easing);elem.queue(function(){if(hide){elem.hide();}
done();});if(queuelen>1){queue.splice.apply(queue,[1,0].concat(queue.splice(queuelen,anims+1)));}
elem.dequeue();};})(jQuery);(function($,undefined){$.effects.effect.puff=function(o,done){var elem=$(this),mode=$.effects.setMode(elem,o.mode||"hide"),hide=mode==="hide",percent=parseInt(o.percent,10)||150,factor=percent / 100,original={height:elem.height(),width:elem.width(),outerHeight:elem.outerHeight(),outerWidth:elem.outerWidth()};$.extend(o,{effect:"scale",queue:false,fade:true,mode:mode,complete:done,percent:hide?percent:100,from:hide?original:{height:original.height*factor,width:original.width*factor,outerHeight:original.outerHeight*factor,outerWidth:original.outerWidth*factor}});elem.effect(o);};$.effects.effect.scale=function(o,done){var el=$(this),options=$.extend(true,{},o),mode=$.effects.setMode(el,o.mode||"effect"),percent=parseInt(o.percent,10)||(parseInt(o.percent,10)===0?0:(mode==="hide"?0:100)),direction=o.direction||"both",origin=o.origin,original={height:el.height(),width:el.width(),outerHeight:el.outerHeight(),outerWidth:el.outerWidth()},factor={y:direction!=="horizontal"?(percent / 100):1,x:direction!=="vertical"?(percent / 100):1};options.effect="size";options.queue=false;options.complete=done;if(mode!=="effect"){options.origin=origin||["middle","center"];options.restore=true;}
options.from=o.from||(mode==="show"?{height:0,width:0,outerHeight:0,outerWidth:0}:original);options.to={height:original.height*factor.y,width:original.width*factor.x,outerHeight:original.outerHeight*factor.y,outerWidth:original.outerWidth*factor.x};if(options.fade){if(mode==="show"){options.from.opacity=0;options.to.opacity=1;}
if(mode==="hide"){options.from.opacity=1;options.to.opacity=0;}}
el.effect(options);};$.effects.effect.size=function(o,done){var original,baseline,factor,el=$(this),props0=["position","top","bottom","left","right","width","height","overflow","opacity"],props1=["position","top","bottom","left","right","overflow","opacity"],props2=["width","height","overflow"],cProps=["fontSize"],vProps=["borderTopWidth","borderBottomWidth","paddingTop","paddingBottom"],hProps=["borderLeftWidth","borderRightWidth","paddingLeft","paddingRight"],mode=$.effects.setMode(el,o.mode||"effect"),restore=o.restore||mode!=="effect",scale=o.scale||"both",origin=o.origin||["middle","center"],position=el.css("position"),props=restore?props0:props1,zero={height:0,width:0,outerHeight:0,outerWidth:0};if(mode==="show"){el.show();}
original={height:el.height(),width:el.width(),outerHeight:el.outerHeight(),outerWidth:el.outerWidth()};if(o.mode==="toggle"&&mode==="show"){el.from=o.to||zero;el.to=o.from||original;}else{el.from=o.from||(mode==="show"?zero:original);el.to=o.to||(mode==="hide"?zero:original);}
factor={from:{y:el.from.height / original.height,x:el.from.width / original.width},to:{y:el.to.height / original.height,x:el.to.width / original.width}};if(scale==="box"||scale==="both"){if(factor.from.y!==factor.to.y){props=props.concat(vProps);el.from=$.effects.setTransition(el,vProps,factor.from.y,el.from);el.to=$.effects.setTransition(el,vProps,factor.to.y,el.to);}
if(factor.from.x!==factor.to.x){props=props.concat(hProps);el.from=$.effects.setTransition(el,hProps,factor.from.x,el.from);el.to=$.effects.setTransition(el,hProps,factor.to.x,el.to);}}
if(scale==="content"||scale==="both"){if(factor.from.y!==factor.to.y){props=props.concat(cProps).concat(props2);el.from=$.effects.setTransition(el,cProps,factor.from.y,el.from);el.to=$.effects.setTransition(el,cProps,factor.to.y,el.to);}}
$.effects.save(el,props);el.show();$.effects.createWrapper(el);el.css("overflow","hidden").css(el.from);if(origin){baseline=$.effects.getBaseline(origin,original);el.from.top=(original.outerHeight-el.outerHeight())*baseline.y;el.from.left=(original.outerWidth-el.outerWidth())*baseline.x;el.to.top=(original.outerHeight-el.to.outerHeight)*baseline.y;el.to.left=(original.outerWidth-el.to.outerWidth)*baseline.x;}
el.css(el.from);if(scale==="content"||scale==="both"){vProps=vProps.concat(["marginTop","marginBottom"]).concat(cProps);hProps=hProps.concat(["marginLeft","marginRight"]);props2=props0.concat(vProps).concat(hProps);el.find("*[width]").each(function(){var child=$(this),c_original={height:child.height(),width:child.width(),outerHeight:child.outerHeight(),outerWidth:child.outerWidth()};if(restore){$.effects.save(child,props2);}
child.from={height:c_original.height*factor.from.y,width:c_original.width*factor.from.x,outerHeight:c_original.outerHeight*factor.from.y,outerWidth:c_original.outerWidth*factor.from.x};child.to={height:c_original.height*factor.to.y,width:c_original.width*factor.to.x,outerHeight:c_original.height*factor.to.y,outerWidth:c_original.width*factor.to.x};if(factor.from.y!==factor.to.y){child.from=$.effects.setTransition(child,vProps,factor.from.y,child.from);child.to=$.effects.setTransition(child,vProps,factor.to.y,child.to);}
if(factor.from.x!==factor.to.x){child.from=$.effects.setTransition(child,hProps,factor.from.x,child.from);child.to=$.effects.setTransition(child,hProps,factor.to.x,child.to);}
child.css(child.from);child.animate(child.to,o.duration,o.easing,function(){if(restore){$.effects.restore(child,props2);}});});}
el.animate(el.to,{queue:false,duration:o.duration,easing:o.easing,complete:function(){if(el.to.opacity===0){el.css("opacity",el.from.opacity);}
if(mode==="hide"){el.hide();}
$.effects.restore(el,props);if(!restore){if(position==="static"){el.css({position:"relative",top:el.to.top,left:el.to.left});}else{$.each(["top","left"],function(idx,pos){el.css(pos,function(_,str){var val=parseInt(str,10),toRef=idx?el.to.left:el.to.top;if(str==="auto"){return toRef+"px";}
return val+toRef+"px";});});}}
$.effects.removeWrapper(el);done();}});};})(jQuery);(function($,undefined){$.effects.effect.shake=function(o,done){var el=$(this),props=["position","top","bottom","left","right","height","width"],mode=$.effects.setMode(el,o.mode||"effect"),direction=o.direction||"left",distance=o.distance||20,times=o.times||3,anims=times*2+1,speed=Math.round(o.duration/anims),ref=(direction==="up"||direction==="down")?"top":"left",positiveMotion=(direction==="up"||direction==="left"),animation={},animation1={},animation2={},i,queue=el.queue(),queuelen=queue.length;$.effects.save(el,props);el.show();$.effects.createWrapper(el);animation[ref]=(positiveMotion?"-=":"+=")+distance;animation1[ref]=(positiveMotion?"+=":"-=")+distance*2;animation2[ref]=(positiveMotion?"-=":"+=")+distance*2;el.animate(animation,speed,o.easing);for(i=1;i<times;i++){el.animate(animation1,speed,o.easing).animate(animation2,speed,o.easing);}
el.animate(animation1,speed,o.easing).animate(animation,speed / 2,o.easing).queue(function(){if(mode==="hide"){el.hide();}
$.effects.restore(el,props);$.effects.removeWrapper(el);done();});if(queuelen>1){queue.splice.apply(queue,[1,0].concat(queue.splice(queuelen,anims+1)));}
el.dequeue();};})(jQuery);(function($,undefined){$.effects.effect.slide=function(o,done){var el=$(this),props=["position","top","bottom","left","right","width","height"],mode=$.effects.setMode(el,o.mode||"show"),show=mode==="show",direction=o.direction||"left",ref=(direction==="up"||direction==="down")?"top":"left",positiveMotion=(direction==="up"||direction==="left"),distance,animation={};$.effects.save(el,props);el.show();distance=o.distance||el[ref==="top"?"outerHeight":"outerWidth"](true);$.effects.createWrapper(el).css({overflow:"hidden"});if(show){el.css(ref,positiveMotion?(isNaN(distance)?"-"+distance:-distance):distance);}
animation[ref]=(show?(positiveMotion?"+=":"-="):(positiveMotion?"-=":"+="))+
distance;el.animate(animation,{queue:false,duration:o.duration,easing:o.easing,complete:function(){if(mode==="hide"){el.hide();}
$.effects.restore(el,props);$.effects.removeWrapper(el);done();}});};})(jQuery);(function($,undefined){$.effects.effect.transfer=function(o,done){var elem=$(this),target=$(o.to),targetFixed=target.css("position")==="fixed",body=$("body"),fixTop=targetFixed?body.scrollTop():0,fixLeft=targetFixed?body.scrollLeft():0,endPosition=target.offset(),animation={top:endPosition.top-fixTop,left:endPosition.left-fixLeft,height:target.innerHeight(),width:target.innerWidth()},startPosition=elem.offset(),transfer=$("<div class='ui-effects-transfer'></div>").appendTo(document.body).addClass(o.className).css({top:startPosition.top-fixTop,left:startPosition.left-fixLeft,height:elem.innerHeight(),width:elem.innerWidth(),position:targetFixed?"fixed":"absolute"}).animate(animation,o.duration,o.easing,function(){transfer.remove();done();});};})(jQuery);(function($,undefined){$.widget("ui.menu",{version:"1.10.3",defaultElement:"<ul>",delay:300,options:{icons:{submenu:"ui-icon-carat-1-e"},menus:"ul",position:{my:"left top",at:"right top"},role:"menu",blur:null,focus:null,select:null},_create:function(){this.activeMenu=this.element;this.mouseHandled=false;this.element.uniqueId().addClass("ui-menu ui-widget ui-widget-content ui-corner-all").toggleClass("ui-menu-icons",!!this.element.find(".ui-icon").length).attr({role:this.options.role,tabIndex:0}).bind("click"+this.eventNamespace,$.proxy(function(event){if(this.options.disabled){event.preventDefault();}},this));if(this.options.disabled){this.element.addClass("ui-state-disabled").attr("aria-disabled","true");}
this._on({"mousedown .ui-menu-item > a":function(event){event.preventDefault();},"click .ui-state-disabled > a":function(event){event.preventDefault();},"click .ui-menu-item:has(a)":function(event){var target=$(event.target).closest(".ui-menu-item");if(!this.mouseHandled&&target.not(".ui-state-disabled").length){this.mouseHandled=true;this.select(event);if(target.has(".ui-menu").length){this.expand(event);}else if(!this.element.is(":focus")){this.element.trigger("focus",[true]);if(this.active&&this.active.parents(".ui-menu").length===1){clearTimeout(this.timer);}}}},"mouseenter .ui-menu-item":function(event){var target=$(event.currentTarget);target.siblings().children(".ui-state-active").removeClass("ui-state-active");this.focus(event,target);},mouseleave:"collapseAll","mouseleave .ui-menu":"collapseAll",focus:function(event,keepActiveItem){var item=this.active||this.element.children(".ui-menu-item").eq(0);if(!keepActiveItem){this.focus(event,item);}},blur:function(event){this._delay(function(){if(!$.contains(this.element[0],this.document[0].activeElement)){this.collapseAll(event);}});},keydown:"_keydown"});this.refresh();this._on(this.document,{click:function(event){if(!$(event.target).closest(".ui-menu").length){this.collapseAll(event);}
this.mouseHandled=false;}});},_destroy:function(){this.element.removeAttr("aria-activedescendant").find(".ui-menu").addBack().removeClass("ui-menu ui-widget ui-widget-content ui-corner-all ui-menu-icons").removeAttr("role").removeAttr("tabIndex").removeAttr("aria-labelledby").removeAttr("aria-expanded").removeAttr("aria-hidden").removeAttr("aria-disabled").removeUniqueId().show();this.element.find(".ui-menu-item").removeClass("ui-menu-item").removeAttr("role").removeAttr("aria-disabled").children("a").removeUniqueId().removeClass("ui-corner-all ui-state-hover").removeAttr("tabIndex").removeAttr("role").removeAttr("aria-haspopup").children().each(function(){var elem=$(this);if(elem.data("ui-menu-submenu-carat")){elem.remove();}});this.element.find(".ui-menu-divider").removeClass("ui-menu-divider ui-widget-content");},_keydown:function(event){var match,prev,character,skip,regex,preventDefault=true;function escape(value){return value.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&");}
switch(event.keyCode){case $.ui.keyCode.PAGE_UP:this.previousPage(event);break;case $.ui.keyCode.PAGE_DOWN:this.nextPage(event);break;case $.ui.keyCode.HOME:this._move("first","first",event);break;case $.ui.keyCode.END:this._move("last","last",event);break;case $.ui.keyCode.UP:this.previous(event);break;case $.ui.keyCode.DOWN:this.next(event);break;case $.ui.keyCode.LEFT:this.collapse(event);break;case $.ui.keyCode.RIGHT:if(this.active&&!this.active.is(".ui-state-disabled")){this.expand(event);}
break;case $.ui.keyCode.ENTER:case $.ui.keyCode.SPACE:this._activate(event);break;case $.ui.keyCode.ESCAPE:this.collapse(event);break;default:preventDefault=false;prev=this.previousFilter||"";character=String.fromCharCode(event.keyCode);skip=false;clearTimeout(this.filterTimer);if(character===prev){skip=true;}else{character=prev+character;}
regex=new RegExp("^"+escape(character),"i");match=this.activeMenu.children(".ui-menu-item").filter(function(){return regex.test($(this).children("a").text());});match=skip&&match.index(this.active.next())!==-1?this.active.nextAll(".ui-menu-item"):match;if(!match.length){character=String.fromCharCode(event.keyCode);regex=new RegExp("^"+escape(character),"i");match=this.activeMenu.children(".ui-menu-item").filter(function(){return regex.test($(this).children("a").text());});}
if(match.length){this.focus(event,match);if(match.length>1){this.previousFilter=character;this.filterTimer=this._delay(function(){delete this.previousFilter;},1000);}else{delete this.previousFilter;}}else{delete this.previousFilter;}}
if(preventDefault){event.preventDefault();}},_activate:function(event){if(!this.active.is(".ui-state-disabled")){if(this.active.children("a[aria-haspopup='true']").length){this.expand(event);}else{this.select(event);}}},refresh:function(){var menus,icon=this.options.icons.submenu,submenus=this.element.find(this.options.menus);submenus.filter(":not(.ui-menu)").addClass("ui-menu ui-widget ui-widget-content ui-corner-all").hide().attr({role:this.options.role,"aria-hidden":"true","aria-expanded":"false"}).each(function(){var menu=$(this),item=menu.prev("a"),submenuCarat=$("<span>").addClass("ui-menu-icon ui-icon "+icon).data("ui-menu-submenu-carat",true);item.attr("aria-haspopup","true").prepend(submenuCarat);menu.attr("aria-labelledby",item.attr("id"));});menus=submenus.add(this.element);menus.children(":not(.ui-menu-item):has(a)").addClass("ui-menu-item").attr("role","presentation").children("a").uniqueId().addClass("ui-corner-all").attr({tabIndex:-1,role:this._itemRole()});menus.children(":not(.ui-menu-item)").each(function(){var item=$(this);if(!/[^\-\u2014\u2013\s]/.test(item.text())){item.addClass("ui-widget-content ui-menu-divider");}});menus.children(".ui-state-disabled").attr("aria-disabled","true");if(this.active&&!$.contains(this.element[0],this.active[0])){this.blur();}},_itemRole:function(){return{menu:"menuitem",listbox:"option"}[this.options.role];},_setOption:function(key,value){if(key==="icons"){this.element.find(".ui-menu-icon").removeClass(this.options.icons.submenu).addClass(value.submenu);}
this._super(key,value);},focus:function(event,item){var nested,focused;this.blur(event,event&&event.type==="focus");this._scrollIntoView(item);this.active=item.first();focused=this.active.children("a").addClass("ui-state-focus");if(this.options.role){this.element.attr("aria-activedescendant",focused.attr("id"));}
this.active.parent().closest(".ui-menu-item").children("a:first").addClass("ui-state-active");if(event&&event.type==="keydown"){this._close();}else{this.timer=this._delay(function(){this._close();},this.delay);}
nested=item.children(".ui-menu");if(nested.length&&(/^mouse/.test(event.type))){this._startOpening(nested);}
this.activeMenu=item.parent();this._trigger("focus",event,{item:item});},_scrollIntoView:function(item){var borderTop,paddingTop,offset,scroll,elementHeight,itemHeight;if(this._hasScroll()){borderTop=parseFloat($.css(this.activeMenu[0],"borderTopWidth"))||0;paddingTop=parseFloat($.css(this.activeMenu[0],"paddingTop"))||0;offset=item.offset().top-this.activeMenu.offset().top-borderTop-paddingTop;scroll=this.activeMenu.scrollTop();elementHeight=this.activeMenu.height();itemHeight=item.height();if(offset<0){this.activeMenu.scrollTop(scroll+offset);}else if(offset+itemHeight>elementHeight){this.activeMenu.scrollTop(scroll+offset-elementHeight+itemHeight);}}},blur:function(event,fromFocus){if(!fromFocus){clearTimeout(this.timer);}
if(!this.active){return;}
this.active.children("a").removeClass("ui-state-focus");this.active=null;this._trigger("blur",event,{item:this.active});},_startOpening:function(submenu){clearTimeout(this.timer);if(submenu.attr("aria-hidden")!=="true"){return;}
this.timer=this._delay(function(){this._close();this._open(submenu);},this.delay);},_open:function(submenu){var position=$.extend({of:this.active},this.options.position);clearTimeout(this.timer);this.element.find(".ui-menu").not(submenu.parents(".ui-menu")).hide().attr("aria-hidden","true");submenu.show().removeAttr("aria-hidden").attr("aria-expanded","true").position(position);},collapseAll:function(event,all){clearTimeout(this.timer);this.timer=this._delay(function(){var currentMenu=all?this.element:$(event&&event.target).closest(this.element.find(".ui-menu"));if(!currentMenu.length){currentMenu=this.element;}
this._close(currentMenu);this.blur(event);this.activeMenu=currentMenu;},this.delay);},_close:function(startMenu){if(!startMenu){startMenu=this.active?this.active.parent():this.element;}
startMenu.find(".ui-menu").hide().attr("aria-hidden","true").attr("aria-expanded","false").end().find("a.ui-state-active").removeClass("ui-state-active");},collapse:function(event){var newItem=this.active&&this.active.parent().closest(".ui-menu-item",this.element);if(newItem&&newItem.length){this._close();this.focus(event,newItem);}},expand:function(event){var newItem=this.active&&this.active.children(".ui-menu ").children(".ui-menu-item").first();if(newItem&&newItem.length){this._open(newItem.parent());this._delay(function(){this.focus(event,newItem);});}},next:function(event){this._move("next","first",event);},previous:function(event){this._move("prev","last",event);},isFirstItem:function(){return this.active&&!this.active.prevAll(".ui-menu-item").length;},isLastItem:function(){return this.active&&!this.active.nextAll(".ui-menu-item").length;},_move:function(direction,filter,event){var next;if(this.active){if(direction==="first"||direction==="last"){next=this.active
[direction==="first"?"prevAll":"nextAll"](".ui-menu-item").eq(-1);}else{next=this.active
[direction+"All"](".ui-menu-item").eq(0);}}
if(!next||!next.length||!this.active){next=this.activeMenu.children(".ui-menu-item")[filter]();}
this.focus(event,next);},nextPage:function(event){var item,base,height;if(!this.active){this.next(event);return;}
if(this.isLastItem()){return;}
if(this._hasScroll()){base=this.active.offset().top;height=this.element.height();this.active.nextAll(".ui-menu-item").each(function(){item=$(this);return item.offset().top-base-height<0;});this.focus(event,item);}else{this.focus(event,this.activeMenu.children(".ui-menu-item")
[!this.active?"first":"last"]());}},previousPage:function(event){var item,base,height;if(!this.active){this.next(event);return;}
if(this.isFirstItem()){return;}
if(this._hasScroll()){base=this.active.offset().top;height=this.element.height();this.active.prevAll(".ui-menu-item").each(function(){item=$(this);return item.offset().top-base+height>0;});this.focus(event,item);}else{this.focus(event,this.activeMenu.children(".ui-menu-item").first());}},_hasScroll:function(){return this.element.outerHeight()<this.element.prop("scrollHeight");},select:function(event){this.active=this.active||$(event.target).closest(".ui-menu-item");var ui={item:this.active};if(!this.active.has(".ui-menu").length){this.collapseAll(event,true);}
this._trigger("select",event,ui);}});}(jQuery));(function($,undefined){$.ui=$.ui||{};var cachedScrollbarWidth,max=Math.max,abs=Math.abs,round=Math.round,rhorizontal=/left|center|right/,rvertical=/top|center|bottom/,roffset=/[\+\-]\d+(\.[\d]+)?%?/,rposition=/^\w+/,rpercent=/%$/,_position=$.fn.position;function getOffsets(offsets,width,height){return[parseFloat(offsets[0])*(rpercent.test(offsets[0])?width / 100:1),parseFloat(offsets[1])*(rpercent.test(offsets[1])?height / 100:1)];}
function parseCss(element,property){return parseInt($.css(element,property),10)||0;}
function getDimensions(elem){var raw=elem[0];if(raw.nodeType===9){return{width:elem.width(),height:elem.height(),offset:{top:0,left:0}};}
if($.isWindow(raw)){return{width:elem.width(),height:elem.height(),offset:{top:elem.scrollTop(),left:elem.scrollLeft()}};}
if(raw.preventDefault){return{width:0,height:0,offset:{top:raw.pageY,left:raw.pageX}};}
return{width:elem.outerWidth(),height:elem.outerHeight(),offset:elem.offset()};}
$.position={scrollbarWidth:function(){if(cachedScrollbarWidth!==undefined){return cachedScrollbarWidth;}
var w1,w2,div=$("<div style='display:block;width:50px;height:50px;overflow:hidden;'><div style='height:100px;width:auto;'></div></div>"),innerDiv=div.children()[0];$("body").append(div);w1=innerDiv.offsetWidth;div.css("overflow","scroll");w2=innerDiv.offsetWidth;if(w1===w2){w2=div[0].clientWidth;}
div.remove();return(cachedScrollbarWidth=w1-w2);},getScrollInfo:function(within){var overflowX=within.isWindow?"":within.element.css("overflow-x"),overflowY=within.isWindow?"":within.element.css("overflow-y"),hasOverflowX=overflowX==="scroll"||(overflowX==="auto"&&within.width<within.element[0].scrollWidth),hasOverflowY=overflowY==="scroll"||(overflowY==="auto"&&within.height<within.element[0].scrollHeight);return{width:hasOverflowY?$.position.scrollbarWidth():0,height:hasOverflowX?$.position.scrollbarWidth():0};},getWithinInfo:function(element){var withinElement=$(element||window),isWindow=$.isWindow(withinElement[0]);return{element:withinElement,isWindow:isWindow,offset:withinElement.offset()||{left:0,top:0},scrollLeft:withinElement.scrollLeft(),scrollTop:withinElement.scrollTop(),width:isWindow?withinElement.width():withinElement.outerWidth(),height:isWindow?withinElement.height():withinElement.outerHeight()};}};$.fn.position=function(options){if(!options||!options.of){return _position.apply(this,arguments);}
options=$.extend({},options);var atOffset,targetWidth,targetHeight,targetOffset,basePosition,dimensions,target=$(options.of),within=$.position.getWithinInfo(options.within),scrollInfo=$.position.getScrollInfo(within),collision=(options.collision||"flip").split(" "),offsets={};dimensions=getDimensions(target);if(target[0].preventDefault){options.at="left top";}
targetWidth=dimensions.width;targetHeight=dimensions.height;targetOffset=dimensions.offset;basePosition=$.extend({},targetOffset);$.each(["my","at"],function(){var pos=(options[this]||"").split(" "),horizontalOffset,verticalOffset;if(pos.length===1){pos=rhorizontal.test(pos[0])?pos.concat(["center"]):rvertical.test(pos[0])?["center"].concat(pos):["center","center"];}
pos[0]=rhorizontal.test(pos[0])?pos[0]:"center";pos[1]=rvertical.test(pos[1])?pos[1]:"center";horizontalOffset=roffset.exec(pos[0]);verticalOffset=roffset.exec(pos[1]);offsets[this]=[horizontalOffset?horizontalOffset[0]:0,verticalOffset?verticalOffset[0]:0];options[this]=[rposition.exec(pos[0])[0],rposition.exec(pos[1])[0]];});if(collision.length===1){collision[1]=collision[0];}
if(options.at[0]==="right"){basePosition.left+=targetWidth;}else if(options.at[0]==="center"){basePosition.left+=targetWidth / 2;}
if(options.at[1]==="bottom"){basePosition.top+=targetHeight;}else if(options.at[1]==="center"){basePosition.top+=targetHeight / 2;}
atOffset=getOffsets(offsets.at,targetWidth,targetHeight);basePosition.left+=atOffset[0];basePosition.top+=atOffset[1];return this.each(function(){var collisionPosition,using,elem=$(this),elemWidth=elem.outerWidth(),elemHeight=elem.outerHeight(),marginLeft=parseCss(this,"marginLeft"),marginTop=parseCss(this,"marginTop"),collisionWidth=elemWidth+marginLeft+parseCss(this,"marginRight")+scrollInfo.width,collisionHeight=elemHeight+marginTop+parseCss(this,"marginBottom")+scrollInfo.height,position=$.extend({},basePosition),myOffset=getOffsets(offsets.my,elem.outerWidth(),elem.outerHeight());if(options.my[0]==="right"){position.left-=elemWidth;}else if(options.my[0]==="center"){position.left-=elemWidth / 2;}
if(options.my[1]==="bottom"){position.top-=elemHeight;}else if(options.my[1]==="center"){position.top-=elemHeight / 2;}
position.left+=myOffset[0];position.top+=myOffset[1];if(!$.support.offsetFractions){position.left=round(position.left);position.top=round(position.top);}
collisionPosition={marginLeft:marginLeft,marginTop:marginTop};$.each(["left","top"],function(i,dir){if($.ui.position[collision[i]]){$.ui.position[collision[i]][dir](position,{targetWidth:targetWidth,targetHeight:targetHeight,elemWidth:elemWidth,elemHeight:elemHeight,collisionPosition:collisionPosition,collisionWidth:collisionWidth,collisionHeight:collisionHeight,offset:[atOffset[0]+myOffset[0],atOffset[1]+myOffset[1]],my:options.my,at:options.at,within:within,elem:elem});}});if(options.using){using=function(props){var left=targetOffset.left-position.left,right=left+targetWidth-elemWidth,top=targetOffset.top-position.top,bottom=top+targetHeight-elemHeight,feedback={target:{element:target,left:targetOffset.left,top:targetOffset.top,width:targetWidth,height:targetHeight},element:{element:elem,left:position.left,top:position.top,width:elemWidth,height:elemHeight},horizontal:right<0?"left":left>0?"right":"center",vertical:bottom<0?"top":top>0?"bottom":"middle"};if(targetWidth<elemWidth&&abs(left+right)<targetWidth){feedback.horizontal="center";}
if(targetHeight<elemHeight&&abs(top+bottom)<targetHeight){feedback.vertical="middle";}
if(max(abs(left),abs(right))>max(abs(top),abs(bottom))){feedback.important="horizontal";}else{feedback.important="vertical";}
options.using.call(this,props,feedback);};}
elem.offset($.extend(position,{using:using}));});};$.ui.position={fit:{left:function(position,data){var within=data.within,withinOffset=within.isWindow?within.scrollLeft:within.offset.left,outerWidth=within.width,collisionPosLeft=position.left-data.collisionPosition.marginLeft,overLeft=withinOffset-collisionPosLeft,overRight=collisionPosLeft+data.collisionWidth-outerWidth-withinOffset,newOverRight;if(data.collisionWidth>outerWidth){if(overLeft>0&&overRight<=0){newOverRight=position.left+overLeft+data.collisionWidth-outerWidth-withinOffset;position.left+=overLeft-newOverRight;}else if(overRight>0&&overLeft<=0){position.left=withinOffset;}else{if(overLeft>overRight){position.left=withinOffset+outerWidth-data.collisionWidth;}else{position.left=withinOffset;}}}else if(overLeft>0){position.left+=overLeft;}else if(overRight>0){position.left-=overRight;}else{position.left=max(position.left-collisionPosLeft,position.left);}},top:function(position,data){var within=data.within,withinOffset=within.isWindow?within.scrollTop:within.offset.top,outerHeight=data.within.height,collisionPosTop=position.top-data.collisionPosition.marginTop,overTop=withinOffset-collisionPosTop,overBottom=collisionPosTop+data.collisionHeight-outerHeight-withinOffset,newOverBottom;if(data.collisionHeight>outerHeight){if(overTop>0&&overBottom<=0){newOverBottom=position.top+overTop+data.collisionHeight-outerHeight-withinOffset;position.top+=overTop-newOverBottom;}else if(overBottom>0&&overTop<=0){position.top=withinOffset;}else{if(overTop>overBottom){position.top=withinOffset+outerHeight-data.collisionHeight;}else{position.top=withinOffset;}}}else if(overTop>0){position.top+=overTop;}else if(overBottom>0){position.top-=overBottom;}else{position.top=max(position.top-collisionPosTop,position.top);}}},flip:{left:function(position,data){var within=data.within,withinOffset=within.offset.left+within.scrollLeft,outerWidth=within.width,offsetLeft=within.isWindow?within.scrollLeft:within.offset.left,collisionPosLeft=position.left-data.collisionPosition.marginLeft,overLeft=collisionPosLeft-offsetLeft,overRight=collisionPosLeft+data.collisionWidth-outerWidth-offsetLeft,myOffset=data.my[0]==="left"?-data.elemWidth:data.my[0]==="right"?data.elemWidth:0,atOffset=data.at[0]==="left"?data.targetWidth:data.at[0]==="right"?-data.targetWidth:0,offset=-2*data.offset[0],newOverRight,newOverLeft;if(overLeft<0){newOverRight=position.left+myOffset+atOffset+offset+data.collisionWidth-outerWidth-withinOffset;if(newOverRight<0||newOverRight<abs(overLeft)){position.left+=myOffset+atOffset+offset;}}
else if(overRight>0){newOverLeft=position.left-data.collisionPosition.marginLeft+myOffset+atOffset+offset-offsetLeft;if(newOverLeft>0||abs(newOverLeft)<overRight){position.left+=myOffset+atOffset+offset;}}},top:function(position,data){var within=data.within,withinOffset=within.offset.top+within.scrollTop,outerHeight=within.height,offsetTop=within.isWindow?within.scrollTop:within.offset.top,collisionPosTop=position.top-data.collisionPosition.marginTop,overTop=collisionPosTop-offsetTop,overBottom=collisionPosTop+data.collisionHeight-outerHeight-offsetTop,top=data.my[1]==="top",myOffset=top?-data.elemHeight:data.my[1]==="bottom"?data.elemHeight:0,atOffset=data.at[1]==="top"?data.targetHeight:data.at[1]==="bottom"?-data.targetHeight:0,offset=-2*data.offset[1],newOverTop,newOverBottom;if(overTop<0){newOverBottom=position.top+myOffset+atOffset+offset+data.collisionHeight-outerHeight-withinOffset;if((position.top+myOffset+atOffset+offset)>overTop&&(newOverBottom<0||newOverBottom<abs(overTop))){position.top+=myOffset+atOffset+offset;}}
else if(overBottom>0){newOverTop=position.top-data.collisionPosition.marginTop+myOffset+atOffset+offset-offsetTop;if((position.top+myOffset+atOffset+offset)>overBottom&&(newOverTop>0||abs(newOverTop)<overBottom)){position.top+=myOffset+atOffset+offset;}}}},flipfit:{left:function(){$.ui.position.flip.left.apply(this,arguments);$.ui.position.fit.left.apply(this,arguments);},top:function(){$.ui.position.flip.top.apply(this,arguments);$.ui.position.fit.top.apply(this,arguments);}}};(function(){var testElement,testElementParent,testElementStyle,offsetLeft,i,body=document.getElementsByTagName("body")[0],div=document.createElement("div");testElement=document.createElement(body?"div":"body");testElementStyle={visibility:"hidden",width:0,height:0,border:0,margin:0,background:"none"};if(body){$.extend(testElementStyle,{position:"absolute",left:"-1000px",top:"-1000px"});}
for(i in testElementStyle){testElement.style[i]=testElementStyle[i];}
testElement.appendChild(div);testElementParent=body||document.documentElement;testElementParent.insertBefore(testElement,testElementParent.firstChild);div.style.cssText="position: absolute; left: 10.7432222px;";offsetLeft=$(div).offset().left;$.support.offsetFractions=offsetLeft>10&&offsetLeft<11;testElement.innerHTML="";testElementParent.removeChild(testElement);})();}(jQuery));(function($,undefined){$.widget("ui.progressbar",{version:"1.10.3",options:{max:100,value:0,change:null,complete:null},min:0,_create:function(){this.oldValue=this.options.value=this._constrainedValue();this.element.addClass("ui-progressbar ui-widget ui-widget-content ui-corner-all").attr({role:"progressbar","aria-valuemin":this.min});this.valueDiv=$("<div class='ui-progressbar-value ui-widget-header ui-corner-left'></div>").appendTo(this.element);this._refreshValue();},_destroy:function(){this.element.removeClass("ui-progressbar ui-widget ui-widget-content ui-corner-all").removeAttr("role").removeAttr("aria-valuemin").removeAttr("aria-valuemax").removeAttr("aria-valuenow");this.valueDiv.remove();},value:function(newValue){if(newValue===undefined){return this.options.value;}
this.options.value=this._constrainedValue(newValue);this._refreshValue();},_constrainedValue:function(newValue){if(newValue===undefined){newValue=this.options.value;}
this.indeterminate=newValue===false;if(typeof newValue!=="number"){newValue=0;}
return this.indeterminate?false:Math.min(this.options.max,Math.max(this.min,newValue));},_setOptions:function(options){var value=options.value;delete options.value;this._super(options);this.options.value=this._constrainedValue(value);this._refreshValue();},_setOption:function(key,value){if(key==="max"){value=Math.max(this.min,value);}
this._super(key,value);},_percentage:function(){return this.indeterminate?100:100*(this.options.value-this.min)/(this.options.max-this.min);},_refreshValue:function(){var value=this.options.value,percentage=this._percentage();this.valueDiv.toggle(this.indeterminate||value>this.min).toggleClass("ui-corner-right",value===this.options.max).width(percentage.toFixed(0)+"%");this.element.toggleClass("ui-progressbar-indeterminate",this.indeterminate);if(this.indeterminate){this.element.removeAttr("aria-valuenow");if(!this.overlayDiv){this.overlayDiv=$("<div class='ui-progressbar-overlay'></div>").appendTo(this.valueDiv);}}else{this.element.attr({"aria-valuemax":this.options.max,"aria-valuenow":value});if(this.overlayDiv){this.overlayDiv.remove();this.overlayDiv=null;}}
if(this.oldValue!==value){this.oldValue=value;this._trigger("change");}
if(value===this.options.max){this._trigger("complete");}}});})(jQuery);(function($,undefined){var numPages=5;$.widget("ui.slider",$.ui.mouse,{version:"1.10.3",widgetEventPrefix:"slide",options:{animate:false,distance:0,max:100,min:0,orientation:"horizontal",range:false,step:1,value:0,values:null,change:null,slide:null,start:null,stop:null},_create:function(){this._keySliding=false;this._mouseSliding=false;this._animateOff=true;this._handleIndex=null;this._detectOrientation();this._mouseInit();this.element.addClass("ui-slider"+" ui-slider-"+this.orientation+" ui-widget"+" ui-widget-content"+" ui-corner-all");this._refresh();this._setOption("disabled",this.options.disabled);this._animateOff=false;},_refresh:function(){this._createRange();this._createHandles();this._setupEvents();this._refreshValue();},_createHandles:function(){var i,handleCount,options=this.options,existingHandles=this.element.find(".ui-slider-handle").addClass("ui-state-default ui-corner-all"),handle="<a class='ui-slider-handle ui-state-default ui-corner-all' href='#'></a>",handles=[];handleCount=(options.values&&options.values.length)||1;if(existingHandles.length>handleCount){existingHandles.slice(handleCount).remove();existingHandles=existingHandles.slice(0,handleCount);}
for(i=existingHandles.length;i<handleCount;i++){handles.push(handle);}
this.handles=existingHandles.add($(handles.join("")).appendTo(this.element));this.handle=this.handles.eq(0);this.handles.each(function(i){$(this).data("ui-slider-handle-index",i);});},_createRange:function(){var options=this.options,classes="";if(options.range){if(options.range===true){if(!options.values){options.values=[this._valueMin(),this._valueMin()];}else if(options.values.length&&options.values.length!==2){options.values=[options.values[0],options.values[0]];}else if($.isArray(options.values)){options.values=options.values.slice(0);}}
if(!this.range||!this.range.length){this.range=$("<div></div>").appendTo(this.element);classes="ui-slider-range"+" ui-widget-header ui-corner-all";}else{this.range.removeClass("ui-slider-range-min ui-slider-range-max").css({"left":"","bottom":""});}
this.range.addClass(classes+
((options.range==="min"||options.range==="max")?" ui-slider-range-"+options.range:""));}else{this.range=$([]);}},_setupEvents:function(){var elements=this.handles.add(this.range).filter("a");this._off(elements);this._on(elements,this._handleEvents);this._hoverable(elements);this._focusable(elements);},_destroy:function(){this.handles.remove();this.range.remove();this.element.removeClass("ui-slider"+" ui-slider-horizontal"+" ui-slider-vertical"+" ui-widget"+" ui-widget-content"+" ui-corner-all");this._mouseDestroy();},_mouseCapture:function(event){var position,normValue,distance,closestHandle,index,allowed,offset,mouseOverHandle,that=this,o=this.options;if(o.disabled){return false;}
this.elementSize={width:this.element.outerWidth(),height:this.element.outerHeight()};this.elementOffset=this.element.offset();position={x:event.pageX,y:event.pageY};normValue=this._normValueFromMouse(position);distance=this._valueMax()-this._valueMin()+1;this.handles.each(function(i){var thisDistance=Math.abs(normValue-that.values(i));if((distance>thisDistance)||(distance===thisDistance&&(i===that._lastChangedValue||that.values(i)===o.min))){distance=thisDistance;closestHandle=$(this);index=i;}});allowed=this._start(event,index);if(allowed===false){return false;}
this._mouseSliding=true;this._handleIndex=index;closestHandle.addClass("ui-state-active").focus();offset=closestHandle.offset();mouseOverHandle=!$(event.target).parents().addBack().is(".ui-slider-handle");this._clickOffset=mouseOverHandle?{left:0,top:0}:{left:event.pageX-offset.left-(closestHandle.width()/ 2),top:event.pageY-offset.top-
(closestHandle.height()/ 2)-
(parseInt(closestHandle.css("borderTopWidth"),10)||0)-
(parseInt(closestHandle.css("borderBottomWidth"),10)||0)+
(parseInt(closestHandle.css("marginTop"),10)||0)};if(!this.handles.hasClass("ui-state-hover")){this._slide(event,index,normValue);}
this._animateOff=true;return true;},_mouseStart:function(){return true;},_mouseDrag:function(event){var position={x:event.pageX,y:event.pageY},normValue=this._normValueFromMouse(position);this._slide(event,this._handleIndex,normValue);return false;},_mouseStop:function(event){this.handles.removeClass("ui-state-active");this._mouseSliding=false;this._stop(event,this._handleIndex);this._change(event,this._handleIndex);this._handleIndex=null;this._clickOffset=null;this._animateOff=false;return false;},_detectOrientation:function(){this.orientation=(this.options.orientation==="vertical")?"vertical":"horizontal";},_normValueFromMouse:function(position){var pixelTotal,pixelMouse,percentMouse,valueTotal,valueMouse;if(this.orientation==="horizontal"){pixelTotal=this.elementSize.width;pixelMouse=position.x-this.elementOffset.left-(this._clickOffset?this._clickOffset.left:0);}else{pixelTotal=this.elementSize.height;pixelMouse=position.y-this.elementOffset.top-(this._clickOffset?this._clickOffset.top:0);}
percentMouse=(pixelMouse / pixelTotal);if(percentMouse>1){percentMouse=1;}
if(percentMouse<0){percentMouse=0;}
if(this.orientation==="vertical"){percentMouse=1-percentMouse;}
valueTotal=this._valueMax()-this._valueMin();valueMouse=this._valueMin()+percentMouse*valueTotal;return this._trimAlignValue(valueMouse);},_start:function(event,index){var uiHash={handle:this.handles[index],value:this.value()};if(this.options.values&&this.options.values.length){uiHash.value=this.values(index);uiHash.values=this.values();}
return this._trigger("start",event,uiHash);},_slide:function(event,index,newVal){var otherVal,newValues,allowed;if(this.options.values&&this.options.values.length){otherVal=this.values(index?0:1);if((this.options.values.length===2&&this.options.range===true)&&((index===0&&newVal>otherVal)||(index===1&&newVal<otherVal))){newVal=otherVal;}
if(newVal!==this.values(index)){newValues=this.values();newValues[index]=newVal;allowed=this._trigger("slide",event,{handle:this.handles[index],value:newVal,values:newValues});otherVal=this.values(index?0:1);if(allowed!==false){this.values(index,newVal,true);}}}else{if(newVal!==this.value()){allowed=this._trigger("slide",event,{handle:this.handles[index],value:newVal});if(allowed!==false){this.value(newVal);}}}},_stop:function(event,index){var uiHash={handle:this.handles[index],value:this.value()};if(this.options.values&&this.options.values.length){uiHash.value=this.values(index);uiHash.values=this.values();}
this._trigger("stop",event,uiHash);},_change:function(event,index){if(!this._keySliding&&!this._mouseSliding){var uiHash={handle:this.handles[index],value:this.value()};if(this.options.values&&this.options.values.length){uiHash.value=this.values(index);uiHash.values=this.values();}
this._lastChangedValue=index;this._trigger("change",event,uiHash);}},value:function(newValue){if(arguments.length){this.options.value=this._trimAlignValue(newValue);this._refreshValue();this._change(null,0);return;}
return this._value();},values:function(index,newValue){var vals,newValues,i;if(arguments.length>1){this.options.values[index]=this._trimAlignValue(newValue);this._refreshValue();this._change(null,index);return;}
if(arguments.length){if($.isArray(arguments[0])){vals=this.options.values;newValues=arguments[0];for(i=0;i<vals.length;i+=1){vals[i]=this._trimAlignValue(newValues[i]);this._change(null,i);}
this._refreshValue();}else{if(this.options.values&&this.options.values.length){return this._values(index);}else{return this.value();}}}else{return this._values();}},_setOption:function(key,value){var i,valsLength=0;if(key==="range"&&this.options.range===true){if(value==="min"){this.options.value=this._values(0);this.options.values=null;}else if(value==="max"){this.options.value=this._values(this.options.values.length-1);this.options.values=null;}}
if($.isArray(this.options.values)){valsLength=this.options.values.length;}
$.Widget.prototype._setOption.apply(this,arguments);switch(key){case"orientation":this._detectOrientation();this.element.removeClass("ui-slider-horizontal ui-slider-vertical").addClass("ui-slider-"+this.orientation);this._refreshValue();break;case"value":this._animateOff=true;this._refreshValue();this._change(null,0);this._animateOff=false;break;case"values":this._animateOff=true;this._refreshValue();for(i=0;i<valsLength;i+=1){this._change(null,i);}
this._animateOff=false;break;case"min":case"max":this._animateOff=true;this._refreshValue();this._animateOff=false;break;case"range":this._animateOff=true;this._refresh();this._animateOff=false;break;}},_value:function(){var val=this.options.value;val=this._trimAlignValue(val);return val;},_values:function(index){var val,vals,i;if(arguments.length){val=this.options.values[index];val=this._trimAlignValue(val);return val;}else if(this.options.values&&this.options.values.length){vals=this.options.values.slice();for(i=0;i<vals.length;i+=1){vals[i]=this._trimAlignValue(vals[i]);}
return vals;}else{return[];}},_trimAlignValue:function(val){if(val<=this._valueMin()){return this._valueMin();}
if(val>=this._valueMax()){return this._valueMax();}
var step=(this.options.step>0)?this.options.step:1,valModStep=(val-this._valueMin())%step,alignValue=val-valModStep;if(Math.abs(valModStep)*2>=step){alignValue+=(valModStep>0)?step:(-step);}
return parseFloat(alignValue.toFixed(5));},_valueMin:function(){return this.options.min;},_valueMax:function(){return this.options.max;},_refreshValue:function(){var lastValPercent,valPercent,value,valueMin,valueMax,oRange=this.options.range,o=this.options,that=this,animate=(!this._animateOff)?o.animate:false,_set={};if(this.options.values&&this.options.values.length){this.handles.each(function(i){valPercent=(that.values(i)-that._valueMin())/(that._valueMax()-that._valueMin())*100;_set[that.orientation==="horizontal"?"left":"bottom"]=valPercent+"%";$(this).stop(1,1)[animate?"animate":"css"](_set,o.animate);if(that.options.range===true){if(that.orientation==="horizontal"){if(i===0){that.range.stop(1,1)[animate?"animate":"css"]({left:valPercent+"%"},o.animate);}
if(i===1){that.range[animate?"animate":"css"]({width:(valPercent-lastValPercent)+"%"},{queue:false,duration:o.animate});}}else{if(i===0){that.range.stop(1,1)[animate?"animate":"css"]({bottom:(valPercent)+"%"},o.animate);}
if(i===1){that.range[animate?"animate":"css"]({height:(valPercent-lastValPercent)+"%"},{queue:false,duration:o.animate});}}}
lastValPercent=valPercent;});}else{value=this.value();valueMin=this._valueMin();valueMax=this._valueMax();valPercent=(valueMax!==valueMin)?(value-valueMin)/(valueMax-valueMin)*100:0;_set[this.orientation==="horizontal"?"left":"bottom"]=valPercent+"%";this.handle.stop(1,1)[animate?"animate":"css"](_set,o.animate);if(oRange==="min"&&this.orientation==="horizontal"){this.range.stop(1,1)[animate?"animate":"css"]({width:valPercent+"%"},o.animate);}
if(oRange==="max"&&this.orientation==="horizontal"){this.range[animate?"animate":"css"]({width:(100-valPercent)+"%"},{queue:false,duration:o.animate});}
if(oRange==="min"&&this.orientation==="vertical"){this.range.stop(1,1)[animate?"animate":"css"]({height:valPercent+"%"},o.animate);}
if(oRange==="max"&&this.orientation==="vertical"){this.range[animate?"animate":"css"]({height:(100-valPercent)+"%"},{queue:false,duration:o.animate});}}},_handleEvents:{keydown:function(event){var allowed,curVal,newVal,step,index=$(event.target).data("ui-slider-handle-index");switch(event.keyCode){case $.ui.keyCode.HOME:case $.ui.keyCode.END:case $.ui.keyCode.PAGE_UP:case $.ui.keyCode.PAGE_DOWN:case $.ui.keyCode.UP:case $.ui.keyCode.RIGHT:case $.ui.keyCode.DOWN:case $.ui.keyCode.LEFT:event.preventDefault();if(!this._keySliding){this._keySliding=true;$(event.target).addClass("ui-state-active");allowed=this._start(event,index);if(allowed===false){return;}}
break;}
step=this.options.step;if(this.options.values&&this.options.values.length){curVal=newVal=this.values(index);}else{curVal=newVal=this.value();}
switch(event.keyCode){case $.ui.keyCode.HOME:newVal=this._valueMin();break;case $.ui.keyCode.END:newVal=this._valueMax();break;case $.ui.keyCode.PAGE_UP:newVal=this._trimAlignValue(curVal+((this._valueMax()-this._valueMin())/ numPages));break;case $.ui.keyCode.PAGE_DOWN:newVal=this._trimAlignValue(curVal-((this._valueMax()-this._valueMin())/ numPages));break;case $.ui.keyCode.UP:case $.ui.keyCode.RIGHT:if(curVal===this._valueMax()){return;}
newVal=this._trimAlignValue(curVal+step);break;case $.ui.keyCode.DOWN:case $.ui.keyCode.LEFT:if(curVal===this._valueMin()){return;}
newVal=this._trimAlignValue(curVal-step);break;}
this._slide(event,index,newVal);},click:function(event){event.preventDefault();},keyup:function(event){var index=$(event.target).data("ui-slider-handle-index");if(this._keySliding){this._keySliding=false;this._stop(event,index);this._change(event,index);$(event.target).removeClass("ui-state-active");}}}});}(jQuery));(function($){function modifier(fn){return function(){var previous=this.element.val();fn.apply(this,arguments);this._refresh();if(previous!==this.element.val()){this._trigger("change");}};}
$.widget("ui.spinner",{version:"1.10.3",defaultElement:"<input>",widgetEventPrefix:"spin",options:{culture:null,icons:{down:"ui-icon-triangle-1-s",up:"ui-icon-triangle-1-n"},incremental:true,max:null,min:null,numberFormat:null,page:10,step:1,change:null,spin:null,start:null,stop:null},_create:function(){this._setOption("max",this.options.max);this._setOption("min",this.options.min);this._setOption("step",this.options.step);this._value(this.element.val(),true);this._draw();this._on(this._events);this._refresh();this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete");}});},_getCreateOptions:function(){var options={},element=this.element;$.each(["min","max","step"],function(i,option){var value=element.attr(option);if(value!==undefined&&value.length){options[option]=value;}});return options;},_events:{keydown:function(event){if(this._start(event)&&this._keydown(event)){event.preventDefault();}},keyup:"_stop",focus:function(){this.previous=this.element.val();},blur:function(event){if(this.cancelBlur){delete this.cancelBlur;return;}
this._stop();this._refresh();if(this.previous!==this.element.val()){this._trigger("change",event);}},mousewheel:function(event,delta){if(!delta){return;}
if(!this.spinning&&!this._start(event)){return false;}
this._spin((delta>0?1:-1)*this.options.step,event);clearTimeout(this.mousewheelTimer);this.mousewheelTimer=this._delay(function(){if(this.spinning){this._stop(event);}},100);event.preventDefault();},"mousedown .ui-spinner-button":function(event){var previous;previous=this.element[0]===this.document[0].activeElement?this.previous:this.element.val();function checkFocus(){var isActive=this.element[0]===this.document[0].activeElement;if(!isActive){this.element.focus();this.previous=previous;this._delay(function(){this.previous=previous;});}}
event.preventDefault();checkFocus.call(this);this.cancelBlur=true;this._delay(function(){delete this.cancelBlur;checkFocus.call(this);});if(this._start(event)===false){return;}
this._repeat(null,$(event.currentTarget).hasClass("ui-spinner-up")?1:-1,event);},"mouseup .ui-spinner-button":"_stop","mouseenter .ui-spinner-button":function(event){if(!$(event.currentTarget).hasClass("ui-state-active")){return;}
if(this._start(event)===false){return false;}
this._repeat(null,$(event.currentTarget).hasClass("ui-spinner-up")?1:-1,event);},"mouseleave .ui-spinner-button":"_stop"},_draw:function(){var uiSpinner=this.uiSpinner=this.element.addClass("ui-spinner-input").attr("autocomplete","off").wrap(this._uiSpinnerHtml()).parent().append(this._buttonHtml());this.element.attr("role","spinbutton");this.buttons=uiSpinner.find(".ui-spinner-button").attr("tabIndex",-1).button().removeClass("ui-corner-all");if(this.buttons.height()>Math.ceil(uiSpinner.height()*0.5)&&uiSpinner.height()>0){uiSpinner.height(uiSpinner.height());}
if(this.options.disabled){this.disable();}},_keydown:function(event){var options=this.options,keyCode=$.ui.keyCode;switch(event.keyCode){case keyCode.UP:this._repeat(null,1,event);return true;case keyCode.DOWN:this._repeat(null,-1,event);return true;case keyCode.PAGE_UP:this._repeat(null,options.page,event);return true;case keyCode.PAGE_DOWN:this._repeat(null,-options.page,event);return true;}
return false;},_uiSpinnerHtml:function(){return"<span class='ui-spinner ui-widget ui-widget-content ui-corner-all'></span>";},_buttonHtml:function(){return""+"<a class='ui-spinner-button ui-spinner-up ui-corner-tr'>"+"<span class='ui-icon "+this.options.icons.up+"'>&#9650;</span>"+"</a>"+"<a class='ui-spinner-button ui-spinner-down ui-corner-br'>"+"<span class='ui-icon "+this.options.icons.down+"'>&#9660;</span>"+"</a>";},_start:function(event){if(!this.spinning&&this._trigger("start",event)===false){return false;}
if(!this.counter){this.counter=1;}
this.spinning=true;return true;},_repeat:function(i,steps,event){i=i||500;clearTimeout(this.timer);this.timer=this._delay(function(){this._repeat(40,steps,event);},i);this._spin(steps*this.options.step,event);},_spin:function(step,event){var value=this.value()||0;if(!this.counter){this.counter=1;}
value=this._adjustValue(value+step*this._increment(this.counter));if(!this.spinning||this._trigger("spin",event,{value:value})!==false){this._value(value);this.counter++;}},_increment:function(i){var incremental=this.options.incremental;if(incremental){return $.isFunction(incremental)?incremental(i):Math.floor(i*i*i/50000-i*i/500+17*i/200+1);}
return 1;},_precision:function(){var precision=this._precisionOf(this.options.step);if(this.options.min!==null){precision=Math.max(precision,this._precisionOf(this.options.min));}
return precision;},_precisionOf:function(num){var str=num.toString(),decimal=str.indexOf(".");return decimal===-1?0:str.length-decimal-1;},_adjustValue:function(value){var base,aboveMin,options=this.options;base=options.min!==null?options.min:0;aboveMin=value-base;aboveMin=Math.round(aboveMin / options.step)*options.step;value=base+aboveMin;value=parseFloat(value.toFixed(this._precision()));if(options.max!==null&&value>options.max){return options.max;}
if(options.min!==null&&value<options.min){return options.min;}
return value;},_stop:function(event){if(!this.spinning){return;}
clearTimeout(this.timer);clearTimeout(this.mousewheelTimer);this.counter=0;this.spinning=false;this._trigger("stop",event);},_setOption:function(key,value){if(key==="culture"||key==="numberFormat"){var prevValue=this._parse(this.element.val());this.options[key]=value;this.element.val(this._format(prevValue));return;}
if(key==="max"||key==="min"||key==="step"){if(typeof value==="string"){value=this._parse(value);}}
if(key==="icons"){this.buttons.first().find(".ui-icon").removeClass(this.options.icons.up).addClass(value.up);this.buttons.last().find(".ui-icon").removeClass(this.options.icons.down).addClass(value.down);}
this._super(key,value);if(key==="disabled"){if(value){this.element.prop("disabled",true);this.buttons.button("disable");}else{this.element.prop("disabled",false);this.buttons.button("enable");}}},_setOptions:modifier(function(options){this._super(options);this._value(this.element.val());}),_parse:function(val){if(typeof val==="string"&&val!==""){val=window.Globalize&&this.options.numberFormat?Globalize.parseFloat(val,10,this.options.culture):+val;}
return val===""||isNaN(val)?null:val;},_format:function(value){if(value===""){return"";}
return window.Globalize&&this.options.numberFormat?Globalize.format(value,this.options.numberFormat,this.options.culture):value;},_refresh:function(){this.element.attr({"aria-valuemin":this.options.min,"aria-valuemax":this.options.max,"aria-valuenow":this._parse(this.element.val())});},_value:function(value,allowAny){var parsed;if(value!==""){parsed=this._parse(value);if(parsed!==null){if(!allowAny){parsed=this._adjustValue(parsed);}
value=this._format(parsed);}}
this.element.val(value);this._refresh();},_destroy:function(){this.element.removeClass("ui-spinner-input").prop("disabled",false).removeAttr("autocomplete").removeAttr("role").removeAttr("aria-valuemin").removeAttr("aria-valuemax").removeAttr("aria-valuenow");this.uiSpinner.replaceWith(this.element);},stepUp:modifier(function(steps){this._stepUp(steps);}),_stepUp:function(steps){if(this._start()){this._spin((steps||1)*this.options.step);this._stop();}},stepDown:modifier(function(steps){this._stepDown(steps);}),_stepDown:function(steps){if(this._start()){this._spin((steps||1)*-this.options.step);this._stop();}},pageUp:modifier(function(pages){this._stepUp((pages||1)*this.options.page);}),pageDown:modifier(function(pages){this._stepDown((pages||1)*this.options.page);}),value:function(newVal){if(!arguments.length){return this._parse(this.element.val());}
modifier(this._value).call(this,newVal);},widget:function(){return this.uiSpinner;}});}(jQuery));(function($,undefined){var tabId=0,rhash=/#.*$/;function getNextTabId(){return++tabId;}
function isLocal(anchor){return anchor.hash.length>1&&decodeURIComponent(anchor.href.replace(rhash,""))===decodeURIComponent(location.href.replace(rhash,""));}
$.widget("ui.tabs",{version:"1.10.3",delay:300,options:{active:null,collapsible:false,event:"click",heightStyle:"content",hide:null,show:null,activate:null,beforeActivate:null,beforeLoad:null,load:null},_create:function(){var that=this,options=this.options;this.running=false;this.element.addClass("ui-tabs ui-widget ui-widget-content ui-corner-all").toggleClass("ui-tabs-collapsible",options.collapsible).delegate(".ui-tabs-nav > li","mousedown"+this.eventNamespace,function(event){if($(this).is(".ui-state-disabled")){event.preventDefault();}}).delegate(".ui-tabs-anchor","focus"+this.eventNamespace,function(){if($(this).closest("li").is(".ui-state-disabled")){this.blur();}});this._processTabs();options.active=this._initialActive();if($.isArray(options.disabled)){options.disabled=$.unique(options.disabled.concat($.map(this.tabs.filter(".ui-state-disabled"),function(li){return that.tabs.index(li);}))).sort();}
if(this.options.active!==false&&this.anchors.length){this.active=this._findActive(options.active);}else{this.active=$();}
this._refresh();if(this.active.length){this.load(options.active);}},_initialActive:function(){var active=this.options.active,collapsible=this.options.collapsible,locationHash=location.hash.substring(1);if(active===null){if(locationHash){this.tabs.each(function(i,tab){if($(tab).attr("aria-controls")===locationHash){active=i;return false;}});}
if(active===null){active=this.tabs.index(this.tabs.filter(".ui-tabs-active"));}
if(active===null||active===-1){active=this.tabs.length?0:false;}}
if(active!==false){active=this.tabs.index(this.tabs.eq(active));if(active===-1){active=collapsible?false:0;}}
if(!collapsible&&active===false&&this.anchors.length){active=0;}
return active;},_getCreateEventData:function(){return{tab:this.active,panel:!this.active.length?$():this._getPanelForTab(this.active)};},_tabKeydown:function(event){var focusedTab=$(this.document[0].activeElement).closest("li"),selectedIndex=this.tabs.index(focusedTab),goingForward=true;if(this._handlePageNav(event)){return;}
switch(event.keyCode){case $.ui.keyCode.RIGHT:case $.ui.keyCode.DOWN:selectedIndex++;break;case $.ui.keyCode.UP:case $.ui.keyCode.LEFT:goingForward=false;selectedIndex--;break;case $.ui.keyCode.END:selectedIndex=this.anchors.length-1;break;case $.ui.keyCode.HOME:selectedIndex=0;break;case $.ui.keyCode.SPACE:event.preventDefault();clearTimeout(this.activating);this._activate(selectedIndex);return;case $.ui.keyCode.ENTER:event.preventDefault();clearTimeout(this.activating);this._activate(selectedIndex===this.options.active?false:selectedIndex);return;default:return;}
event.preventDefault();clearTimeout(this.activating);selectedIndex=this._focusNextTab(selectedIndex,goingForward);if(!event.ctrlKey){focusedTab.attr("aria-selected","false");this.tabs.eq(selectedIndex).attr("aria-selected","true");this.activating=this._delay(function(){this.option("active",selectedIndex);},this.delay);}},_panelKeydown:function(event){if(this._handlePageNav(event)){return;}
if(event.ctrlKey&&event.keyCode===$.ui.keyCode.UP){event.preventDefault();this.active.focus();}},_handlePageNav:function(event){if(event.altKey&&event.keyCode===$.ui.keyCode.PAGE_UP){this._activate(this._focusNextTab(this.options.active-1,false));return true;}
if(event.altKey&&event.keyCode===$.ui.keyCode.PAGE_DOWN){this._activate(this._focusNextTab(this.options.active+1,true));return true;}},_findNextTab:function(index,goingForward){var lastTabIndex=this.tabs.length-1;function constrain(){if(index>lastTabIndex){index=0;}
if(index<0){index=lastTabIndex;}
return index;}
while($.inArray(constrain(),this.options.disabled)!==-1){index=goingForward?index+1:index-1;}
return index;},_focusNextTab:function(index,goingForward){index=this._findNextTab(index,goingForward);this.tabs.eq(index).focus();return index;},_setOption:function(key,value){if(key==="active"){this._activate(value);return;}
if(key==="disabled"){this._setupDisabled(value);return;}
this._super(key,value);if(key==="collapsible"){this.element.toggleClass("ui-tabs-collapsible",value);if(!value&&this.options.active===false){this._activate(0);}}
if(key==="event"){this._setupEvents(value);}
if(key==="heightStyle"){this._setupHeightStyle(value);}},_tabId:function(tab){return tab.attr("aria-controls")||"ui-tabs-"+getNextTabId();},_sanitizeSelector:function(hash){return hash?hash.replace(/[!"$%&'()*+,.\/:;<=>?@\[\]\^`{|}~]/g,"\\$&"):"";},refresh:function(){var options=this.options,lis=this.tablist.children(":has(a[href])");options.disabled=$.map(lis.filter(".ui-state-disabled"),function(tab){return lis.index(tab);});this._processTabs();if(options.active===false||!this.anchors.length){options.active=false;this.active=$();}else if(this.active.length&&!$.contains(this.tablist[0],this.active[0])){if(this.tabs.length===options.disabled.length){options.active=false;this.active=$();}else{this._activate(this._findNextTab(Math.max(0,options.active-1),false));}}else{options.active=this.tabs.index(this.active);}
this._refresh();},_refresh:function(){this._setupDisabled(this.options.disabled);this._setupEvents(this.options.event);this._setupHeightStyle(this.options.heightStyle);this.tabs.not(this.active).attr({"aria-selected":"false",tabIndex:-1});this.panels.not(this._getPanelForTab(this.active)).hide().attr({"aria-expanded":"false","aria-hidden":"true"});if(!this.active.length){this.tabs.eq(0).attr("tabIndex",0);}else{this.active.addClass("ui-tabs-active ui-state-active").attr({"aria-selected":"true",tabIndex:0});this._getPanelForTab(this.active).show().attr({"aria-expanded":"true","aria-hidden":"false"});}},_processTabs:function(){var that=this;this.tablist=this._getList().addClass("ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all").attr("role","tablist");this.tabs=this.tablist.find("> li:has(a[href])").addClass("ui-state-default ui-corner-top").attr({role:"tab",tabIndex:-1});this.anchors=this.tabs.map(function(){return $("a",this)[0];}).addClass("ui-tabs-anchor").attr({role:"presentation",tabIndex:-1});this.panels=$();this.anchors.each(function(i,anchor){var selector,panel,panelId,anchorId=$(anchor).uniqueId().attr("id"),tab=$(anchor).closest("li"),originalAriaControls=tab.attr("aria-controls");if(isLocal(anchor)){selector=anchor.hash;panel=that.element.find(that._sanitizeSelector(selector));}else{panelId=that._tabId(tab);selector="#"+panelId;panel=that.element.find(selector);if(!panel.length){panel=that._createPanel(panelId);panel.insertAfter(that.panels[i-1]||that.tablist);}
panel.attr("aria-live","polite");}
if(panel.length){that.panels=that.panels.add(panel);}
if(originalAriaControls){tab.data("ui-tabs-aria-controls",originalAriaControls);}
tab.attr({"aria-controls":selector.substring(1),"aria-labelledby":anchorId});panel.attr("aria-labelledby",anchorId);});this.panels.addClass("ui-tabs-panel ui-widget-content ui-corner-bottom").attr("role","tabpanel");},_getList:function(){return this.element.find("ol,ul").eq(0);},_createPanel:function(id){return $("<div>").attr("id",id).addClass("ui-tabs-panel ui-widget-content ui-corner-bottom").data("ui-tabs-destroy",true);},_setupDisabled:function(disabled){if($.isArray(disabled)){if(!disabled.length){disabled=false;}else if(disabled.length===this.anchors.length){disabled=true;}}
for(var i=0,li;(li=this.tabs[i]);i++){if(disabled===true||$.inArray(i,disabled)!==-1){$(li).addClass("ui-state-disabled").attr("aria-disabled","true");}else{$(li).removeClass("ui-state-disabled").removeAttr("aria-disabled");}}
this.options.disabled=disabled;},_setupEvents:function(event){var events={click:function(event){event.preventDefault();}};if(event){$.each(event.split(" "),function(index,eventName){events[eventName]="_eventHandler";});}
this._off(this.anchors.add(this.tabs).add(this.panels));this._on(this.anchors,events);this._on(this.tabs,{keydown:"_tabKeydown"});this._on(this.panels,{keydown:"_panelKeydown"});this._focusable(this.tabs);this._hoverable(this.tabs);},_setupHeightStyle:function(heightStyle){var maxHeight,parent=this.element.parent();if(heightStyle==="fill"){maxHeight=parent.height();maxHeight-=this.element.outerHeight()-this.element.height();this.element.siblings(":visible").each(function(){var elem=$(this),position=elem.css("position");if(position==="absolute"||position==="fixed"){return;}
maxHeight-=elem.outerHeight(true);});this.element.children().not(this.panels).each(function(){maxHeight-=$(this).outerHeight(true);});this.panels.each(function(){$(this).height(Math.max(0,maxHeight-
$(this).innerHeight()+$(this).height()));}).css("overflow","auto");}else if(heightStyle==="auto"){maxHeight=0;this.panels.each(function(){maxHeight=Math.max(maxHeight,$(this).height("").height());}).height(maxHeight);}},_eventHandler:function(event){var options=this.options,active=this.active,anchor=$(event.currentTarget),tab=anchor.closest("li"),clickedIsActive=tab[0]===active[0],collapsing=clickedIsActive&&options.collapsible,toShow=collapsing?$():this._getPanelForTab(tab),toHide=!active.length?$():this._getPanelForTab(active),eventData={oldTab:active,oldPanel:toHide,newTab:collapsing?$():tab,newPanel:toShow};event.preventDefault();if(tab.hasClass("ui-state-disabled")||tab.hasClass("ui-tabs-loading")||this.running||(clickedIsActive&&!options.collapsible)||(this._trigger("beforeActivate",event,eventData)===false)){return;}
options.active=collapsing?false:this.tabs.index(tab);this.active=clickedIsActive?$():tab;if(this.xhr){this.xhr.abort();}
if(!toHide.length&&!toShow.length){$.error("jQuery UI Tabs: Mismatching fragment identifier.");}
if(toShow.length){this.load(this.tabs.index(tab),event);}
this._toggle(event,eventData);},_toggle:function(event,eventData){var that=this,toShow=eventData.newPanel,toHide=eventData.oldPanel;this.running=true;function complete(){that.running=false;that._trigger("activate",event,eventData);}
function show(){eventData.newTab.closest("li").addClass("ui-tabs-active ui-state-active");if(toShow.length&&that.options.show){that._show(toShow,that.options.show,complete);}else{toShow.show();complete();}}
if(toHide.length&&this.options.hide){this._hide(toHide,this.options.hide,function(){eventData.oldTab.closest("li").removeClass("ui-tabs-active ui-state-active");show();});}else{eventData.oldTab.closest("li").removeClass("ui-tabs-active ui-state-active");toHide.hide();show();}
toHide.attr({"aria-expanded":"false","aria-hidden":"true"});eventData.oldTab.attr("aria-selected","false");if(toShow.length&&toHide.length){eventData.oldTab.attr("tabIndex",-1);}else if(toShow.length){this.tabs.filter(function(){return $(this).attr("tabIndex")===0;}).attr("tabIndex",-1);}
toShow.attr({"aria-expanded":"true","aria-hidden":"false"});eventData.newTab.attr({"aria-selected":"true",tabIndex:0});},_activate:function(index){var anchor,active=this._findActive(index);if(active[0]===this.active[0]){return;}
if(!active.length){active=this.active;}
anchor=active.find(".ui-tabs-anchor")[0];this._eventHandler({target:anchor,currentTarget:anchor,preventDefault:$.noop});},_findActive:function(index){return index===false?$():this.tabs.eq(index);},_getIndex:function(index){if(typeof index==="string"){index=this.anchors.index(this.anchors.filter("[href$='"+index+"']"));}
return index;},_destroy:function(){if(this.xhr){this.xhr.abort();}
this.element.removeClass("ui-tabs ui-widget ui-widget-content ui-corner-all ui-tabs-collapsible");this.tablist.removeClass("ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all").removeAttr("role");this.anchors.removeClass("ui-tabs-anchor").removeAttr("role").removeAttr("tabIndex").removeUniqueId();this.tabs.add(this.panels).each(function(){if($.data(this,"ui-tabs-destroy")){$(this).remove();}else{$(this).removeClass("ui-state-default ui-state-active ui-state-disabled "+"ui-corner-top ui-corner-bottom ui-widget-content ui-tabs-active ui-tabs-panel").removeAttr("tabIndex").removeAttr("aria-live").removeAttr("aria-busy").removeAttr("aria-selected").removeAttr("aria-labelledby").removeAttr("aria-hidden").removeAttr("aria-expanded").removeAttr("role");}});this.tabs.each(function(){var li=$(this),prev=li.data("ui-tabs-aria-controls");if(prev){li.attr("aria-controls",prev).removeData("ui-tabs-aria-controls");}else{li.removeAttr("aria-controls");}});this.panels.show();if(this.options.heightStyle!=="content"){this.panels.css("height","");}},enable:function(index){var disabled=this.options.disabled;if(disabled===false){return;}
if(index===undefined){disabled=false;}else{index=this._getIndex(index);if($.isArray(disabled)){disabled=$.map(disabled,function(num){return num!==index?num:null;});}else{disabled=$.map(this.tabs,function(li,num){return num!==index?num:null;});}}
this._setupDisabled(disabled);},disable:function(index){var disabled=this.options.disabled;if(disabled===true){return;}
if(index===undefined){disabled=true;}else{index=this._getIndex(index);if($.inArray(index,disabled)!==-1){return;}
if($.isArray(disabled)){disabled=$.merge([index],disabled).sort();}else{disabled=[index];}}
this._setupDisabled(disabled);},load:function(index,event){index=this._getIndex(index);var that=this,tab=this.tabs.eq(index),anchor=tab.find(".ui-tabs-anchor"),panel=this._getPanelForTab(tab),eventData={tab:tab,panel:panel};if(isLocal(anchor[0])){return;}
this.xhr=$.ajax(this._ajaxSettings(anchor,event,eventData));if(this.xhr&&this.xhr.statusText!=="canceled"){tab.addClass("ui-tabs-loading");panel.attr("aria-busy","true");this.xhr.success(function(response){setTimeout(function(){panel.html(response);that._trigger("load",event,eventData);},1);}).complete(function(jqXHR,status){setTimeout(function(){if(status==="abort"){that.panels.stop(false,true);}
tab.removeClass("ui-tabs-loading");panel.removeAttr("aria-busy");if(jqXHR===that.xhr){delete that.xhr;}},1);});}},_ajaxSettings:function(anchor,event,eventData){var that=this;return{url:anchor.attr("href"),beforeSend:function(jqXHR,settings){return that._trigger("beforeLoad",event,$.extend({jqXHR:jqXHR,ajaxSettings:settings},eventData));}};},_getPanelForTab:function(tab){var id=$(tab).attr("aria-controls");return this.element.find(this._sanitizeSelector("#"+id));}});})(jQuery);(function($){var increments=0;function addDescribedBy(elem,id){var describedby=(elem.attr("aria-describedby")||"").split(/\s+/);describedby.push(id);elem.data("ui-tooltip-id",id).attr("aria-describedby",$.trim(describedby.join(" ")));}
function removeDescribedBy(elem){var id=elem.data("ui-tooltip-id"),describedby=(elem.attr("aria-describedby")||"").split(/\s+/),index=$.inArray(id,describedby);if(index!==-1){describedby.splice(index,1);}
elem.removeData("ui-tooltip-id");describedby=$.trim(describedby.join(" "));if(describedby){elem.attr("aria-describedby",describedby);}else{elem.removeAttr("aria-describedby");}}
$.widget("ui.tooltip",{version:"1.10.3",options:{content:function(){var title=$(this).attr("title")||"";return $("<a>").text(title).html();},hide:true,items:"[title]:not([disabled])",position:{my:"left top+15",at:"left bottom",collision:"flipfit flip"},show:true,tooltipClass:null,track:false,close:null,open:null},_create:function(){this._on({mouseover:"open",focusin:"open"});this.tooltips={};this.parents={};if(this.options.disabled){this._disable();}},_setOption:function(key,value){var that=this;if(key==="disabled"){this[value?"_disable":"_enable"]();this.options[key]=value;return;}
this._super(key,value);if(key==="content"){$.each(this.tooltips,function(id,element){that._updateContent(element);});}},_disable:function(){var that=this;$.each(this.tooltips,function(id,element){var event=$.Event("blur");event.target=event.currentTarget=element[0];that.close(event,true);});this.element.find(this.options.items).addBack().each(function(){var element=$(this);if(element.is("[title]")){element.data("ui-tooltip-title",element.attr("title")).attr("title","");}});},_enable:function(){this.element.find(this.options.items).addBack().each(function(){var element=$(this);if(element.data("ui-tooltip-title")){element.attr("title",element.data("ui-tooltip-title"));}});},open:function(event){var that=this,target=$(event?event.target:this.element).closest(this.options.items);if(!target.length||target.data("ui-tooltip-id")){return;}
if(target.attr("title")){target.data("ui-tooltip-title",target.attr("title"));}
target.data("ui-tooltip-open",true);if(event&&event.type==="mouseover"){target.parents().each(function(){var parent=$(this),blurEvent;if(parent.data("ui-tooltip-open")){blurEvent=$.Event("blur");blurEvent.target=blurEvent.currentTarget=this;that.close(blurEvent,true);}
if(parent.attr("title")){parent.uniqueId();that.parents[this.id]={element:this,title:parent.attr("title")};parent.attr("title","");}});}
this._updateContent(target,event);},_updateContent:function(target,event){var content,contentOption=this.options.content,that=this,eventType=event?event.type:null;if(typeof contentOption==="string"){return this._open(event,target,contentOption);}
content=contentOption.call(target[0],function(response){if(!target.data("ui-tooltip-open")){return;}
that._delay(function(){if(event){event.type=eventType;}
this._open(event,target,response);});});if(content){this._open(event,target,content);}},_open:function(event,target,content){var tooltip,events,delayedShow,positionOption=$.extend({},this.options.position);if(!content){return;}
tooltip=this._find(target);if(tooltip.length){tooltip.find(".ui-tooltip-content").html(content);return;}
if(target.is("[title]")){if(event&&event.type==="mouseover"){target.attr("title","");}else{target.removeAttr("title");}}
tooltip=this._tooltip(target);addDescribedBy(target,tooltip.attr("id"));tooltip.find(".ui-tooltip-content").html(content);function position(event){positionOption.of=event;if(tooltip.is(":hidden")){return;}
tooltip.position(positionOption);}
if(this.options.track&&event&&/^mouse/.test(event.type)){this._on(this.document,{mousemove:position});position(event);}else{tooltip.position($.extend({of:target},this.options.position));}
tooltip.hide();this._show(tooltip,this.options.show);if(this.options.show&&this.options.show.delay){delayedShow=this.delayedShow=setInterval(function(){if(tooltip.is(":visible")){position(positionOption.of);clearInterval(delayedShow);}},$.fx.interval);}
this._trigger("open",event,{tooltip:tooltip});events={keyup:function(event){if(event.keyCode===$.ui.keyCode.ESCAPE){var fakeEvent=$.Event(event);fakeEvent.currentTarget=target[0];this.close(fakeEvent,true);}},remove:function(){this._removeTooltip(tooltip);}};if(!event||event.type==="mouseover"){events.mouseleave="close";}
if(!event||event.type==="focusin"){events.focusout="close";}
this._on(true,target,events);},close:function(event){var that=this,target=$(event?event.currentTarget:this.element),tooltip=this._find(target);if(this.closing){return;}
clearInterval(this.delayedShow);if(target.data("ui-tooltip-title")){target.attr("title",target.data("ui-tooltip-title"));}
removeDescribedBy(target);tooltip.stop(true);this._hide(tooltip,this.options.hide,function(){that._removeTooltip($(this));});target.removeData("ui-tooltip-open");this._off(target,"mouseleave focusout keyup");if(target[0]!==this.element[0]){this._off(target,"remove");}
this._off(this.document,"mousemove");if(event&&event.type==="mouseleave"){$.each(this.parents,function(id,parent){$(parent.element).attr("title",parent.title);delete that.parents[id];});}
this.closing=true;this._trigger("close",event,{tooltip:tooltip});this.closing=false;},_tooltip:function(element){var id="ui-tooltip-"+increments++,tooltip=$("<div>").attr({id:id,role:"tooltip"}).addClass("ui-tooltip ui-widget ui-corner-all ui-widget-content "+
(this.options.tooltipClass||""));$("<div>").addClass("ui-tooltip-content").appendTo(tooltip);tooltip.appendTo(this.document[0].body);this.tooltips[id]=element;return tooltip;},_find:function(target){var id=target.data("ui-tooltip-id");return id?$("#"+id):$();},_removeTooltip:function(tooltip){tooltip.remove();delete this.tooltips[tooltip.attr("id")];},_destroy:function(){var that=this;$.each(this.tooltips,function(id,element){var event=$.Event("blur");event.target=event.currentTarget=element[0];that.close(event,true);$("#"+id).remove();if(element.data("ui-tooltip-title")){element.attr("title",element.data("ui-tooltip-title"));element.removeData("ui-tooltip-title");}});}});}(jQuery));




(function($){var rotateLeft=function(lValue,iShiftBits){return(lValue<<iShiftBits)|(lValue>>>(32-iShiftBits));}
var addUnsigned=function(lX,lY){var lX4,lY4,lX8,lY8,lResult;lX8=(lX&0x80000000);lY8=(lY&0x80000000);lX4=(lX&0x40000000);lY4=(lY&0x40000000);lResult=(lX&0x3FFFFFFF)+(lY&0x3FFFFFFF);if(lX4&lY4)return(lResult^0x80000000^lX8^lY8);if(lX4|lY4){if(lResult&0x40000000)return(lResult^0xC0000000^lX8^lY8);else return(lResult^0x40000000^lX8^lY8);}else{return(lResult^lX8^lY8);}}
var F=function(x,y,z){return(x&y)|((~x)&z);}
var G=function(x,y,z){return(x&z)|(y&(~z));}
var H=function(x,y,z){return(x^y^z);}
var I=function(x,y,z){return(y^(x|(~z)));}
var FF=function(a,b,c,d,x,s,ac){a=addUnsigned(a,addUnsigned(addUnsigned(F(b,c,d),x),ac));return addUnsigned(rotateLeft(a,s),b);};var GG=function(a,b,c,d,x,s,ac){a=addUnsigned(a,addUnsigned(addUnsigned(G(b,c,d),x),ac));return addUnsigned(rotateLeft(a,s),b);};var HH=function(a,b,c,d,x,s,ac){a=addUnsigned(a,addUnsigned(addUnsigned(H(b,c,d),x),ac));return addUnsigned(rotateLeft(a,s),b);};var II=function(a,b,c,d,x,s,ac){a=addUnsigned(a,addUnsigned(addUnsigned(I(b,c,d),x),ac));return addUnsigned(rotateLeft(a,s),b);};var convertToWordArray=function(string){var lWordCount;var lMessageLength=string.length;var lNumberOfWordsTempOne=lMessageLength+8;var lNumberOfWordsTempTwo=(lNumberOfWordsTempOne-(lNumberOfWordsTempOne%64))/ 64;var lNumberOfWords=(lNumberOfWordsTempTwo+1)*16;var lWordArray=Array(lNumberOfWords-1);var lBytePosition=0;var lByteCount=0;while(lByteCount<lMessageLength){lWordCount=(lByteCount-(lByteCount%4))/ 4;lBytePosition=(lByteCount%4)*8;lWordArray[lWordCount]=(lWordArray[lWordCount]|(string.charCodeAt(lByteCount)<<lBytePosition));lByteCount++;}
lWordCount=(lByteCount-(lByteCount%4))/ 4;lBytePosition=(lByteCount%4)*8;lWordArray[lWordCount]=lWordArray[lWordCount]|(0x80<<lBytePosition);lWordArray[lNumberOfWords-2]=lMessageLength<<3;lWordArray[lNumberOfWords-1]=lMessageLength>>>29;return lWordArray;};var wordToHex=function(lValue){var WordToHexValue="",WordToHexValueTemp="",lByte,lCount;for(lCount=0;lCount<=3;lCount++){lByte=(lValue>>>(lCount*8))&255;WordToHexValueTemp="0"+lByte.toString(16);WordToHexValue=WordToHexValue+WordToHexValueTemp.substr(WordToHexValueTemp.length-2,2);}
return WordToHexValue;};var uTF8Encode=function(string){string=string.replace(/\x0d\x0a/g,"\x0a");var output="";for(var n=0;n<string.length;n++){var c=string.charCodeAt(n);if(c<128){output+=String.fromCharCode(c);}else if((c>127)&&(c<2048)){output+=String.fromCharCode((c>>6)|192);output+=String.fromCharCode((c&63)|128);}else{output+=String.fromCharCode((c>>12)|224);output+=String.fromCharCode(((c>>6)&63)|128);output+=String.fromCharCode((c&63)|128);}}
return output;};$.extend({md5:function(string){var x=Array();var k,AA,BB,CC,DD,a,b,c,d;var S11=7,S12=12,S13=17,S14=22;var S21=5,S22=9,S23=14,S24=20;var S31=4,S32=11,S33=16,S34=23;var S41=6,S42=10,S43=15,S44=21;string=uTF8Encode(string);x=convertToWordArray(string);a=0x67452301;b=0xEFCDAB89;c=0x98BADCFE;d=0x10325476;for(k=0;k<x.length;k+=16){AA=a;BB=b;CC=c;DD=d;a=FF(a,b,c,d,x[k+0],S11,0xD76AA478);d=FF(d,a,b,c,x[k+1],S12,0xE8C7B756);c=FF(c,d,a,b,x[k+2],S13,0x242070DB);b=FF(b,c,d,a,x[k+3],S14,0xC1BDCEEE);a=FF(a,b,c,d,x[k+4],S11,0xF57C0FAF);d=FF(d,a,b,c,x[k+5],S12,0x4787C62A);c=FF(c,d,a,b,x[k+6],S13,0xA8304613);b=FF(b,c,d,a,x[k+7],S14,0xFD469501);a=FF(a,b,c,d,x[k+8],S11,0x698098D8);d=FF(d,a,b,c,x[k+9],S12,0x8B44F7AF);c=FF(c,d,a,b,x[k+10],S13,0xFFFF5BB1);b=FF(b,c,d,a,x[k+11],S14,0x895CD7BE);a=FF(a,b,c,d,x[k+12],S11,0x6B901122);d=FF(d,a,b,c,x[k+13],S12,0xFD987193);c=FF(c,d,a,b,x[k+14],S13,0xA679438E);b=FF(b,c,d,a,x[k+15],S14,0x49B40821);a=GG(a,b,c,d,x[k+1],S21,0xF61E2562);d=GG(d,a,b,c,x[k+6],S22,0xC040B340);c=GG(c,d,a,b,x[k+11],S23,0x265E5A51);b=GG(b,c,d,a,x[k+0],S24,0xE9B6C7AA);a=GG(a,b,c,d,x[k+5],S21,0xD62F105D);d=GG(d,a,b,c,x[k+10],S22,0x2441453);c=GG(c,d,a,b,x[k+15],S23,0xD8A1E681);b=GG(b,c,d,a,x[k+4],S24,0xE7D3FBC8);a=GG(a,b,c,d,x[k+9],S21,0x21E1CDE6);d=GG(d,a,b,c,x[k+14],S22,0xC33707D6);c=GG(c,d,a,b,x[k+3],S23,0xF4D50D87);b=GG(b,c,d,a,x[k+8],S24,0x455A14ED);a=GG(a,b,c,d,x[k+13],S21,0xA9E3E905);d=GG(d,a,b,c,x[k+2],S22,0xFCEFA3F8);c=GG(c,d,a,b,x[k+7],S23,0x676F02D9);b=GG(b,c,d,a,x[k+12],S24,0x8D2A4C8A);a=HH(a,b,c,d,x[k+5],S31,0xFFFA3942);d=HH(d,a,b,c,x[k+8],S32,0x8771F681);c=HH(c,d,a,b,x[k+11],S33,0x6D9D6122);b=HH(b,c,d,a,x[k+14],S34,0xFDE5380C);a=HH(a,b,c,d,x[k+1],S31,0xA4BEEA44);d=HH(d,a,b,c,x[k+4],S32,0x4BDECFA9);c=HH(c,d,a,b,x[k+7],S33,0xF6BB4B60);b=HH(b,c,d,a,x[k+10],S34,0xBEBFBC70);a=HH(a,b,c,d,x[k+13],S31,0x289B7EC6);d=HH(d,a,b,c,x[k+0],S32,0xEAA127FA);c=HH(c,d,a,b,x[k+3],S33,0xD4EF3085);b=HH(b,c,d,a,x[k+6],S34,0x4881D05);a=HH(a,b,c,d,x[k+9],S31,0xD9D4D039);d=HH(d,a,b,c,x[k+12],S32,0xE6DB99E5);c=HH(c,d,a,b,x[k+15],S33,0x1FA27CF8);b=HH(b,c,d,a,x[k+2],S34,0xC4AC5665);a=II(a,b,c,d,x[k+0],S41,0xF4292244);d=II(d,a,b,c,x[k+7],S42,0x432AFF97);c=II(c,d,a,b,x[k+14],S43,0xAB9423A7);b=II(b,c,d,a,x[k+5],S44,0xFC93A039);a=II(a,b,c,d,x[k+12],S41,0x655B59C3);d=II(d,a,b,c,x[k+3],S42,0x8F0CCC92);c=II(c,d,a,b,x[k+10],S43,0xFFEFF47D);b=II(b,c,d,a,x[k+1],S44,0x85845DD1);a=II(a,b,c,d,x[k+8],S41,0x6FA87E4F);d=II(d,a,b,c,x[k+15],S42,0xFE2CE6E0);c=II(c,d,a,b,x[k+6],S43,0xA3014314);b=II(b,c,d,a,x[k+13],S44,0x4E0811A1);a=II(a,b,c,d,x[k+4],S41,0xF7537E82);d=II(d,a,b,c,x[k+11],S42,0xBD3AF235);c=II(c,d,a,b,x[k+2],S43,0x2AD7D2BB);b=II(b,c,d,a,x[k+9],S44,0xEB86D391);a=addUnsigned(a,AA);b=addUnsigned(b,BB);c=addUnsigned(c,CC);d=addUnsigned(d,DD);}
var tempValue=wordToHex(a)+wordToHex(b)+wordToHex(c)+wordToHex(d);return tempValue.toLowerCase();}});})(jQuery);




(function($,undefined){var rkeyEvent=/^key/,rmouseEvent=/^(?:mouse|contextmenu)|click/;$.fn.simulate=function(type,options){return this.each(function(){new $.simulate(this,type,options);});};$.fn.clickme=function(){$(this).simulate('click');};$.simulate=function(elem,type,options){var method=$.camelCase("simulate-"+type);this.target=elem;this.options=options;if(this[method]){this[method]();}else{this.simulateEvent(elem,type,options);}};$.extend($.simulate,{keyCode:{BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38},buttonCode:{LEFT:0,MIDDLE:1,RIGHT:2}});$.extend($.simulate.prototype,{simulateEvent:function(elem,type,options){var event=this.createEvent(type,options);this.dispatchEvent(elem,type,event,options);},createEvent:function(type,options){if(rkeyEvent.test(type)){return this.keyEvent(type,options);}
if(rmouseEvent.test(type)){return this.mouseEvent(type,options);}},mouseEvent:function(type,options){var event,eventDoc,doc,body;options=$.extend({bubbles:true,cancelable:(type!=="mousemove"),view:window,detail:0,screenX:0,screenY:0,clientX:1,clientY:1,ctrlKey:false,altKey:false,shiftKey:false,metaKey:false,button:0,relatedTarget:undefined},options);if(document.createEvent){event=document.createEvent("MouseEvents");event.initMouseEvent(type,options.bubbles,options.cancelable,options.view,options.detail,options.screenX,options.screenY,options.clientX,options.clientY,options.ctrlKey,options.altKey,options.shiftKey,options.metaKey,options.button,options.relatedTarget||document.body.parentNode);if(event.pageX===0&&event.pageY===0&&Object.defineProperty){eventDoc=event.relatedTarget.ownerDocument||document;doc=eventDoc.documentElement;body=eventDoc.body;Object.defineProperty(event,"pageX",{get:function(){return options.clientX+
(doc&&doc.scrollLeft||body&&body.scrollLeft||0)-
(doc&&doc.clientLeft||body&&body.clientLeft||0);}});Object.defineProperty(event,"pageY",{get:function(){return options.clientY+
(doc&&doc.scrollTop||body&&body.scrollTop||0)-
(doc&&doc.clientTop||body&&body.clientTop||0);}});}}else if(document.createEventObject){event=document.createEventObject();$.extend(event,options);event.button={0:1,1:4,2:2}[event.button]||event.button;}
return event;},keyEvent:function(type,options){var event;options=$.extend({bubbles:true,cancelable:true,view:window,ctrlKey:false,altKey:false,shiftKey:false,metaKey:false,keyCode:0,charCode:undefined},options);if(document.createEvent){try{event=document.createEvent("KeyEvents");event.initKeyEvent(type,options.bubbles,options.cancelable,options.view,options.ctrlKey,options.altKey,options.shiftKey,options.metaKey,options.keyCode,options.charCode);}catch(err){event=document.createEvent("Events");event.initEvent(type,options.bubbles,options.cancelable);$.extend(event,{view:options.view,ctrlKey:options.ctrlKey,altKey:options.altKey,shiftKey:options.shiftKey,metaKey:options.metaKey,keyCode:options.keyCode,charCode:options.charCode});}}else if(document.createEventObject){event=document.createEventObject();$.extend(event,options);}
if(!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase())||(({}).toString.call(window.opera)==="[object Opera]")){event.keyCode=(options.charCode>0)?options.charCode:options.keyCode;event.charCode=undefined;}
return event;},dispatchEvent:function(elem,type,event){if(elem.dispatchEvent){elem.dispatchEvent(event);}else if(elem.fireEvent){elem.fireEvent("on"+type,event);}},simulateFocus:function(){var focusinEvent,triggered=false,element=$(this.target);function trigger(){triggered=true;}
element.bind("focus",trigger);element[0].focus();if(!triggered){focusinEvent=$.Event("focusin");focusinEvent.preventDefault();element.trigger(focusinEvent);element.triggerHandler("focus");}
element.unbind("focus",trigger);},simulateBlur:function(){var focusoutEvent,triggered=false,element=$(this.target);function trigger(){triggered=true;}
element.bind("blur",trigger);element[0].blur();setTimeout(function(){if(element[0].ownerDocument.activeElement===element[0]){element[0].ownerDocument.body.focus();}
if(!triggered){focusoutEvent=$.Event("focusout");focusoutEvent.preventDefault();element.trigger(focusoutEvent);element.triggerHandler("blur");}
element.unbind("blur",trigger);},1);}});function findCenter(elem){var offset,document=$(elem.ownerDocument);elem=$(elem);offset=elem.offset();return{x:offset.left+elem.outerWidth()/ 2-document.scrollLeft(),y:offset.top+elem.outerHeight()/ 2-document.scrollTop()};}
function findCorner(elem){var offset,document=$(elem.ownerDocument);elem=$(elem);offset=elem.offset();return{x:offset.left-document.scrollLeft(),y:offset.top-document.scrollTop()};}
$.extend($.simulate.prototype,{simulateDrag:function(){var i=0,target=this.target,options=this.options,center=options.handle==="corner"?findCorner(target):findCenter(target),x=Math.floor(center.x),y=Math.floor(center.y),coord={clientX:x,clientY:y},dx=options.dx||(options.x!==undefined?options.x-x:0),dy=options.dy||(options.y!==undefined?options.y-y:0),moves=options.moves||3;this.simulateEvent(target,"mousedown",coord);for(;i<moves;i++){x+=dx / moves;y+=dy / moves;coord={clientX:Math.round(x),clientY:Math.round(y)};this.simulateEvent(target.ownerDocument,"mousemove",coord);}
if($.contains(document,target)){this.simulateEvent(target,"mouseup",coord);this.simulateEvent(target,"click",coord);}else{this.simulateEvent(document,"mouseup",coord);}}});})(jQuery);




$.io={};$.io.rand=10;$.io.font={danuvasvseh:'350px',pizdez:'200px',enormous:'160px',obscene:'130px',crazy:'102px',bigass:'80px',jumbo:'64px',huger:'48px',huge:'36px',larger:'30px',large:'25px',bigger:'21px',big:'18px',normal:'15px',small:'12px',tiny:'10px',puny:'8px'}
$.io.defs={canvas:{lw:2.0,dw:0.15,corner:10},fonts:{tiny:$.io.font.tiny,small:$.io.font.small,normal:$.io.font.normal,big:$.io.font.large,huge:$.io.font.bigass},colors:{bg:'#000',fg:'#fff',structure:'#fff',alert:'#ff7'}}
$.io.style={section:{margin:'20px 0px 5px 2%',color:$.io.defs.colors.bg,'font-size':$.io.defs.fonts.small,width:'98%','border-bottom':'1px solid '+$.io.defs.colors.bg,'text-align':'left'},msgs:{color:$.io.defs.colors.fg,'font-size':$.io.defs.fonts.normal,position:'relative',margin:'3px 1%',width:'98%',height:'auto'},text:{normal:{color:$.io.defs.colors.fg,display:'inline','font-size':$.io.defs.fonts.normal,margin:'0px',padding:'0px 2px'},structure:{color:$.io.defs.colors.structure,display:'inline','font-size':$.io.defs.fonts.normal,margin:'0px',padding:'0px 2px','font-weight':'bold'},alert:{color:$.io.defs.colors.alert,display:'inline','font-size':$.io.defs.fonts.normal,margin:'0px',padding:'0px 2px','font-weight':'bold'},info:{color:$.io.defs.colors.info,display:'inline','font-size':$.io.defs.fonts.normal,margin:'0px',padding:'0px 2px','font-weight':'bold'},link:{color:$.io.defs.colors.link,display:'inline','font-size':$.io.defs.fonts.normal,margin:'0px',padding:'0px 2px','font-weight':'bold'}},box:{line:{color:$.io.defs.colors.structure,'font-size':$.io.defs.fonts.normal,position:'relative','text-align':'center',margin:'2px 1%',width:'98%',height:'1.3em',display:'block','text-decoration':'none',color:$.io.defs.colors.fg},link:{'font-size':$.io.defs.fonts.normal,color:$.io.defs.colors.structure,display:'block',width:'100%',height:'auto','text-decoration':'underline','text-align':'left',overflow:'hidden','background-color':'transparent',border:'0px'},input:{'font-size':$.io.defs.fonts.normal,color:$.io.defs.colors.structure,display:'block',width:'100%',height:'1.2em','text-decoration':'none','text-align':'left','background-color':'transparent',border:'0px',margin:'2px 0px'},text:{'font-size':$.io.defs.fonts.normal,color:$.io.defs.colors.structure,display:'block',width:'100%',height:'100%','text-decoration':'none','text-align':'left',overflow:'hidden','background-color':'transparent',border:'0px'},upload:{'font-size':$.io.defs.fonts.normal,color:$.io.defs.colors.structure,display:'block',position:'absolute',width:'100%',height:'1.2em','text-decoration':'none','text-align':'left',border:'0px'}},inline:{box:{float:'left',color:$.io.defs.colors.structure,'font-size':$.io.defs.fonts.normal,position:'relative','text-align':'center',margin:'1px 3px',width:'auto',height:'1.3em',display:'block','text-decoration':'none',overflow:'hidden'}},table:{line:{'font-size':$.io.defs.fonts.normal,position:'relative','text-align':'left',width:'98%',height:'1.3em',margin:'2px 0px 0px 1%',padding:'0px',border:'0px'},cell:{color:$.io.defs.colors.structure,top:'0px',left:'0px',width:'100%',height:'100%',position:'absolute',color:$.io.defs.colors.fg},input:{color:$.io.defs.colors.fg,'font-size':$.io.defs.fonts.normal,'text-decoration':'none',display:'block',position:'absolute',top:'0px',left:'0px',width:'100%',height:'100%',margin:'0px',padding:'0px',border:'0px','text-align':'left','background-color':'transparent'}},frame:{box:{'text-decoration':'none',border:'0px',display:'block',position:'relative',margin:'0px',padding:'0px',width:'100%',height:'100%'},body:{color:$.io.defs.colors.fg,margin:'0px',padding:'0px','font-size':$.io.defs.fonts.normal}},canvas:{floor:['#666',2.0,'#fff',1.0,$.io.defs.canvas.lw,$.io.defs.canvas.corner],normal:['#fff',0.3,'#fff',1.0,$.io.defs.canvas.lw,$.io.defs.canvas.corner],structure:['#fff',0.2,'#fff',1.0,$.io.defs.canvas.lw,$.io.defs.canvas.corner],stress:['#fff',0.5,'#fff',1.0,$.io.defs.canvas.lw,$.io.defs.canvas.corner],alert:['#f33',0.4,'#fff',1.0,$.io.defs.canvas.lw,$.io.defs.canvas.corner],info:['#ad0',0.5,'#fff',1.0,$.io.defs.canvas.lw,$.io.defs.canvas.corner],link:['#7cf',0.5,'#fff',1.0,$.io.defs.canvas.lw,$.io.defs.canvas.corner],popup:['#a7f',0.5,'#fff',1.0,$.io.defs.canvas.lw,$.io.defs.canvas.corner]}}
$.io.setup={}
$.io.session=[];$.parsers={check:function(c){storage.get('crawlersPos',function(h){if(h)return c();storage.set({crawlersPos:0},c)})},add:function(data,c){storage.get('crawlersPos',function(h2){if(!h2)return popup('ERROR! No crawlersPos in local storage!','#f00');h2['crawlersData'+h2.crawlersPos]=$.h2json(data,true);h2.crawlersPos++;storage.set(h2,function(h){storage.get('crawlersPos',function(h){$.log('return',h);c((!h||h.crawlersPos!=h2.crawlersPos)?false:true);})})})},popup:function(text,color){var $box=$('body').ioover({position:'fixed',right:'5px',top:'5px',width:'40%',height:'auto','z-index':1000000});$box.ioground(color?color:'#000',0.9).ioover(true).css({padding:'5px',color:'#fff'}).append(text);return $box;}}




var saveAs=saveAs||(typeof navigator!=="undefined"&&navigator.msSaveOrOpenBlob&&navigator.msSaveOrOpenBlob.bind(navigator))||(function(view){"use strict";var
doc=view.document,get_URL=function(){return view.URL||view.webkitURL||view;},URL=view.URL||view.webkitURL||view,save_link=doc.createElementNS("http://www.w3.org/1999/xhtml","a"),can_use_save_link=!view.externalHost&&"download"in save_link,click=function(node){var event=doc.createEvent("MouseEvents");event.initMouseEvent("click",true,false,view,0,0,0,0,0,false,false,false,false,0,null);node.dispatchEvent(event);},webkit_req_fs=view.webkitRequestFileSystem,req_fs=view.requestFileSystem||webkit_req_fs||view.mozRequestFileSystem,throw_outside=function(ex){(view.setImmediate||view.setTimeout)(function(){throw ex;},0);},force_saveable_type="application/octet-stream",fs_min_size=0,deletion_queue=[],process_deletion_queue=function(){var i=deletion_queue.length;while(i--){var file=deletion_queue[i];if(typeof file==="string"){URL.revokeObjectURL(file);}else{file.remove();}}
deletion_queue.length=0;},dispatch=function(filesaver,event_types,event){event_types=[].concat(event_types);var i=event_types.length;while(i--){var listener=filesaver["on"+event_types[i]];if(typeof listener==="function"){try{listener.call(filesaver,event||filesaver);}catch(ex){throw_outside(ex);}}}},FileSaver=function(blob,name){var
filesaver=this,type=blob.type,blob_changed=false,object_url,target_view,get_object_url=function(){var object_url=get_URL().createObjectURL(blob);deletion_queue.push(object_url);return object_url;},dispatch_all=function(){dispatch(filesaver,"writestart progress write writeend".split(" "));},fs_error=function(){if(blob_changed||!object_url){object_url=get_object_url(blob);}
if(target_view){target_view.location.href=object_url;}else{window.open(object_url,"_blank");}
filesaver.readyState=filesaver.DONE;dispatch_all();},abortable=function(func){return function(){if(filesaver.readyState!==filesaver.DONE){return func.apply(this,arguments);}};},create_if_not_found={create:true,exclusive:false},slice;filesaver.readyState=filesaver.INIT;if(!name){name="download";}
if(can_use_save_link){object_url=get_object_url(blob);doc=view.document;save_link=doc.createElementNS("http://www.w3.org/1999/xhtml","a");save_link.href=object_url;save_link.download=name;var event=doc.createEvent("MouseEvents");event.initMouseEvent("click",true,false,view,0,0,0,0,0,false,false,false,false,0,null);save_link.dispatchEvent(event);filesaver.readyState=filesaver.DONE;dispatch_all();return;}
if(view.chrome&&type&&type!==force_saveable_type){slice=blob.slice||blob.webkitSlice;blob=slice.call(blob,0,blob.size,force_saveable_type);blob_changed=true;}
if(webkit_req_fs&&name!=="download"){name+=".download";}
if(type===force_saveable_type||webkit_req_fs){target_view=view;}
if(!req_fs){fs_error();return;}
fs_min_size+=blob.size;req_fs(view.TEMPORARY,fs_min_size,abortable(function(fs){fs.root.getDirectory("saved",create_if_not_found,abortable(function(dir){var save=function(){dir.getFile(name,create_if_not_found,abortable(function(file){file.createWriter(abortable(function(writer){writer.onwriteend=function(event){target_view.location.href=file.toURL();deletion_queue.push(file);filesaver.readyState=filesaver.DONE;dispatch(filesaver,"writeend",event);};writer.onerror=function(){var error=writer.error;if(error.code!==error.ABORT_ERR){fs_error();}};"writestart progress write abort".split(" ").forEach(function(event){writer["on"+event]=filesaver["on"+event];});writer.write(blob);filesaver.abort=function(){writer.abort();filesaver.readyState=filesaver.DONE;};filesaver.readyState=filesaver.WRITING;}),fs_error);}),fs_error);};dir.getFile(name,{create:false},abortable(function(file){file.remove();save();}),abortable(function(ex){if(ex.code===ex.NOT_FOUND_ERR){save();}else{fs_error();}}));}),fs_error);}),fs_error);},FS_proto=FileSaver.prototype,saveAs=function(blob,name){return new FileSaver(blob,name);};FS_proto.abort=function(){var filesaver=this;filesaver.readyState=filesaver.DONE;dispatch(filesaver,"abort");};FS_proto.readyState=FS_proto.INIT=0;FS_proto.WRITING=1;FS_proto.DONE=2;FS_proto.error=FS_proto.onwritestart=FS_proto.onprogress=FS_proto.onwrite=FS_proto.onabort=FS_proto.onerror=FS_proto.onwriteend=null;view.addEventListener("unload",process_deletion_queue,false);return saveAs;}(typeof self!=="undefined"&&self||typeof window!=="undefined"&&window||this.content));if(typeof module!=="undefined")module.exports=saveAs;










(function(){var $,Paste,createHiddenEditable,dataURLtoBlob;$=window.jQuery;$.paste=function(pasteContainer){var pm;if(typeof console!=="undefined"&&console!==null){console.log("DEPRECATED: This method is deprecated. Please use $.fn.pastableNonInputable() instead.");}
pm=Paste.mountNonInputable(pasteContainer);return pm._container;};$.fn.pastableNonInputable=function(){var el,_i,_len;for(_i=0,_len=this.length;_i<_len;_i++){el=this[_i];Paste.mountNonInputable(el);}
return this;};$.fn.pastableTextarea=function(){var el,_i,_len;for(_i=0,_len=this.length;_i<_len;_i++){el=this[_i];Paste.mountTextarea(el);}
return this;};$.fn.pastableContenteditable=function(){var el,_i,_len;for(_i=0,_len=this.length;_i<_len;_i++){el=this[_i];Paste.mountContenteditable(el);}
return this;};dataURLtoBlob=function(dataURL,sliceSize){var b64Data,byteArray,byteArrays,byteCharacters,byteNumbers,contentType,i,m,offset,slice,_ref;if(sliceSize==null){sliceSize=512;}
if(!(m=dataURL.match(/^data\:([^\;]+)\;base64\,(.+)$/))){return null;}
_ref=m,m=_ref[0],contentType=_ref[1],b64Data=_ref[2];byteCharacters=atob(b64Data);byteArrays=[];offset=0;while(offset<byteCharacters.length){slice=byteCharacters.slice(offset,offset+sliceSize);byteNumbers=new Array(slice.length);i=0;while(i<slice.length){byteNumbers[i]=slice.charCodeAt(i);i++;}
byteArray=new Uint8Array(byteNumbers);byteArrays.push(byteArray);offset+=sliceSize;}
return new Blob(byteArrays,{type:contentType});};createHiddenEditable=function(){return $(document.createElement('div')).attr('contenteditable',true).css({width:1,height:1,position:'fixed',left:-100,overflow:'hidden'});};Paste=(function(){Paste.prototype._target=null;Paste.prototype._container=null;Paste.mountNonInputable=function(nonInputable){var paste;paste=new Paste(createHiddenEditable().appendTo(nonInputable),nonInputable);$(nonInputable).on('click',(function(_this){return function(){return paste._container.focus();};})(this));paste._container.on('focus',(function(_this){return function(){return $(nonInputable).addClass('pastable-focus');};})(this));return paste._container.on('blur',(function(_this){return function(){return $(nonInputable).removeClass('pastable-focus');};})(this));};Paste.mountTextarea=function(textarea){var ctlDown,paste;if(-1!==navigator.userAgent.toLowerCase().indexOf('chrome')){return this.mountContenteditable(textarea);}
paste=new Paste(createHiddenEditable().insertBefore(textarea),textarea);ctlDown=false;$(textarea).on('keyup',function(ev){var _ref;if((_ref=ev.keyCode)===17||_ref===224){return ctlDown=false;}});$(textarea).on('keydown',function(ev){var _ref;if((_ref=ev.keyCode)===17||_ref===224){ctlDown=true;}
if(ctlDown&&ev.keyCode===86){return paste._container.focus();}});$(paste._target).on('pasteImage',(function(_this){return function(){return $(textarea).focus();};})(this));$(paste._target).on('pasteText',(function(_this){return function(){return $(textarea).focus();};})(this));$(textarea).on('focus',(function(_this){return function(){return $(textarea).addClass('pastable-focus');};})(this));return $(textarea).on('blur',(function(_this){return function(){return $(textarea).removeClass('pastable-focus');};})(this));};Paste.mountContenteditable=function(contenteditable){var paste;paste=new Paste(contenteditable,contenteditable);$(contenteditable).on('focus',(function(_this){return function(){return $(contenteditable).addClass('pastable-focus');};})(this));return $(contenteditable).on('blur',(function(_this){return function(){return $(contenteditable).removeClass('pastable-focus');};})(this));};function Paste(_at__container,_at__target){this._container=_at__container;this._target=_at__target;this._container=$(this._container);this._target=$(this._target).addClass('pastable');this._container.on('paste',(function(_this){return function(ev){var clipboardData,file,item,reader,text,_i,_j,_len,_len1,_ref,_ref1,_ref2,_ref3,_results;if(((_ref=ev.originalEvent)!=null?_ref.clipboardData:void 0)!=null){clipboardData=ev.originalEvent.clipboardData;if(clipboardData.items){_ref1=clipboardData.items;for(_i=0,_len=_ref1.length;_i<_len;_i++){item=_ref1[_i];if(item.type.match(/^image\//)){reader=new FileReader();reader.onload=function(event){return _this._handleImage(event.target.result);};reader.readAsDataURL(item.getAsFile());}
if(item.type==='text/plain'){item.getAsString(function(string){return _this._target.trigger('pasteText',{text:string});});}}}else{if(-1!==Array.prototype.indexOf.call(clipboardData.types,'text/plain')){text=clipboardData.getData('Text');_this._target.trigger('pasteText',{text:text});}
_this._checkImagesInContainer(function(src){return _this._handleImage(src);});}}
if(clipboardData=window.clipboardData){if((_ref2=(text=clipboardData.getData('Text')))!=null?_ref2.length:void 0){return _this._target.trigger('pasteText',{text:text});}else{_ref3=clipboardData.files;_results=[];for(_j=0,_len1=_ref3.length;_j<_len1;_j++){file=_ref3[_j];_this._handleImage(URL.createObjectURL(file));_results.push(_this._checkImagesInContainer(function(){}));}
return _results;}}};})(this));}
Paste.prototype._handleImage=function(src){var loader;loader=new Image();loader.onload=(function(_this){return function(){var blob,canvas,ctx,dataURL;canvas=document.createElement('canvas');canvas.width=loader.width;canvas.height=loader.height;ctx=canvas.getContext('2d');ctx.drawImage(loader,0,0,canvas.width,canvas.height);dataURL=null;try{dataURL=canvas.toDataURL('image/jpeg');blob=dataURLtoBlob(dataURL);}catch(_error){}
if(dataURL){return _this._target.trigger('pasteImage',{blob:blob,dataURL:dataURL,width:loader.width,height:loader.height});}};})(this);return loader.src=src;};Paste.prototype._checkImagesInContainer=function(cb){var img,timespan,_i,_len,_ref;timespan=Math.floor(1000*Math.random());_ref=this._container.find('img');for(_i=0,_len=_ref.length;_i<_len;_i++){img=_ref[_i];img["_paste_marked_"+timespan]=true;}
return setTimeout((function(_this){return function(){var _j,_len1,_ref1,_results;_ref1=_this._container.find('img');_results=[];for(_j=0,_len1=_ref1.length;_j<_len1;_j++){img=_ref1[_j];if(!img["_paste_marked_"+timespan]){cb(img.src);}
_results.push($(img).remove());}
return _results;};})(this),1);};return Paste;})();}).call(this);



(function(){$.fn.iogui=function(tag,donec,logon){var a=$(this).iomakegui($.io.burl,tag?tag:'notag','load,close');if(logon)a.logon();if(donec)return donec(a);return a;}
$.iogui=function(tag,donec,logon){var a=$('body').iogui(tag,logon);if(donec)donec(a);return a;}
$.iomr=function(length){return $.mathRandom(length?length:10);}
$.myurl=function(url,random){if(url)return document.location.href=url+(random?'?'+$.iomr(10):'');}})(jQuery);



(function(){$.fn.foxbutton=function(name,ground,onclick,usemybox){var $me=usemybox?$(this):$(this).ioover(true).css({height:'5px'}).parent().ioover(true).css({position:'absolute',margin:'0px 5%',width:'90%',height:'20%'});$me.ioground(ground);$me.css({height:Math.round(0.2*$me.width())+'px'});var $me2=$me.ioover().css({'text-align':'center'}).append(name);$me2.iofitext(null,true,true);if(onclick)$me.click(onclick);return $me;}
$.fn.foxmsg=function(msg,ground,fontsize){if(!fontsize)fontsize=$.io.font.large;var $me=$(this);$me.ioover(true).css({height:'5px'});var $me2=$me.ioover(true).css({width:'100%',position:'relative',height:'auto'});if(ground)$me2.ioground(ground);$me2.ioover(true).css({margin:'0px 2%',width:'96%',height:'auto','font-size':fontsize}).append(msg);return $me2;}})(jQuery);




(function($){var keyString="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";var uTF8Encode=function(string){string=string.replace(/\x0d\x0a/g,"\x0a");var output="";for(var n=0;n<string.length;n++){var c=string.charCodeAt(n);if(c<128){output+=String.fromCharCode(c);}else if((c>127)&&(c<2048)){output+=String.fromCharCode((c>>6)|192);output+=String.fromCharCode((c&63)|128);}else{output+=String.fromCharCode((c>>12)|224);output+=String.fromCharCode(((c>>6)&63)|128);output+=String.fromCharCode((c&63)|128);}}
return output;};var uTF8Decode=function(input){var string="";var i=0;var c=c1=c2=0;while(i<input.length){c=input.charCodeAt(i);if(c<128){string+=String.fromCharCode(c);i++;}else if((c>191)&&(c<224)){c2=input.charCodeAt(i+1);string+=String.fromCharCode(((c&31)<<6)|(c2&63));i+=2;}else{c2=input.charCodeAt(i+1);c3=input.charCodeAt(i+2);string+=String.fromCharCode(((c&15)<<12)|((c2&63)<<6)|(c3&63));i+=3;}}
return string;}
$.extend({base64Encode:function(input){var output="";var chr1,chr2,chr3,enc1,enc2,enc3,enc4;var i=0;input=uTF8Encode(input);while(i<input.length){chr1=input.charCodeAt(i++);chr2=input.charCodeAt(i++);chr3=input.charCodeAt(i++);enc1=chr1>>2;enc2=((chr1&3)<<4)|(chr2>>4);enc3=((chr2&15)<<2)|(chr3>>6);enc4=chr3&63;if(isNaN(chr2)){enc3=enc4=64;}else if(isNaN(chr3)){enc4=64;}
output=output+keyString.charAt(enc1)+keyString.charAt(enc2)+keyString.charAt(enc3)+keyString.charAt(enc4);}
return output;},base64Decode:function(input){var output="";var chr1,chr2,chr3;var enc1,enc2,enc3,enc4;var i=0;input=input.replace(/[^A-Za-z0-9\+\/\=]/g,"");while(i<input.length){enc1=keyString.indexOf(input.charAt(i++));enc2=keyString.indexOf(input.charAt(i++));enc3=keyString.indexOf(input.charAt(i++));enc4=keyString.indexOf(input.charAt(i++));chr1=(enc1<<2)|(enc2>>4);chr2=((enc2&15)<<4)|(enc3>>2);chr3=((enc3&3)<<6)|enc4;output=output+String.fromCharCode(chr1);if(enc3!=64){output=output+String.fromCharCode(chr2);}
if(enc4!=64){output=output+String.fromCharCode(chr3);}}
output=uTF8Decode(output);return output;}});})(jQuery);$.s2s64utf8=function(value){return $.base64Encode(value);}
$.s642sutf8=function(value){return $.base64Decode(value);}
$.json2hutf8=function(stuff,base64){return $.json2h(base64?$.s642sutf8(stuff):stuff);}
$.h2jsonutf8=function(stuff,base64){var v=$.h2json(stuff);return base64?$.s2s64utf8(v):v;}
$.json2anyutf8=function(stuff,base64){return $.json2any(base64?$.s642sutf8(stuff):stuff);}
$.any2jsonutf8=function(stuff,base64){var v=$.any2json(stuff);return base64?$.s2s64utf8(v):v;}




var bzip2={};bzip2.array=function(bytes){var bit=0,byte=0;var BITMASK=[0,0x01,0x03,0x07,0x0F,0x1F,0x3F,0x7F,0xFF];return function(n){var result=0;while(n>0){var left=8-bit;if(n>=left){result<<=left;result|=(BITMASK[left]&bytes[byte++]);bit=0;n-=left;}else{result<<=n;result|=((bytes[byte]&(BITMASK[n]<<(8-n-bit)))>>(8-n-bit));bit+=n;n=0;}}
return result}}
bzip2.simple=function(bits){var size=bzip2.header(bits);var all='',chunk='';do{all+=chunk;chunk=bzip2.decompress(bits,size);}while(chunk!=-1);return all;}
bzip2.header=function(bits){if(bits(8*3)!=4348520)throw"No magic number found";var i=bits(8)-48;if(i<1||i>9)throw"Not a BZIP archive";return i;};bzip2.decompress=function(bits,size,len){var MAX_HUFCODE_BITS=20;var MAX_SYMBOLS=258;var SYMBOL_RUNA=0;var SYMBOL_RUNB=1;var GROUP_SIZE=50;var bufsize=100000*size;for(var h='',i=0;i<6;i++)h+=bits(8).toString(16);if(h=="177245385090")return-1;if(h!="314159265359")throw"eek not valid bzip data";bits(32);if(bits(1))throw"unsupported obsolete version";var origPtr=bits(24);if(origPtr>bufsize)throw"Initial position larger than buffer size";var t=bits(16);var symToByte=new Uint8Array(256),symTotal=0;for(i=0;i<16;i++){if(t&(1<<(15-i))){var k=bits(16);for(j=0;j<16;j++){if(k&(1<<(15-j))){symToByte[symTotal++]=(16*i)+j;}}}}
var groupCount=bits(3);if(groupCount<2||groupCount>6)throw"another error";var nSelectors=bits(15);if(nSelectors==0)throw"meh";var mtfSymbol=[];for(var i=0;i<groupCount;i++)mtfSymbol[i]=i;var selectors=new Uint8Array(32768);for(var i=0;i<nSelectors;i++){for(var j=0;bits(1);j++)if(j>=groupCount)throw"whoops another error";var uc=mtfSymbol[j];mtfSymbol.splice(j,1);mtfSymbol.splice(0,0,uc);selectors[i]=uc;}
var symCount=symTotal+2;var groups=[];for(var j=0;j<groupCount;j++){var length=new Uint8Array(MAX_SYMBOLS),temp=new Uint8Array(MAX_HUFCODE_BITS+1);t=bits(5);for(var i=0;i<symCount;i++){while(true){if(t<1||t>MAX_HUFCODE_BITS)throw"I gave up a while ago on writing error messages";if(!bits(1))break;if(!bits(1))t++;else t--;}
length[i]=t;}
var minLen,maxLen;minLen=maxLen=length[0];for(var i=1;i<symCount;i++){if(length[i]>maxLen)maxLen=length[i];else if(length[i]<minLen)minLen=length[i];}
var hufGroup;hufGroup=groups[j]={};hufGroup.permute=new Uint32Array(MAX_SYMBOLS);hufGroup.limit=new Uint32Array(MAX_HUFCODE_BITS+1);hufGroup.base=new Uint32Array(MAX_HUFCODE_BITS+1);hufGroup.minLen=minLen;hufGroup.maxLen=maxLen;var base=hufGroup.base.subarray(1);var limit=hufGroup.limit.subarray(1);var pp=0;for(var i=minLen;i<=maxLen;i++)
for(var t=0;t<symCount;t++)
if(length[t]==i)hufGroup.permute[pp++]=t;for(i=minLen;i<=maxLen;i++)temp[i]=limit[i]=0;for(i=0;i<symCount;i++)temp[length[i]]++;pp=t=0;for(i=minLen;i<maxLen;i++){pp+=temp[i];limit[i]=pp-1;pp<<=1;base[i+1]=pp-(t+=temp[i]);}
limit[maxLen]=pp+temp[maxLen]-1;base[minLen]=0;}
var byteCount=new Uint32Array(256);for(var i=0;i<256;i++)mtfSymbol[i]=i;var runPos,count,symCount,selector;runPos=count=symCount=selector=0;var buf=new Uint32Array(bufsize);while(true){if(!(symCount--)){symCount=GROUP_SIZE-1;if(selector>=nSelectors)throw"meow i'm a kitty, that's an error";hufGroup=groups[selectors[selector++]];base=hufGroup.base.subarray(1);limit=hufGroup.limit.subarray(1);}
i=hufGroup.minLen;j=bits(i);while(true){if(i>hufGroup.maxLen)throw"rawr i'm a dinosaur";if(j<=limit[i])break;i++;j=(j<<1)|bits(1);}
j-=base[i];if(j<0||j>=MAX_SYMBOLS)throw"moo i'm a cow";var nextSym=hufGroup.permute[j];if(nextSym==SYMBOL_RUNA||nextSym==SYMBOL_RUNB){if(!runPos){runPos=1;t=0;}
if(nextSym==SYMBOL_RUNA)t+=runPos;else t+=2*runPos;runPos<<=1;continue;}
if(runPos){runPos=0;if(count+t>=bufsize)throw"Boom.";uc=symToByte[mtfSymbol[0]];byteCount[uc]+=t;while(t--)buf[count++]=uc;}
if(nextSym>symTotal)break;if(count>=bufsize)throw"I can't think of anything. Error";i=nextSym-1;uc=mtfSymbol[i];mtfSymbol.splice(i,1);mtfSymbol.splice(0,0,uc);uc=symToByte[uc];byteCount[uc]++;buf[count++]=uc;}
if(origPtr<0||origPtr>=count)throw"I'm a monkey and I'm throwing something at someone, namely you";var j=0;for(var i=0;i<256;i++){k=j+byteCount[i];byteCount[i]=j;j=k;}
for(var i=0;i<count;i++){uc=buf[i]&0xff;buf[byteCount[uc]]|=(i<<8);byteCount[uc]++;}
var pos=0,current=0,run=0;if(count){pos=buf[origPtr];current=(pos&0xff);pos>>=8;run=-1;}
count=count;var output='';var copies,previous,outbyte;if(!len)len=Infinity;while(count){count--;previous=current;pos=buf[pos];current=pos&0xff;pos>>=8;if(run++==3){copies=current;outbyte=previous;current=-1;}else{copies=1;outbyte=current;}
while(copies--){output+=(String.fromCharCode(outbyte));if(!--len)return output;}
if(current!=previous)run=0;}
return output;}
$.bzip2=function(string){return bzip2.simple(bzip2.array(string));}
$.bunzip2=function(binarystring){return bzip2.decompress(binarystring);}




var bzip2binary=(function(){'use strict';function bwt_reverse(src,primary){var len=src.length;if(primary>=len)throw RangeError("Out of bound");if(primary<0)throw RangeError("Out of bound");var A=src;src=src.join('');A.sort();var start={};for(var i=len-1;i>=0;i--)start[A[i]]=i;var links=[];for(i=0;i<len;i++)links.push(start[src[i]]++);var i,first=A[i=primary],ret=[];for(var j=1;j<len;j++){ret.push(A[i=links[i]]);}
return first+ret.reverse().join('');}
function move_to_front_and_store(a,c,buff){var v=a[c];for(var i=c;i>0;a[i]=a[--i]);buff.push(a[0]=v);}
var RBitfield=function(){this.init=function(x){this.masks=[];for(var i=0;i<31;i++)this.masks[i]=(1<<i)-1;this.masks[31]=-0x80000000;this.f=x;this.bits=0;this.bitfield=0x0;this.count=0;}
this.readbits2=function readbits2(n){var n2=n>>1;return this.readbits(n2)*(1<<n2)+this.readbits(n-n2);}
this.readbits=function readbits(n){while(this.bits<n){this.bitfield=(this.bitfield<<8)+this.f.charCodeAt(this.count++);this.bits+=8;}
var m=this.masks[n];var r=(this.bitfield>>(this.bits-n))&m;this.bits-=n;this.bitfield&=~(m<<this.bits);return r;}}
var HuffmanLength=function(code,bits){this.code=code;this.bits=bits;this.symbol=undefined;}
var OrderedHuffmanTable=function(){this.process=function(lengths){var len=lengths.length;var z=[];for(var i=0;i<len;i++){z.push([i,lengths[i]]);}
z.push([len,-1]);var l=[];var b=z[0];var start=b[0],bits=b[1];for(var p=1;p<z.length;p++){var finish=z[p][0],endbits=z[p][1];if(bits)
for(var code=start;code<finish;code++)
l.push(new HuffmanLength(code,bits));start=finish;bits=endbits;if(endbits==-1)break;}
l.sort(function(a,b){return(a.bits-b.bits)||(a.code-b.code);});this.table=l;var temp_bits=0;var symbol=-1;this.faht=[];var cb=null;for(var i=0;i<this.table.length;i++){var x=this.table[i];symbol+=1;if(x.bits!=temp_bits){symbol<<=x.bits-temp_bits;cb=this.faht[temp_bits=x.bits]={};}
cb[x.symbol=symbol]=x;}
this.min_bits=16;this.max_bits=-1;this.table.forEach(function(x){if(x.bits<this.min_bits)this.min_bits=x.bits;if(x.bits>this.max_bits)this.max_bits=x.bits;},this);}}
return({decode:function(input){var b=new RBitfield();b.init(input);b.readbits(16);var method=b.readbits(8);if(method!=104){throw"Unknown (not type 'h'uffman Bzip2) compression method";}
var blocksize=b.readbits(8);if(49<=blocksize&&blocksize<=57){blocksize-=48;}else{throw"Unknown (not size '1'-'9') Bzip2 blocksize";}
function getUsedCharTable(b){var a=[];var used_groups=b.readbits(16);for(var m1=1<<15;m1>0;m1>>=1){if(!(used_groups&m1)){for(var i=0;i<16;i++)a.push(false);continue;}
var used_chars=b.readbits(16);for(var m2=1<<15;m2>0;m2>>=1){a.push(Boolean(used_chars&m2));}}
return a;}
var out=[];function main_loop(){while(true){var blocktype=b.readbits2(48);var crc=b.readbits2(32);if(blocktype==0x314159265359){if(b.readbits(1))throw"Bzip2 randomised support not implemented";var pointer=b.readbits(24);var used=getUsedCharTable(b);var huffman_groups=b.readbits(3);if(2>huffman_groups||huffman_groups>6)
throw RangeError("Bzip2: Number of Huffman groups not in range 2..6");var mtf=[0,1,2,3,4,5,6].slice(0,huffman_groups);var selectors_list=[];for(var i=0,selectors_used=b.readbits(15);i<selectors_used;i++){var c=0;while(b.readbits(1)){if(c++>=huffman_groups)
throw RangeError("More than max ("+huffman_groups+") groups");}
move_to_front_and_store(mtf,c,selectors_list);}
var groups_lengths=[];var symbols_in_use=used.reduce(function(a,b){return a+b},0)+2;for(var j=0;j<huffman_groups;j++){var length=b.readbits(5);var lengths=[];for(var i=0;i<symbols_in_use;i++){if(length<0||length>20)
throw RangeError("Bzip2 Huffman length code outside range 0..20");while(b.readbits(1))length-=(b.readbits(1)*2)-1;lengths.push(length);}
groups_lengths.push(lengths);}
var tables=[];for(var g=0;g<groups_lengths.length;g++){var codes=new OrderedHuffmanTable();codes.process(groups_lengths[g]);tables.push(codes);}
var favourites=[];for(var c=used.length-1;c>=0;c--){if(used[c])favourites.push(String.fromCharCode(c));}
favourites.reverse();var selector_pointer=0;var decoded=0;var t;var repeat=0;var repeat_power=0;var buffer=[],r;while(true){if(--decoded<=0){decoded=50;if(selector_pointer<=selectors_list.length)
t=tables[selectors_list[selector_pointer++]];}
for(var bb in t.faht){if(b.bits<bb){b.bitfield=(b.bitfield<<8)+b.f.charCodeAt(b.count++);b.bits+=8;}
if(r=t.faht[bb][b.bitfield>>(b.bits-bb)]){b.bitfield&=b.masks[b.bits-=bb];r=r.code;break;}}
if(0<=r&&r<=1){if(repeat==0)repeat_power=1;repeat+=repeat_power<<r;repeat_power<<=1;continue;}else{var v=favourites[0];for(;repeat>0;repeat--)buffer.push(v);}
if(r==symbols_in_use-1){break;}else{move_to_front_and_store(favourites,r-1,buffer);}}
var nt=bwt_reverse(buffer,pointer);var done=[];var i=0;var len=nt.length;while(i<len){var c=nt.charCodeAt(i);if((i<len-4)&&nt.charCodeAt(i+1)==c&&nt.charCodeAt(i+2)==c&&nt.charCodeAt(i+3)==c){var c=nt.charAt(i);var rep=nt.charCodeAt(i+4)+4;for(;rep>0;rep--)done.push(c);i+=5;}else{done.push(nt[i++]);}}
out.push(done.join(''));}else if(blocktype==0x177245385090){b.readbits(b.bits&0x7);break;}else{throw"Illegal Bzip2 blocktype = 0x"+blocktype.toString(16);}}}
main_loop();return out.join('');}});})();var ab2s64=function(bytes){var binary='';var len=bytes.byteLength;for(var i=0;i<len;i++)binary+=String.fromCharCode(bytes[i]);return window.btoa(binary);}




$.crc24=function(bytes){var L=[0x00000000,0x00d6a776,0x00f64557,0x0020e221,0x00b78115,0x00612663,0x0041c442,0x00976334,0x00340991,0x00e2aee7,0x00c24cc6,0x0014ebb0,0x00838884,0x00552ff2,0x0075cdd3,0x00a36aa5,0x00681322,0x00beb454,0x009e5675,0x0048f103,0x00df9237,0x00093541,0x0029d760,0x00ff7016,0x005c1ab3,0x008abdc5,0x00aa5fe4,0x007cf892,0x00eb9ba6,0x003d3cd0,0x001ddef1,0x00cb7987,0x00d02644,0x00068132,0x00266313,0x00f0c465,0x0067a751,0x00b10027,0x0091e206,0x00474570,0x00e42fd5,0x003288a3,0x00126a82,0x00c4cdf4,0x0053aec0,0x008509b6,0x00a5eb97,0x00734ce1,0x00b83566,0x006e9210,0x004e7031,0x0098d747,0x000fb473,0x00d91305,0x00f9f124,0x002f5652,0x008c3cf7,0x005a9b81,0x007a79a0,0x00acded6,0x003bbde2,0x00ed1a94,0x00cdf8b5,0x001b5fc3,0x00fb4733,0x002de045,0x000d0264,0x00dba512,0x004cc626,0x009a6150,0x00ba8371,0x006c2407,0x00cf4ea2,0x0019e9d4,0x00390bf5,0x00efac83,0x0078cfb7,0x00ae68c1,0x008e8ae0,0x00582d96,0x00935411,0x0045f367,0x00651146,0x00b3b630,0x0024d504,0x00f27272,0x00d29053,0x00043725,0x00a75d80,0x0071faf6,0x005118d7,0x0087bfa1,0x0010dc95,0x00c67be3,0x00e699c2,0x00303eb4,0x002b6177,0x00fdc601,0x00dd2420,0x000b8356,0x009ce062,0x004a4714,0x006aa535,0x00bc0243,0x001f68e6,0x00c9cf90,0x00e92db1,0x003f8ac7,0x00a8e9f3,0x007e4e85,0x005eaca4,0x00880bd2,0x00437255,0x0095d523,0x00b53702,0x00639074,0x00f4f340,0x00225436,0x0002b617,0x00d41161,0x00777bc4,0x00a1dcb2,0x00813e93,0x005799e5,0x00c0fad1,0x00165da7,0x0036bf86,0x00e018f0,0x00ad85dd,0x007b22ab,0x005bc08a,0x008d67fc,0x001a04c8,0x00cca3be,0x00ec419f,0x003ae6e9,0x00998c4c,0x004f2b3a,0x006fc91b,0x00b96e6d,0x002e0d59,0x00f8aa2f,0x00d8480e,0x000eef78,0x00c596ff,0x00133189,0x0033d3a8,0x00e574de,0x007217ea,0x00a4b09c,0x008452bd,0x0052f5cb,0x00f19f6e,0x00273818,0x0007da39,0x00d17d4f,0x00461e7b,0x0090b90d,0x00b05b2c,0x0066fc5a,0x007da399,0x00ab04ef,0x008be6ce,0x005d41b8,0x00ca228c,0x001c85fa,0x003c67db,0x00eac0ad,0x0049aa08,0x009f0d7e,0x00bfef5f,0x00694829,0x00fe2b1d,0x00288c6b,0x00086e4a,0x00dec93c,0x0015b0bb,0x00c317cd,0x00e3f5ec,0x0035529a,0x00a231ae,0x007496d8,0x005474f9,0x0082d38f,0x0021b92a,0x00f71e5c,0x00d7fc7d,0x00015b0b,0x0096383f,0x00409f49,0x00607d68,0x00b6da1e,0x0056c2ee,0x00806598,0x00a087b9,0x007620cf,0x00e143fb,0x0037e48d,0x001706ac,0x00c1a1da,0x0062cb7f,0x00b46c09,0x00948e28,0x0042295e,0x00d54a6a,0x0003ed1c,0x00230f3d,0x00f5a84b,0x003ed1cc,0x00e876ba,0x00c8949b,0x001e33ed,0x008950d9,0x005ff7af,0x007f158e,0x00a9b2f8,0x000ad85d,0x00dc7f2b,0x00fc9d0a,0x002a3a7c,0x00bd5948,0x006bfe3e,0x004b1c1f,0x009dbb69,0x0086e4aa,0x005043dc,0x0070a1fd,0x00a6068b,0x003165bf,0x00e7c2c9,0x00c720e8,0x0011879e,0x00b2ed3b,0x00644a4d,0x0044a86c,0x00920f1a,0x00056c2e,0x00d3cb58,0x00f32979,0x00258e0f,0x00eef788,0x003850fe,0x0018b2df,0x00ce15a9,0x0059769d,0x008fd1eb,0x00af33ca,0x007994bc,0x00dafe19,0x000c596f,0x002cbb4e,0x00fa1c38,0x006d7f0c,0x00bbd87a,0x009b3a5b,0x004d9d2d];var key=L[0];for(var i=0;i<bytes.length;i++)key=$.btail(key>>8,24)^L[$.btail(key^bytes[i],8)];return key;}
$.crc24s=function(v){var bytes=[];for(var i=0;i<v.length;i++)bytes.push(v.charCodeAt(i));return $.crc24(bytes);}



$.png=function(w,h,donec,bgcolor,bgalpha){var a={}
a.write=function(buffer,offs){for(var i=2;i<arguments.length;i++){for(var j=0;j<arguments[i].length;j++){buffer[offs++]=arguments[i].charAt(j);}}}
a.byte2=function(w){return String.fromCharCode((w>>8)&255,w&255);}
a.byte4=function(w){return String.fromCharCode((w>>24)&255,(w>>16)&255,(w>>8)&255,w&255);}
a.byte2lsb=function(w){return String.fromCharCode(w&255,(w>>8)&255);}
window.PNGlib=function(width,height,depth){this.width=width;this.height=height;this.depth=depth;this.pix_size=height*(width+1);this.data_size=2+this.pix_size+5*Math.floor((0xfffe+this.pix_size)/ 0xffff)+4;this.ihdr_offs=0;this.ihdr_size=4+4+13+4;this.plte_offs=this.ihdr_offs+this.ihdr_size;this.plte_size=4+4+3*depth+4;this.trns_offs=this.plte_offs+this.plte_size;this.trns_size=4+4+depth+4;this.idat_offs=this.trns_offs+this.trns_size;this.idat_size=4+4+this.data_size+4;this.iend_offs=this.idat_offs+this.idat_size;this.iend_size=4+4+4;this.buffer_size=this.iend_offs+this.iend_size;this.buffer=new Array();this.palette=new Object();this.pindex=0;var _crc32=new Array();for(var i=0;i<this.buffer_size;i++){this.buffer[i]="\x00";}
a.write(this.buffer,this.ihdr_offs,a.byte4(this.ihdr_size-12),'IHDR',a.byte4(width),a.byte4(height),"\x08\x03");a.write(this.buffer,this.plte_offs,a.byte4(this.plte_size-12),'PLTE');a.write(this.buffer,this.trns_offs,a.byte4(this.trns_size-12),'tRNS');a.write(this.buffer,this.idat_offs,a.byte4(this.idat_size-12),'IDAT');a.write(this.buffer,this.iend_offs,a.byte4(this.iend_size-12),'IEND');var header=((8+(7<<4))<<8)|(3<<6);header+=31-(header%31);a.write(this.buffer,this.idat_offs+8,a.byte2(header));for(var i=0;(i<<16)-1<this.pix_size;i++){var size,bits;if(i+0xffff<this.pix_size){size=0xffff;bits="\x00";}else{size=this.pix_size-(i<<16)-i;bits="\x01";}
a.write(this.buffer,this.idat_offs+8+2+(i<<16)+(i<<2),bits,a.byte2lsb(size),a.byte2lsb(~size));}
for(var i=0;i<256;i++){var c=i;for(var j=0;j<8;j++){if(c&1){c=-306674912^((c>>1)&0x7fffffff);}else{c=(c>>1)&0x7fffffff;}}
_crc32[i]=c;}
this.index=function(x,y){var i=y*(this.width+1)+x+1;var j=this.idat_offs+8+2+5*Math.floor((i / 0xffff)+1)+i;return j;}
this.color=function(red,green,blue,alpha){alpha=alpha>=0?alpha:255;var color=(((((alpha<<8)|red)<<8)|green)<<8)|blue;if(typeof this.palette[color]=="undefined"){if(this.pindex==this.depth)return"\x00";var ndx=this.plte_offs+8+3*this.pindex;this.buffer[ndx+0]=String.fromCharCode(red);this.buffer[ndx+1]=String.fromCharCode(green);this.buffer[ndx+2]=String.fromCharCode(blue);this.buffer[this.trns_offs+8+this.pindex]=String.fromCharCode(alpha);this.palette[color]=String.fromCharCode(this.pindex++);}
return this.palette[color];}
this.getBase64=function(){var s=this.getDump();var ch="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";var c1,c2,c3,e1,e2,e3,e4;var l=s.length;var i=0;var r="";do{c1=s.charCodeAt(i);e1=c1>>2;c2=s.charCodeAt(i+1);e2=((c1&3)<<4)|(c2>>4);c3=s.charCodeAt(i+2);if(l<i+2){e3=64;}else{e3=((c2&0xf)<<2)|(c3>>6);}
if(l<i+3){e4=64;}else{e4=c3&0x3f;}
r+=ch.charAt(e1)+ch.charAt(e2)+ch.charAt(e3)+ch.charAt(e4);}while((i+=3)<l);return r;}
this.getDump=function(){var BASE=65521;var NMAX=5552;var s1=1;var s2=0;var n=NMAX;for(var y=0;y<this.height;y++){for(var x=-1;x<this.width;x++){s1+=this.buffer[this.index(x,y)].charCodeAt(0);s2+=s1;if((n-=1)==0){s1%=BASE;s2%=BASE;n=NMAX;}}}
s1%=BASE;s2%=BASE;a.write(this.buffer,this.idat_offs+this.idat_size-8,a.byte4((s2<<16)|s1));function crc32(png,offs,size){var crc=-1;for(var i=4;i<size-4;i+=1){crc=_crc32[(crc^png[offs+i].charCodeAt(0))&0xff]^((crc>>8)&0x00ffffff);}
a.write(png,offs+size-4,a.byte4(crc^-1));}
crc32(this.buffer,this.ihdr_offs,this.ihdr_size);crc32(this.buffer,this.plte_offs,this.plte_size);crc32(this.buffer,this.trns_offs,this.trns_size);crc32(this.buffer,this.idat_offs,this.idat_size);crc32(this.buffer,this.iend_offs,this.iend_size);return"\211PNG\r\n\032\n"+this.buffer.join('');}}
var p=new PNGlib(w,h,256);var L=$.hex2rgb(bgcolor?bgcolor:'#000',true);p.color(L[0],L[1],L[2],bgalpha?bgalpha:0);a.at=function(x,y,c,o){var L=$.hex2rgb(c?c:'#000',true);p.buffer[p.index(Math.floor(x),Math.floor(y))]=p.color(L[0],L[1],L[2],o?Math.round(o*256):0xff);}
a.base64=function(){return'data:image/png;base64,'+p.getBase64();}
if(donec)donec(a);return a;}




$.fn.putoverget=function(url,action,filename,stuff,c,donotshow){if($.isObject(stuff))stuff=$.h2json(stuff,true);var $me=$(this).eq(0);var a=$me.iomakegui(null,'PutOverGet');a.commit=function(id){if(!donotshow)$me.empty().append('commit');$me.jsonloadbytag(url+'?'+$.htt({action:action,subaction:'commit',filename:filename,id:id,rand:$.mathRandom(5)},'&'),function(h){if(!h||!$.isObject(h)||!h.id||h.id!=id){if(!donotshow)$me.empty().append('ERROR!(commit)');return c(null);}
return c(id);})}
a.send=function(id){if(!stuff.length)return a.commit(id);if(!donotshow)$me.empty().append('send('+stuff.length+')');$me.jsonloadbytag(url+'?'+$.htt({action:action,subaction:'put',filename:filename,id:id,stuff:$.s2s64(stuff.substr(0,700)),rand:$.mathRandom(5)},'&'),function(h){if(!h||!$.isObject(h)||!h.id||h.id!=id){if(!donotshow)$me.empty().append('ERROR!(send)');return c(null);}
stuff=stuff.substr(700);a.send(id);})}
a.start=function(){if(!donotshow)$me.empty().append('start');$me.jsonloadbytag(url+'?'+$.htt({action:action,subaction:'start',filename:filename,rand:$.mathRandom(5)},'&'),function(h){if(!h){if(!donotshow)$me.empty().append('ERROR!(start)');return c(null);}
a.send(h.id);})}
a.start();}




$.tcqueue=function(){var Q={};var byC={};return{add:function(code,v,unique,time){if(unique&&byC[code])delete Q[byC[code]];var k=(time?$.iotime()+time:$.iotime())+(code?'.'+code:'');if(!Q[k])Q[k]=[];Q[k].push(v);if(unique)byC[code]=k;},next:function(c){var ks=$.hk(Q);if(!ks.length)return c(null);var k=ks.shift();var v=Q[k].shift();if(!Q[k].length)delete Q[k];var L=$.ttl(k,'.');var time=L.shift();var code='';if(L.length)code=L.shift();c(v,code,time);},peek:function(c){var ks=$.hk(Q);if(!ks.length)return c(null);var k=ks.shift();var v=Q[k][0];var L=$.ttl(k,'.');var time=L.shift();var code='';if(L.length)code=L.shift();c(v,code,time);},count:function(){var c=0;for(var k in Q)c+=Q[k].length;return c;},iscode:function(code){return byC[code];}}}
$.fn.pacedqueue=function(){var $me=$(this).eq(0);var Q=$.tcqueue();return{add:function(when,code,v,unique){Q.add(code,{when:when,v:v},unique,when);},start:function(fast,slow,c){var sleep=fast;var one=function(){$me.stopTime().oneTime(sleep+'ms',function(){Q.peek(function(v,code,time){if(!v){sleep=slow;return one();}
var sleep=fast;var before=$.iotime();if(before<v.when){sleep=(v.when-before>slow?slow:fast);return one();}
Q.next(function(){});c(v.v,code,time,function(){var after=$.iotime();var diff=sleep-(after-before);if(diff<1)diff=1;sleep=diff;one();})})})};one();},iscode:function(code){return Q.iscode(code);}}}



$.fn.mic2text=function(donec,lang){var $me=$(this).eq(0);var a;var recognition=new SpeechRecognition();recognition.lang=lang?lang:'en_US';recognition.continuous=false;recognition.interimResults=false;recognition.onresult=function(event){a.wait();if(typeof(event.results)=='undefined'){recognition.onend=null;recognition.stop();return;}
for(var i=0;i<event.results.length;i++)if(event.results[i]&&event.results[i].isFinal)a.result+=event.results[i][0].transcript;}
a=$me.iomakegui(null,'mic2text');a.result='';a.timeout='5s';a.donec;a.wait=function(){$me.stopTime().oneTime(a.timeout,function(){a.donec(a.result);})}
a.run=function(donec,timeout){a.result='';a.donec=donec;if(timeout)a.timeout=timeout;recognition.start();a.wait();}
if(donec)return donec(a);return a;}




if(!$.io)$.io={};$.io.mousewatch=null;$.fn.mousewatch=function(donec){var $me=$(this).eq(0);var a=$.io.mousewatch?$.io.mousewatch:$me.iomakegui(null,'mouse.watch');a.x=null;a.y=null;$(window).mousemove(function(e){a.x=Math.round(e.pageX);a.y=Math.round(e.pageY);a.tell('mousemoves',a.x,a.y);})
$.io.mousewatch=a;if(donec)donec(a);return a;}




$.fn.googlemapsapi=function(donec,zoom){var $me=$(this).eq(0);var A=$me.iomakegui(null,'GoogleMapsAPI');A.logon();var map,api,GC,DS,DR,markers;$.jsloadbytag('https://www.google.com/jsapi');A.start=function(){$me.ioanimoutemptyin('fast',function(){google.load('maps','3',{other_params:"sensor=false",callback:function(){markers=[];A.inner($me.ioover());var google=window.google;if(!google.maps)return A.inner().append('google.load() failed!');api=google.maps;GC=new api.Geocoder();DS=new api.DirectionsService();DR=new api.DirectionsRenderer({polylineOptions:{strokeColor:'#000',strokeOpacity:0.7,strokeWeight:3}});maph={center:new api.LatLng(-34.397,150.644),zoom:(zoom?zoom:8),mapTypeId:api.MapTypeId.ROADMAP}
map=new api.Map(A.inner().get(0),maph);DR.setMap(map);A.api=api;A.map=map;if(donec)donec(A);}})})}
A.loadapi=function(lastime){$me.ioanimoutemptyin('fast',function(){if(!lastime)lastime=$.iotime();$me.append('waiting for Google Maps API <strong>('+Math.round(0.001*$.iotime(lastime))+'s)</strong>').css({'font-size':$.io.font.large,color:'#000'});if(window.google)return A.start();$me.stopTime().oneTime('3s',function(){A.loadapi(lastime);})})}
A.location=function(text,c){GC.geocode({'address':text},function(R,status){if(status==api.GeocoderStatus.OK){map.setCenter(R[0].geometry.location);while(markers.length){markers[0].setMap(null);markers.shift();}
var marker=new google.maps.Marker({map:map,position:R[0].geometry.location});markers.push(marker);if(c)c($.hm(R[0].geometry.location,{label:R[0].formatted_address}).toJSON());}
else if(c)c(null);})}
A.route=function(from,to,c){DS.route({origin:from,destination:to,travelMode:api.DirectionsTravelMode.DRIVING},function(R,status){var temp=null;if(status!=api.DirectionsStatus.OK)return c(null);DR.set('directions',null);DR.setDirections(R);var temp=R.routes[0].legs[0];var route={start:$.h2s({jb:temp.start_location.jb,kb:temp.start_location.kb,place:$.s2s64(from),place2:$.s2s64(temp.start_address)})};route.path=[];for(var leg in R.routes[0].legs){route.path[leg]=[];var route2=route.path[leg];for(var step in R.routes[0].legs[leg].steps){route2[step]={};var route3=route2[step];var h=R.routes[0].legs[leg].steps[step];route3=$.hm(h);delete route3.encoded_lat_lngs;delete route3.lat_lngs;delete route3.maneuver;delete route3.path;delete route3.polyline;delete route3.travel_mode;route3.distance=$.hv(route3.distance);route3.duration=$.hv(route3.duration);delete route3.start_point;for(var k in route3.start_location)if(!$.isNumber(route3.start_location[k]))delete route3.start_location[k];delete route3.end_point;for(var k in route3.end_location)if(!$.isNumber(route3.end_location[k]))delete route3.end_location[k];route2[step]=route3;}}
c(route);})}
A.mark=function(){}
A.loadapi();}




$.fn.autoset=function(c,ground){var $me=$(this).eq(0).css({height:'1.2em'});var a=$me.iomakegui(null,'gui : autoset');var KVS;var F={setup:null,pos:1,ks:$.hk($.io.font)};var L='jp';a.show=function(){$me.ioanimoutemptyin('fast',function(){var $box=$me.ioground(ground?ground:'#000,0.2');$box.css({'font-size':a.font('small'),color:'#666'});$box.ioover({position:'absolute',left:'3px',top:'1px',width:'auto',height:'auto'}).append('<strong>font+</strong> <strong>font-</strong>').find('strong').iotextbutton(function(k){if(k=='font+')return a.fontplus();else a.fontminus();},'#555')
$box.ioover({position:'absolute',right:'3px',top:'1px',width:'auto',height:'auto'}).append('<strong>lang</strong>('+L+') <strong>reset</strong>').find('strong').iotextbutton(function(k){if(k=='lang')return a.langchange();a.reset();},'#555')})}
a.remember=function(){KVS.set({autoset:{L:L,F:F}},function(){});}
a.fontmake=function(donotshow){F.setup={};F.setup.tiny=$.io.font[F.ks[F.ks.length-1-F.pos-0]];F.setup.small=$.io.font[F.ks[F.ks.length-1-F.pos-1]];F.setup.normal=$.io.font[F.ks[F.ks.length-1-F.pos-2]];F.setup.big=$.io.font[F.ks[F.ks.length-1-F.pos-4]];F.setup.huge=$.io.font[F.ks[F.ks.length-1-F.pos-6]];if(!donotshow)a.show();a.log('F',F);}
a.fontplus=function(){if(F.pos>9)return;F.pos++;a.fontmake();a.tell('change');a.remember();}
a.fontminus=function(){if(F.pos<1)return;F.pos--;a.fontmake();a.tell('change');a.remember();}
a.langchange=function(donotshow){if(L=='en')L='jp';else L='en';a.tell('change');a.remember();if(!donotshow)a.show();}
a.reset=function(){KVS.remove('autoset',function(){F={setup:null,pos:1,ks:$.hk($.io.font)};L='jp';a.fontmake();a.show();a.tell('change');a.remember();})}
a.font=function(name){return F.setup[name?name:'normal'];}
a.lang=function(){return L;}
$me.kvstorage(function(b){KVS=b;KVS.get('autoset',function(h){if(h&&h.autoset){F=h.autoset.F;L=h.autoset.L;};a.fontmake(true);if(c)c(a);a.show();})})
return a;}




$.fn.editable=function(offground,onground,c,plaintext){var $me=$(this).first();var a=$me.iomakegui(null,'gui : editable');var $ground=$me.ioover();if(offground)$ground.ioground(offground);var $face=$me.ioover(true).attr('contenteditable','true');a.inner($face);a.start=function(){var before=a.value();$face.click(function(e){e.stopPropagation();});$face.focus(function(e){$ground.empty();if(onground)$ground.ioground(onground);a.tell('on',a.value());}).blur(function(){a.tell('off',a.value());if(a.value()!=before)a.tell('change',a.value());before=a.value();$ground.empty();if(offground)$ground.ioground(offground);})}
a.value=function(v){if(!v&&plaintext)return a.text();if(v)return $face.empty().append(v);return $face.html();}
a.text=function(v){if(v)return a.value(v);return $.trim($('<div>'+$face.html()+'</div>').text());}
a.face=function(){return $face;}
a.monitor=function(onchange,sleep){var stop=false;if(!sleep)sleep='500ms';var before=$face.html();var wait=function(v){$ground.stopTime().oneTime(sleep,function(){onchange(a.value());})}
var one=function(){$face.stopTime().oneTime('150ms',function(){if(stop||!$me.isindom())return;if($face.html()!=before){before=$face.html();wait(before);}
one();})}
one();return function(){stop=true;}}
a.start();if(c)c(a);return a;}
$.fn.justeditable=function(c,plaintext){var $me=$(this).first().attr('contenteditable','true');var a=$me.iomakegui(null,'gui : editable');a.inner($me);a.start=function(){var before=a.value();$me.click(function(e){e.stopPropagation();});$me.focus(function(e){a.tell('on',a.value());}).blur(function(){a.tell('off',a.value());if(a.value()!=before)a.tell('change',a.value());before=a.value();})}
a.value=function(v,plaintext2){if(!v&&(plaintext||plaintext2))return $.trim(a.inner().text());if(v)return a.inner().empty().append(v);a.inner().html();}
a.start();if(c)c(a);return a;}



if(!$.io)$.io={}
$.fn.dragme=function(c){var $me=$(this).first();var a=$me.draggable();a.on('drag',function(e,ui){if(c)c(e,{top:Math.round($me.position().top),left:Math.round($me.position().left)});});};$.fn.drophere=function(c,overcss,outcss){var $me=$(this);$(this).droppable({drop:function(e,ui){if(outcss)$(this).css(outcss);if(c)c($me,ui.draggable,ui);},over:function(e,ui){if(overcss)$(this).css(overcss);},out:function(e,ui){if(outcss)$(this).css(outcss);}})}



if(!$.io)$.io={}
$.io.exporter=null;$.fn.exporter=function(c){var $me=$(this).eq(0);if($.io.exporter){if(c)c($.io.exporter);return $.io.exporter;}
var STUFF=[];var a;var KVS;var $box=$me.ioover();var $text=$box.ioground('#000',0.4).ioover({overflow:'hidden',position:'absolute',top:'1%',left:'1%',width:'98%',height:'98%','background-color':'transparent',color:'#fff','font-size':$.io.font.normal},'textarea',{cols:10,rows:10});var $button=$box.ioover({position:'absolute',left:'101%',bottom:'0px',height:'70px',width:'70px'})
var button=$button.iodrawInfo().ioatomsOnOffButton({donotdraw:true,donotwrap:true}).onon(function(){a.movingfloor.moveto(0,0);}).onoff(function(){a.movingfloor.moveto($box.width()+2,0);}).on(true)
$box.ioover({position:'absolute',right:'15px',bottom:'5px',width:'auto',height:'auto','font-size':$.io.font.huge}).append('<strong>dump</strong> <strong>clear</strong>').find('strong').iotextbutton(function(k){if(k=='dump')return a.tell('clicks');if(k=='clear')return a.clear();},'#fff')
a=$me.iomakegui(null,'gui : exporter');a.movingfloor=$box.movingfloor();a.clear=function(){STUFF=[];a.add(null);}
a.add=function(v){if(v)STUFF.push(v);$text.val($.ltt(STUFF,' --- '));KVS.set({exporterStuff:STUFF});$button.empty().ioover().iodrawInfo($.io.style.canvas.alert);$me.stopTime().oneTime('3s',function(){$button.empty().ioover().iodrawInfo();})}
$me.kvstorage(function(b){KVS=b;KVS.get('exporterStuff',function(h){if(h&&h.exporterStuff)STUFF=h.exporterStuff;a.add(null);})})
if(c)c(a);return a;}




$.fn.filedrop=function(c,how){if(!how)how='readAsText';var $me=$(this).eq(0);var $me2=$me.ioover().css({width:'1px',height:'1px'});var a=$me.iomakegui(null,'gui : exporter');$me.bind('dragleave',function(e){e.stopPropagation();e.preventDefault();if(c)c('out',$me);})
$me.bind('dragover',function(e){e.stopPropagation();e.preventDefault();if(c)c('over',$me);})
$me.bind('drop',function(e){e.stopPropagation();e.preventDefault();var files=e.originalEvent.target.files||e.originalEvent.dataTransfer.files;var filesa=[];for(var i=0;i<files.length;i++)filesa.push(files[i]);var one=function(file,c2){if(c)c('drop',$me,file);var reader=new FileReader();reader.onload=function(e2){if(c)c('done',$me,e2.target.result,file);c2();}
if(how=='readAsText')reader.readAsText(file);}
$me2.ioloop(filesa,'1ms',function(dom,value,sleep,c2){if(!value.length){if(c)c('end',$me);return c2();}
one(value.shift(),function(){c2(value);})})
return false;})
return this;}
$.fn.filedropui=function(c,how,pground,aground){var $D=$(this).first().empty()
$D.ioover().attr('id','ground').ioground(pground);var $T=$D.ioover().css({height:'auto',color:'#fff','text-align':'center'});$T.ioover(true).append('drag').css({'font-size':$.io.defs.fonts.huge});$T.ioover(true).append('&').css({'font-size':$.io.defs.fonts.big});$T.ioover(true).append('drop').css({'font-size':$.io.defs.fonts.huge});$T.ioover(true).append('(text only)').css({'font-size':$.io.defs.fonts.normal});$T.iocenterv();var over=false;$D.filedrop(function(k,v1,v2,v3){if(k=='over'&&!over){over=true;$D.find('[id="ground"]').empty().ioground(aground);}
if(k=='done'&&c){c(v2,v3.name);over=true;k='out';}
if(k=='out'&&over){over=false;$D.find('[id="ground"]').empty().ioground(pground);}})}




$.fn.fitimage=function(src,c){var $body=$(this).first();var $image=$body.empty().ioover().css({width:'auto',height:'auto'});$image.ioanimoutemptyin('fast',function(){var $img=$image.ioover({position:'relative',display:'block',border:'0px',margin:'0px',width:'auto',height:'auto'},'img',{src:src})
var checks=['200ms','500ms','500ms','500ms','1s','1s','1s','3s','5s'];var prev='';var check=function(){$image.oneTime(checks.shift(),function(){var cur=$image.width()+':'+$image.height();if(cur==prev){if(c)c();return $image;}
$.log('checking',cur);if(!checks.length)return controls();var vcss={height:'100%',widht:'auto',left:'0px',top:'0px'}
var hcss={height:'auto',width:'100%',top:'0px',left:'0px'}
if($image.height()>$body.height()){$image.css(vcss);$img.css({width:'auto',height:'100%'});}
if($image.width()>$body.width()){$image.css(hcss);$img.css({height:'auto',width:'100%'});}
if($image.height()>$body.height()){$image.css(vcss);$img.css({width:'auto',height:'100%'});}
$image.iocenterv();$image.iocenterh();var pos=$image.position();TOP=pos.top;LEFT=pos.left;prev=cur;check();})}
check();})}



$.fn.myinput=function(name,ground,c){$(this).empty().formtextgrid('1','1',name,ground?ground:$.io.defs.colors.fg+',0.2',function(G){$.log('OK');G.inner(0,0).css({'vertical-align':'middle','text-align':'left','background-color':'transparent',color:'#666'});G.inner(0,0).keyup(function(){G.inner(0,0).stopTime().oneTime('100ms')});if(c)eval(c)(G);})}
$.fn.mymsg=function(show,oneline,ground,css,c,centerv){$(this).empty().grid('1','1',ground?ground:$.io.defs.colors.fg+',0.2',function(G){var last=show?show:'';if(css)G.inner(0,0).css(css);if(show)G.inner(0,0).empty().append(show).iofitext(null,oneline,centerv);if(c)c({msg:function(show){if(!show)return last;last=''+show;G.inner(0,0).empty().append(''+show).iofitext(null,oneline,centerv);},add:function(show){this.msg(this.msg()+''+show);},clear:function(){G.inner(0,0).empty();last='';}});})}
$.fn.myanimsg=function(show,oneline,ground,css,c,centerv){$(this).empty().grid('1','1',ground?ground:$.io.defs.colors.fg+',0.2',function(G){var last=show?show:'';if(css)G.inner(0,0).css(css);var wait=function(){G.outer().stopTime().oneTime('2s',function(){G.inner(0,0).ioanimoutemptyin('slow',function(){})})};if(show){G.inner(0,0).empty().append(show).iofitext(null,oneline,centerv);wait();};if(c)c({msg:function(show){if(!show)return last;last=''+show;G.inner(0,0).empty().append(''+show).iofitext(null,oneline,centerv);wait();},add:function(show){this.msg(this.msg()+''+show);},clear:function(){G.inner(0,0).empty();last='';}});})}
$.fn.myupload=function(filename,ground,c){$(this).empty().formuploadgrid('1','1',filename,ground?ground:$.io.style.canvas.info,function(G){if(c)c(G);});}
$.fn.myclosebutton=function(c){$(this).empty().iodrawClose($.io.style.canvas.alert).ioatomsPlainButton({donotwrap:true,off:1.0,hover:0.8,on:0.5}).onclick(c);}
$.fn.myreloadbutton=function(c,canvas){$(this).empty().iodrawRefresh(canvas?canvas:$.io.style.canvas.alert).ioatomsPlainButton({donotwrap:true,off:1.0,hover:0.8,on:0.5}).onclick(c);}
$.fn.myprevbutton=function(c){$(this).empty().iodrawBackward($.io.style.canvas.alert).ioatomsPlainButton({donotwrap:true,off:1.0,hover:0.8,on:0.5}).onclick(c);}
$.fn.mynextbutton=function(c){$(this).empty().iodrawForward($.io.style.canvas.alert).ioatomsPlainButton({donotwrap:true,off:1.0,hover:0.8,on:0.5}).onclick(c);}
$.fn.mybutton=function(show,draw,oneline,c,showagain){var $me=$(this);if(!$.browser||!$.browser.msie)return $me.empty().buttongrid('1','1',show,null,function(){if(c)c();if(showagain)$me.mybutton(show,draw,oneline,c,showagain);},draw?draw:$.io.style.info,null,oneline)
$me.empty();$me.ioground(draw[0],draw[1]);var $box=$me.ioover().css({'text-align':'center','text-decoration':'underline'}).append(show)
$box.iofitext(null,oneline,true);$box.ioatomsPlainButton({donotwrap:true,donotdraw:true}).onclick(c)}
$.fn.myonoffbutton=function(show,draw,oneline,c){var $me=$(this);$me.empty().onoffbuttongrid('1','1',show,null,function(status,label,button){if(c)c(status,label,button);},draw?draw:$.io.style.info,null,oneline)}
$.fn.myconfirmbutton=function(show,draw,oneline,c){$(this).empty().confirmbuttongrid('1','1',show,null,c,draw?draw:$.io.style.info,null,oneline)}
$.fn.myplainbutton=function(){return $(this).ioatomsPlainButton({donotwrap:true,off:1.0,hover:0.8,on:0.5})}
$.fn.myregulargrid=function(rows,cols,ground,c){var $me=$(this).empty();var row=1 / rows;var col=1 / cols;var rows2=[];for(var i=0;i<rows;i++)rows2.push(row);var cols2=[];for(var i=0;i<cols;i++)cols2.push(col);$me.grid($.ltt(rows2,','),$.ltt(cols2,','),ground,function(G){if(c)c(G);})}
$.fn.mylogbox=function(){var $box=$(this).ioover({position:'absolute',top:'1%',left:'1%',width:'98%',height:'98%'}).ioatomsMockVFrame({margin:'0px'}).inner();return{inner:function(){return $box;},errs:function(errs){if(!$.isArray(errs))errs=[errs];for(var i in errs)errs[i]='ERROR! '+errs[i];this.log(errs);},log:function(msg){return $box.msg(msg,'under').css({color:'#555','font-size':$.io.defs.fonts.small});}};}
$.fn.myinputbox=function($box,height,text,c){$box.css({height:height}).formtextgrid('1','1','text','#5AF,0.5',function(G){var date=G.inner(0,0);date.css({'background-color':'transparent'});date.val(text);date.iofitext(null,true);if(c)c(date);},{color:'#fff'},null,null,{background:'transparent'})}




$.fn.mockvframe=function(p){var list=[];var base={scale:20,margin:'20px',css:{},scrollbar:[5,'7px','#fff',0.2,1.0],itembutton:{},itemon:{off:1.0,hover:0.8,on:0.6},itemoff:{off:0.3,hover:0.5,on:0.7}};$(this).ioatom(base,p);$(this).each(function(){this.ioatom.logid='ioatomsMockVFrame';this.ioatom.start=function(){var me=this;me.log(4,me.logid+' : start() entered');me.info.items={};me.inner(me.outer().ioover().css({overflow:'hidden'}))
me.inner(me.inner().ioover().attr('mid','inner').css({height:'auto'})).ioover(true).css({height:me.props.margin}).parent().ioover(true).attr('mid','inner2').parent().ioover(true).css({height:me.props.margin})
me.inner(me.inner().children().filter('[mid="inner2"]'))
me.log(4,me.logid+' : start(): done constructing dom stucture, register scroll');var scroll=function(event){var delta=0;if(!event)event=window.event;if(event.wheelDelta){delta=event.wheelDelta/120;if(window.opera)delta=-delta;}
else if(event.detail)delta=-event.detail / 3;if(delta)me.move(delta*me.props.scale,true);if(event.preventDefault)event.preventDefault();event.returnValue=false;return false;}
if(me.outer().get(0).addEventListener)
me.outer().get(0).addEventListener('DOMMouseScroll',scroll,false);me.outer().get(0).onmousewheel=scroll;me.log(4,me.logid+' : start(): all done');return this;}
this.ioatom.add=function(tag,value,domtag,attrs,draw,css,setup,rescroll,disable){var me=this;if(!tag)tag=value;if(!domtag)domtag='div';if(!attrs)attrs={};me.log(4,me.logid+' : add(): adding item:',tag,value);css=$.hm({height:'auto',margin:'0px',padding:'0px',color:'#fff','text-align':'center','font-weight':'bold'},css);var props=$.hr(me.props.itembutton);if(draw)props.draw=draw;if(setup)props.setup=setup;me.log(4,me.logid+' : add(), css/props/inner2',css,props,me.inner().get());me.inner().ioover(true).css({height:'5px'})
me.info.items[tag]=me.inner().ioover({position:'relative',display:'block','text-decoration':'none'},domtag,attrs).css(css).ioover(true).css({'height':'5px'}).parent().ioover(true).append(value).parent().ioover(true).css({'height':'5px'}).parent()
me.info.items[tag].css({'font-size':me.props.main})
me.info.items[tag].find('small').css({'font-size':$.io.font.small,display:'block','font-weight':'normal'})
me.info.items[tag].find('big').css({'font-size':$.io.font.big,display:'block'})
me.info.items[tag].find('jumbo').css({'font-size':$.io.font.jumbo,display:'block'})
me.info.items[tag]=me.info.items[tag].ioatomsPlainButton(props)
me.info.items[tag].props=$.hm(me.info.items[tag].props,me.props.itemoff);if(setup)me.info.items[tag].props=$.hm(me.info.items[tag].props,setup);me.info.items[tag].outer().mouseout();if(disable)me.info.items[tag].freeze();me.log(4,me.logid+' : add(): created button');me.listen(tag,me.info.items[tag]);if(setup)me.info.items=$.hd(me.info.items,[tag]);me.log(4,me.logid+' : add(): finished, return');if(rescroll)me.scrollbar();return me;}
this.ioatom.listen=function(tag,button){var me=this;me.log(4,me.logid+' : listen(): listening to button:',tag,button);button.onclick(function(){button.props=$.hm(button.props,me.props.itemon);for(var tag2 in me.info.items)if(tag!=tag2){me.info.items[tag2].props=$.hm(me.info.items[tag2].props,me.props.itemoff);me.info.items[tag2].outer().mouseout();}
me.focus(button.outer());button.outer().mouseout();me.tell('onselects',tag);})}
this.ioatom.scrollbar=function(){var me=this;me.log(4,me.logid+' : scrollbar(): entered');if(me.inner().height()<me.outer().height()){if(me.outer().children().filter('[mid="scrollbar"]').get().length){me.outer().children().filter('[mid="scrollbar"]').remove();me.outer().children().filter('[mid="spacer"]').remove();me.inner().parent().css({width:'100%'});}
return;}
if(!me.outer().children().filter('[mid="scrollbar"]').get().length){var w=me.outer().width();if(me.props.scrollbar[1]){me.outer().ioover({position:'absolute',top:'0px',right:'0px',width:me.props.scrollbar[1],height:'100%'}).attr('mid','scrollbar').iorelative({width:true})
w-=Math.round(me.outer().children().filter('[mid="scrollbar"]').width())}
if(w<me.outer().width())w-=me.props.scrollbar[0];me.inner().parent().css({width:w+'px'}).iorelative({width:true})}
var $box=me.outer().children().filter('[mid="scrollbar"]');$box.iodrawRoundbox($.canvasmake([me.props.scrollbar[2],me.props.scrollbar[3],'#fff',0,0])).click(function(e){me.scrollpos($box,e.layerY,true);})
$box.ioover().css({top:($box.height()-Math.round($box.height()*((me.inner().parent().position().top-$box.height()+me.inner().parent().height())/ me.inner().parent().height())))+'px',height:$box.width()+'px'}).attr('mid','pos').iodrawRoundbox($.canvasmake([me.props.scrollbar[2],me.props.scrollbar[4],'#fff',0,0]))}
this.ioatom.scrollpos=function($box,y,move){var me=this;if(!$box)$box=me.outer().children().filter('[mid="scrollbar"]');var $pos=$box.children().filter('[mid="pos"]');if(!y)y=$box.height()-Math.round($box.height()*((me.inner().parent().position().top-$box.height()+me.inner().parent().height())/ me.inner().parent().height()))
me.log(4,me.logid+' : scrollpos(): entered with $box/y/move',$box,y,move);if(y<0)y=0;if(y+$pos.height()>$box.height())y=$box.height()-$pos.height();$pos.css({top:y+'px'}).iorelative({top:true})
if(move){var step=Math.round(me.inner().parent().height()*(($box.height()-y)/ $box.height())+$box.height()-me.inner().parent().height());me.log(4,me.logid+' : scrollpos(): potential new pos/ old pos:',step,me.inner().parent().position().top);step-=me.inner().parent().position().top
me.log(4,me.logid+' : scrollpos(): move true, moving by:',step);me.roll(step,null,true)}}
this.ioatom.move=function(step,scrollpos){var me=this;var pos=me.inner().parent().position();if(step>0&&pos.top>=0)step=0;if(step<0&&pos.top+me.inner().parent().height()<me.outer().height())
step=0;pos.top+=step;me.inner().parent().css({top:pos.top+'px'})
if(scrollpos)me.inner().stopTime().oneTime('300ms',function(){me.scrollpos();})}
this.ioatom.roll=function(step,c,noscrollpos){var me=this;var pos=me.inner().parent().position();var points=$.mathCurveSlowUpFastDown(step,10);me.inner().parent().ioloop(points,'50ms',function(dom,value,sleep,cc){if(!value.length){if(c)c();return cc();}
me.move(value.shift(),noscrollpos?false:true)
cc(value);});}
this.ioatom.focus=function(one,two){var me=this;var how='center';var $box=one;if(two){how=one;$box=two;}
var outerheight=me.outer().height();var itemtop=$box.position().top+$box.parent().position().top;var itemheight=$box.height();var innertop=me.inner().parent().position().top;var innerheight=me.inner().parent().height();me.log(4,me.logid+' : focus(): outerheight['+outerheight+'], itemtop['+itemtop+'], itemheight['+itemheight+'], innertop['+innertop+'], innerheight['+innerheight+']');var step=0;if(how=='top')step=0-innertop;if(how=='center')step=Math.round(0.5*outerheight-(itemtop+0.5*itemheight))-innertop;me.log(4,me.logid+' : focus(): step:',step);me.roll(step);}
this.ioatom.reset=function(){var me=this;me.inner().parent().css({top:'0px'})
return me;}
this.ioatom.start();list.push(this.ioatom);});if(list.length==1)return list[0];if(list.length>1)return list;return this;}



if(!$.io)$.io={}
$.io.movingfloor={fast:5,normal:10,slow:20}
$.fn.movingfloor=function(c){var $me=$(this).eq(0);var a=$me.iomakegui(null,'GUI.MovingFloor');a.setup=$.hm($.io.movingfloor);a.shiftby=function(x,y){var pos=$me.position();pos.left+=x;pos.top+=y;$me.css({left:Math.round(pos.left)+'px',top:Math.round(pos.top)+'px'})}
a.moveby=function(x,y,c,speed){var count=a.setup.normal;if($.isString(speed)&&a.setup[speed])count=a.setup[speed];var pos=$me.position();var vs1=$.mathCurveSlowUpFastDown(x,count);var vs2=$.mathCurveSlowUpFastDown(y,count);var limit=1000;while(vs2.length<vs1.length&&limit--)vs2.push(vs2[vs2.length-1]);while(vs1.length<vs2.length&&limit--)vs1.push(vs1[vs1.length-1]);$me.ioloop(1,'1ms',function(dom,value,sleep,c2){if(!vs1.length){c2();if(c)c();return;}
pos.left+=vs1.shift();pos.top+=vs2.shift();$me.css({left:Math.round(pos.left)+'px',top:Math.round(pos.top)+'px'})
c2(value);})}
a.moveto=function(x,y,c,speed){var pos1=$me.position();a.moveby(-x-pos1.left,-y-pos1.top,c,speed);}
a.find=function($box,c,speed){var pos1=$me.position();var pos2=$box.position();a.moveto(pos2.left,pos2.top,c,speed);}
a.jumpfind=function($box){var pos1=$me.position();var pos2=$box.position();var xdiff=-pos2.left-pos1.left;var ydiff=-pos2.top-pos1.top;a.shiftby(xdiff,ydiff);}
if(c)c(a);return a;}
$.fn.movingfloorh=function(c){var $me=$(this).eq(0);var a=$me.iomakegui(null,'GUI.MovingFloor(h.only)');a.setup=$.hm($.io.movingfloor);a.shiftby=function(x){var pos=$me.position();pos.left+=x;$me.css({left:Math.round(pos.left)+'px'})}
a.moveby=function(x,c,speed){var count=a.setup.normal;if($.isString(speed)&&a.setup[speed])count=a.setup[speed];var pos=$me.position();var vs1=$.mathCurveSlowUpFastDown(x,count);var limit=1000;$me.ioloop(1,'1ms',function(dom,value,sleep,c2){if(!vs1.length){c2();if(c)c();return;}
pos.left+=vs1.shift();$me.css({left:Math.round(pos.left)+'px'})
c2(value);})}
a.moveto=function(x,y,c,speed){var pos1=$me.position();a.moveby(-x-pos1.left,c,speed);}
a.find=function($box,c,speed){var pos1=$me.position();var pos2=$box.position();a.moveto(pos2.left,c,speed);}
a.jumpfind=function($box){var pos1=$me.position();var pos2=$box.position();var xdiff=-pos2.left-pos1.left;a.shiftby(xdiff);}
if(c)c(a);return a;}
$.fn.movingfloorhr=function(c){var $me=$(this).eq(0);var a=$me.iomakegui(null,'GUI.MovingFloor(h.only)');a.setup=$.hm($.io.movingfloor);a.shiftby=function(x){var pos=$me.ioposition();pos.right+=x;$me.css({right:Math.round(pos.right)+'px'})}
a.moveby=function(x,c,speed){var count=a.setup.normal;if($.isString(speed)&&a.setup[speed])count=a.setup[speed];var pos=$me.ioposition();var vs1=$.mathCurveSlowUpFastDown(x,count);var limit=1000;$me.ioloop(1,'1ms',function(dom,value,sleep,c2){if(!vs1.length){c2();if(c)c();return;}
pos.right+=vs1.shift();$me.css({right:Math.round(pos.right)+'px'})
c2(value);})}
a.moveto=function(x,y,c,speed){var pos1=$me.ioposition();a.moveby(-x-pos1.right,c,speed);}
a.find=function($box,c,speed){var pos1=$me.ioposition();var pos2=$box.ioposition();a.moveto(pos2.right,c,speed);}
a.jumpfind=function($box){var pos1=$me.ioposition();var pos2=$box.ioposition();var xdiff=-pos2.right-pos1.right;a.shiftby(xdiff);}
if(c)c(a);return a;}



if(!$.io)$.io={}
$.fn.ringGetterDUMMY=function(url,c){var $me=$(this).eq(0);var a=$me.iomakegui(null,'ringGetterDUMMY');a.meta=function(label,c){c({core:{label:'label'},files:{file1:{},file2:{},file3:{}},refs:{label1:{},label2:{}},figures:{filename1:{},filename2:{},filename3:{},filename4:{},filename5:{}}})}
a.trains=function(){return{};}
if(c)c(a);return a;}
$.fn.ringGetterSTRINGEX=function(c){var $me=$(this).eq(0);var a=$me.iomakegui(null,'ringGetterSTRINGEX');var meta,trains;a.set=function(h){meta=h.ring;trains=h.trains;}
a.meta=function(label,c){c(meta)}
a.trains=function(){return trains;}
if(c)c(a);return a;}
$.fn.ring=function(label,getter,c,clickc,overc){var $me=$(this).eq(0);var meta;var A=$me.iomakegui(null,'ring');A.ring=function(){$me.ioanimoutemptyin('fast',function(){getter.meta(label,function(h){meta=h;var b=25;var d=10;var a=3;$.log('h',h);var c1=$.hk(h).length;var c2=0;for(var k in h)c2+=$.hk(h[k]).length;x=Math.round(360 /(c2+c1*a));y=Math.round(a*x);$.log('y/x',y,x);var W=$me.width();var H=$me.height();var R=W>H?0.5*H:0.5*W;var C=$me.svgcanvas();C.style({fill:'#fff',fillOpacity:0,stroke:'#000',strokeOpacity:0.2,strokeWidth:d})
C.circle([W / 2,H / 2],R-b)
var angle=180-y;var event=function(k1,k2,c){$me.stopTime().oneTime('500ms',function(){c(k1,k2);})}
var button=function(k1,k2,dom){var state=false;var B=$(dom).ioatomsPlainButton({donotwrap:true,donotdraw:true,on:1.0,hover:0.7,off:0.4})
B.onmouseover(function(){B.outer().fadeTo('fast',0.7);if(overc)event(k1,k2,overc);})
B.onmouseout(function(){B.outer().fadeTo('fast',state?1.0:0.3)})
B.onclick(function(){if(state)state=false;else state=true;B.outer().fadeTo('fast',state?1.0:0.3);if(clickc)event(k1,k2,clickc);})}
var one=function(k,c){angle=Math.round(angle+y);var color='#000';if(k=='core')color='#f00';C.style({fill:color,fillOpacity:0.7,stroke:color,strokeOpacity:0.8,strokeWidth:d+3});var h2=$.mathRotate(R-2*b,angle-15);var h3=$.mathRotate(R-2*b,angle+15+x*$.hk(h[k]).length-x);button(k,'all',C.line([W / 2+h2.x,H / 2+h2.y],[W / 2+h3.x,H / 2+h3.y]));C.style({fill:color,fillOpacity:0.7,strokeWidth:0});$.log('ring key/angle',k,angle);for(var k2 in h[k]){var h2=$.mathRotate(R-b,angle);$.log('key('+k+') angle/coords',angle,h2);var dom=C.circle([W / 2+h2.x,H / 2+h2.y],k=='core'?b-5:b-10);button(k,k2,dom);angle=Math.round(angle+x);}
c();}
$.log('hash keys',$.hk(h));$me.ioloop($.hk(h),'1ms',function(dom,value,sleep,c2){if(!value.length){if(c)c(A);c2();return;}
var k=value.shift();one(k,function(){c2(value)});})})})}
A.ring();return A;}



$.fn.msgs=function(linger='5s',delay='300ms'){var $me=$(this).first();var A=$me.iomakegui(null,'msgs');A.add=function(msg){$me.stopTime().oneTime(delay,function(){$me.ioanimoutemptyin('fast',function(){$me.append(msg);$me.stopTime().oneTime(linger,function(){$me.ioanimoutemptyin('fast');});});})};return A;}
$.fn.textbox=function(name,c,v,ioground,css,donotscalefont,trim){if(!v)v='?';var $me=$(this).first();if(ioground)$me.ioground(ioground);var $input=$me.ioover({position:'absolute',display:'block',top:'0px',left:'0px',width:'100%',height:'100%',overflow:'hidden','text-align':'left','background-color':'transparent',padding:'0px 3px',border:'0px'},'textarea',{cols:10,rows:10,name:name})
$input.val(v);if(css)$input.css(css);if(!donotscalefont)$input.iofitext();var onchange=null;var onenter=null;var a={value:function(v){if(v)$input.val(v);return $.trim($input.val());},onchange:function(c){onchange=c;},onenter:function(c){onenter=c;},clear:function(){$input.val('');},focus:function(){$input.focus();},inner:function(){return $input;},outer:function(){return $me;}}
if(c)c(a);var fitext=function(){$input.stopTime().oneTime('1s',function(){$input.iofitext();})}
var last=$input.val();var check=function(){if(!$input.isindom())return;$input.stopTime().oneTime('1s',function(){var v=$input.val();if($.trim(v)!=$.trim(last)&&onchange)onchange($.trim(v));if($.ttl('***'+v+'***',"\n").length>1&&onenter){v=$.trim($.ltt($.ttl(v,"\n"),''));$input.val(v);onenter(v);if(trim)$input.val($.trim(v));}
last=v;check();})}
check();return a;}
$.fn.buttonize=function(ison){return $(this).ioatomsPlainButton({donotwrap:true,donotdraw:true,off:ison?1.0:0.4,hover:0.7,on:ison?0.4:1.0});}
$.fn.togglize=function(){var me=$(this).ioatomsOnOffButton({donotwrap:true,donotdraw:true,off:0.4,hover:0.7,on:1.0});return me;}
$.fn.textbuttons=function(names,css,del=' '){var a=$(this).iomakegui($.io.burl,'textbuttons','click');a.one=function(n){var $box=a.outer().append(del+'<strong>'+n+'</strong>').find('strong').last();if(css)$box.css(css);$box.buttonize().onclick(function(e){a.tell('click',n,$box,e);});};var L=$.ttl(names);for(var i in L)a.one(L[i]);return a;}
$.fn.myoverbox=function(opacity,bgcolor){return $(this).ioover().ioground(bgcolor?bgcolor:$.io.defs.colors.bg,opacity?opacity:1.0).ioover()}
$.fn.myoverclosebox=function(c,noclosebutton,bgcolor,opacity,onclose){var $me=$(this);var $box=$me.myoverbox(opacity,bgcolor);var $box2=$box.ioover().css({top:'3%',left:'2%',height:'94%',width:'96%'});if(!noclosebutton)$box.ioover({position:'absolute',top:'0px',right:'0px',width:'40px',height:'40px'}).iodrawClose().ioatomsPlainButton({donotwrap:true,off:1.0,hover:0.8,on:0.6}).onclick(function(){$box.parent().ioanimoutremove('fast')});if(c)c({inner:function(){return $box2},close:function(){$box.parent().ioanimoutremove('fast',function(){if(onclose)onclose();})}})}
$.fn.fullscreenclosebox=function(c,bgcolor,opacity,draw,css,onclose){var $me=$(this).first();var $box=$me.ioover({position:'fixed',top:'0px',left:'0px',width:'100%',height:'100%',overflow:'hidden'})
$box.ioground(bgcolor?bgcolor:'#000',opacity?opacity:0.3);var $box2=$box.ioover().css($.hm({top:'2%',left:'2%',height:'96%',width:'96%'},css?css:{}));$box.ioover({position:'absolute',top:'5px',right:'5px',width:'60px',height:'60px'}).iodrawClose(draw?draw:$.io.style.canvas.floor).ioatomsPlainButton({donotwrap:true,off:1.0,hover:0.8,on:0.6}).onclick(function(){$box.ioanimoutremove('fast')});if(c)c({inner:function(){return $box2},close:function(){$box.ioanimoutremove('fast',function(){if(onclose)onclose();})}})}
$.fn.autosizebutton=function(text,css,draw,type){var $me=$(this).first();$me.ioover(true).css($.hm({width:'auto',height:'auto',margin:'2px 3px'},css?css:{})).append(text)
if(draw!==false)$me.iounder().iodrawRoundbox(draw?draw:$.io.style.canvas.normal);if(!type)return $me.ioatomsPlainButton({donotdraw:true,donotwrap:true,off:1.0,hover:0.7,on:0.4})
if(type=='onoff')return $me.ioatomsOnOffButton({donotdraw:true,donotwrap:true})}
$.fn.autosizefloatbutton=function(text,margin,css,draw,type,side){return $(this).first().ioover({position:'relative',float:side?side:'left',margin:margin}).autosizebutton(text,css,draw,type);}
$.fn.iconbutton=function(type,draw){var $me=$(this).first();if(!draw)draw=$.io.style.canvas.normal;if(type=='close')$me.iodrawClose(draw);if(type=='refresh')$me.iodrawRefresh(draw);if(type=='info')$me.iodrawInfo(draw);if(type=='onoff')$me.iodrawOnOff(draw);if(type=='forward')$me.iodrawForward(draw);if(type=='backward')$me.iodrawBackward(draw);if(type=='fastforward')$me.iodrawFastForward(draw);if(type=='fastbackward')$me.iodrawFastBackward(draw);return $me.ioatomsPlainButton({off:1.0,hover:0.7,on:0.4})}
$.fn.fileupload=function(action,http,c,name,ground,w,fontsize){var $me=$(this).first().empty()
if(!ground)ground='#000,0.3';if(!w)w=30;if(!fontsize)fontsize=$.io.defs.fonts.big;var $form=$me.ioform(action,http,true);$form.ioover({position:'absolute',left:'0px',height:'100%',width:w+'%','font-size':fontsize}).append('upload').ioatomsButton({draw:$.io.style.canvas.alert}).onclick(function(){$form.ioformsend(function(h){if(c)c(h);})})
$form.ioover({position:'absolute',left:(w+1)+'%',width:(100-w-1)+'%',height:'100%'}).myupload(name,ground,function(G){})}



if(!$.io)$.io={}
$.io.sidepanestack={panewidth:'150px',css:{border:'1px solid #666',overflow:'hidden'},ioground:'#fff,0.2',statush:'20px',statusnormal:'#000,0.5',statuscurrent:'#f00,0.8'}
$.fn.sidepanestack=function(c){var $me=$(this).eq(0);var panes=[];var currentlabel=null;var a=$me.iomakegui(null,'Grid.SidePaneStack');a.setup=$.hm($.io.sidepanestack);var $header=$me.ioover(true);var $status=$me.ioover(true).css({height:a.setup.statush});var $body=$me.ioover(true).css(a.setup.css).iovstretch();var $floor=$body.ioover().css({width:'25000px'})
a.status=function(){return $status;}
a.header=function(){return $header;}
a.body=function(){return $body;}
a.floor=$floor.movingfloor();a.paneadd=function(label,c){if(!label)label=$.iotime()+'.'+$.mr(10);var b=$me.iomakegui(null,'Grid.SidePaneStack.PaneAdd');var $body2=$floor.ioover(true).css({margin:'0px 5px',float:'left',position:'relative',overflow:'hidden',width:a.setup.panewidth,height:'100%'})
$body2.css({border:'1px solid #fff'})
$body2.ioground(a.setup.ioground);$body2.ioover(true).css({height:'40px'});$body3=$body2.ioover(true);$body3.iovstretch();$body3=$body3.css({margin:'0px 2%',width:'96%'}).ioover();$body2.ioover({position:'absolute',top:'2px',left:'3px',height:'auto',width:'auto'}).append(label).css({'font-size':$.io.defs.fonts.big,color:'#fff'})
$body2.ioover({position:'absolute',right:'2px',top:'2px',width:'35px',height:'35px'}).iodrawClose().ioatomsPlainButton({donotwrap:true,donotdraw:true,off:1.0,hover:0.7,on:0.4}).onclick(function(){a.remove(label);})
$body2.ioover({position:'absolute',right:'40px',top:'2px',width:'35px',height:'35px'}).iodrawFastForward().ioatomsPlainButton({donotwrap:true,donotdraw:true,off:1.0,hover:0.7,on:0.4}).onclick(function(){var pos=parseInt(''+a.label2pos(label))+1;if(!panes[pos])return;currentlabel=panes[pos].label;a.floor.find(panes[pos].outer());})
$body2.ioover({position:'absolute',right:'78px',top:'2px',width:'35px',height:'35px'}).iodrawFastBackward().ioatomsPlainButton({donotwrap:true,donotdraw:true,off:1.0,hover:0.7,on:0.4}).onclick(function(){var pos=parseInt(''+a.label2pos(label))-1;if(!panes[pos])return;currentlabel=panes[pos].label;a.floor.find(panes[pos].outer());})
$.log('buttons OK');b.label=label;b.outer=function(){return $body2;}
b.inner=function(){return $body3;}
b.focus=function(){}
b.cleanafter=function(c){a.cleanafter(label,c);}
b.remove=function(c){a.remove(label,c);}
panes.push(b);if(!currentlabel)currentlabel=label;a.statusdraw(function(){$.log('status OK');if(c)c(b);return b;})}
a.statusbutton=function(pos,x,w){$status.ioover().css({left:x+'%',width:w+'%',top:'10%',height:'80%'}).ioground(panes[pos].label==currentlabel?a.setup.statuscurrent:a.setup.statusnormal).ioatomsPlainButton({donotwrap:true,donotdraw:true,off:1.0,hover:0.7,on:0.4}).onclick(function(){a.floor.find(panes[pos].outer());currentlabel=panes[pos].label;a.statusdraw();})}
a.statusdraw=function(c){$status.ioanimoutemptyin('fast',function(){$me.ioloop($.hk(panes),'1ms',function(dom,value,sleep,c2){if(!value.length){c2();if(c)c();return;}
var k=value.shift();var pos1=panes[k].outer().position();var pos2=panes[panes.length-1].outer().position();var W=pos2.left+panes[panes.length-1].outer().width();var x=Math.round(100*(pos1.left / W));var w=Math.round(100*(panes[k].outer().width()/ W))-1;$.log('status x,w',x,w);a.statusbutton(k,x,w);c2(value);})})}
a.remove=function(label,c){var p=null;if($.hk(panes).length<2)return;var vs=[];var pos=a.label2pos(label);for(var i in panes){if(panes[i].label==label)p=panes[i];else vs.push(panes[i]);}
if(p)p.outer().ioanimoutremove('fast',function(){if(c)c();a.statusdraw();})
panes=vs;currentlabel=panes[pos]?panes[pos].label:panes[pos-1].label;}
a.cleanafter=function(label,c){var cleanon=false;$me.ioloop($.hk(panes),'1ms',function(dom,value,sleep,c2){if(!value.length){c2();if(c)c();a.statusdraw();return;}
var k=value.shift();var p=panes[k];if(p.label!=label&&!cleanon)return c2(value);if(p.label==label){cleanon=true;return c2(value);}
if(!cleanon)return c2(value);delete panes[k];p.outer().remove();c2(value);})}
a.find=function(label,c){var p=null;for(var i in panes)if(panes[i].label==label)p=panes[i];a.floor.find(p.outer());}
a.label2pos=function(label){var pos=null;for(var i in panes)if(panes[i].label==label)pos=i;return pos;}
if(c)c(a);return a;}



if(!$.io)$.io={}
$.fn.sideslideleft=function(tag,fontsize,c,ground,taground,innercss){var a;var $me=$(this).eq(0);var $box=$me.ioover();var $text=$box.ioground(ground?ground:'#000,0.2').ioover($.hm({overflow:'hidden',position:'absolute',top:'1%',left:'1%',width:'98%',height:'98%'},innercss?innercss:{}));var $button=$box.ioover({position:'absolute',left:'101%',top:'0px',width:'auto',height:'auto'})
var $tag=$button.ioover().css({width:'auto',height:'auto'})
$tag.ioground(taground?taground:'#000,0.3');$tag.ioover(true).append(tag).css({'font-size':fontsize?fontsize:$.io.font.jumbo,color:'#fff'})
$tag.iocenterv();var button=$tag.ioatomsOnOffButton({donotdraw:true,donotwrap:true,on:1.0,hover:0.7,off:0.5}).onon(function(){a.on();}).onoff(function(){a.off();}).off(true);a=$me.iomakegui(null,'gui : exporter');a.inner($text);a.movingfloor=$me.movingfloorh();a.tag=function(){return $tag;}
a.on=function(donotell){button.on(true);a.movingfloor.moveto(0);a.tell('ons');}
a.off=function(donotell){button.off(true);a.movingfloor.moveto($box.width()+7);a.tell('offs');}
if(c)c(a);return a;}
$.fn.sideslideright=function(tag,fontsize,c,ground,taground,innercss){var a;var $me=$(this).eq(0);var $box=$me.ioover();var $text=$box.ioground(ground?ground:'#000,0.2').ioover($.hm({overflow:'hidden',position:'absolute',top:'1%',left:'1%',width:'98%',height:'98%'},innercss?innercss:{}));var $button=$box.ioover({position:'absolute',right:'101%',top:'0px',width:'auto',height:'auto'})
var $tag=$button.ioover({position:'absolute',top:'0px',right:'0px',width:'auto',height:'auto'})
$tag.ioground(taground?taground:'#000,0.3');$tag.ioover(true).append(tag).css({'font-size':fontsize?fontsize:$.io.font.jumbo,color:'#fff','text-align':'right'})
$tag.iocenterv();var button=$tag.ioatomsOnOffButton({donotdraw:true,donotwrap:true,on:1.0,hover:0.7,off:0.5}).onon(function(){a.on();}).onoff(function(){a.off();}).off(true);a=$me.iomakegui(null,'gui : exporter');a.inner($text);a.movingfloor=$me.movingfloorhr();a.tag=function(){return $tag;}
a.on=function(donotell){button.on(true);a.movingfloor.moveto(0);a.tell('ons');}
a.off=function(donotell){button.off(true);a.movingfloor.moveto($box.width()+8);a.tell('offs');}
if(c)c(a);return a;}




$.fn.trainGetterDUMMY=function(c){var $me=$(this).eq(0);var a=$me.iomakegui(null,'trainGetterDUMMY');var info;a.info=function(){return{trains:{'1st Line':'1st description','2nd Line':'2nd description','3rd Line':'3rd description'},info:[{label:'one',role:'core',tags:['one','two','three','2nd Line']},{label:'two',role:'figures',tags:['one','two','three','2nd Line']},{label:'four',role:'refs',tags:['one','two','three','1st Line','2nd Line','3rd Line']},{label:'five',role:'figures',tags:['one','two','three']},{label:'six',role:'files',tags:['two','three','1st Line']},{label:'seven',role:'core',tags:['one']}]}}
if(c)c(a);return a;}
$.fn.trainGetterSTRINGEX=function(c){var $me=$(this).eq(0);var a=$me.iomakegui(null,'ringGetterSTRINGEX');var info;a.set=function(h){info=h;}
a.info=function(){return info;}
if(c)c(a);return a;}
$.io.train={vspace:150}
$.fn.train=function(train,getter,donec){var $me=$(this).eq(0);var W=$me.width();var info=getter.info();$me.css({overflow:'hidden'})
$me.ioground('#fff',0.8);var $floor=$me.ioover().css({height:15000,width:'100%'})
var $header=$me.ioover().css({height:'1.3em','font-size':$.io.font.larger,'border-bottom':'1px solid #666'}).ioground('#fff',0.9);var A=$me.iomakegui(null,'ring');A.setup=$.hm($.io.train);A.movingfloor=$floor.movingfloor();A.mockvframe=$floor.mockvframe();A.last={name:null,train:null,station:null,by:null}
A.trains={};A.order='as.is';A.mode='do.nothing';A.info=null;A.stations2box={};A.process=function(){for(var i in info.info){var h=info.info[i];if(!h.tags)continue;for(var ii in h.tags){var tag=h.tags[ii];if(tag==train)continue;if(info.trains[tag])A.trains[tag]=info.trains[tag];}}
A.info={'do.nothing':{},'by.train':{},'by.role':{},'by.label':{},'by.tag':{}}
for(var mode in A.info){if(mode=='do.nothing'){A.info[mode]=info.info;for(var i in A.info[mode])A.info[mode][i]=[A.info[mode][i]];continue;}
var info2=$.hm(info.info);if(mode=='by.role')A.log('process() : info',info);for(var i in info2){var h2=info2[i];if($.isArray(h2))h2=h2[0];h2.pos=i;var k=null;if(mode=='by.train')k='tags';if(mode=='by.role')k='role';if(mode=='by.label')k='label';if(mode=='by.tag')k='tags';var ks=h2[k]?h2[k]:'*';if(!$.isArray(ks))ks=[ks];if(mode=='by.role')A.log('process() : mode/pos/ks/h2',mode,i,ks,h2);for(var iii in ks){var k2=ks[iii];if(mode=='by.train'&&!A.trains[k2])continue;if(!A.info[mode][k2])A.info[mode][k2]=[];A.info[mode][k2].push($.hm(h2));}}
if(mode=='by.role')A.log('process() : final info',A.info[mode]);}
A.header();}
A.selectorone=function($add,v,c,last){$add.ioover(false).autosizebutton('<strong>'+v+'</strong>',{'font-size':$.io.font.big},$.io.style.canvas.link).onclick(function(){if(c)c(v);})}
A.selector=function($add,L,c,last){$add.empty().ioloop($.hk(L),'1ms',function(dom,value,sleep,c2){if(!value.length)return c2();var k=value.shift();A.selectorone($add,L[k],c,last);c2(value);})}
A.header=function(){var $nameadd;var $name=$header.ioover().css({height:'auto',width:'auto'})
$name.ioover(false).autosizebutton('<strong>'+train+'</strong>',{'font-size':$.io.font.larger},$.io.style.canvas.alert,'onoff').onon(function(){$nameadd.ioanimoutemptyin('fast')}).onoff(function(){A.selector($nameadd,$.hk(A.info),function(v){A.mode=v;A.body(true);})}).on(true);$nameadd=$name.ioover({position:'absolute',top:'101%',left:'0px',width:'auto',height:'auto'});$name.iocenterh();var $linesadd;var $lines=$name.ioover({position:'absolute',right:'105%',top:'0px'})
$lines.ioover(false).autosizebutton('<strong>lines(<span>??</span>)</strong>',{'font-size':$.io.font.big},$.io.style.canvas.info,'onoff').onon(function(){$linesadd.ioanimoutemptyin('fast')}).onoff(function(){A.selector($linesadd,$.hk(A.trains),function(v){})}).on(true);$linesadd=$lines.ioover({position:'absolute',top:'101%',left:'0px',width:'auto',height:'auto'});$lines.find('span').empty().append($.hk(A.trains).length);var $stationsadd;var $stations=$name.ioover({position:'absolute',left:'105%',top:'0px'})
$stations.ioover(false).autosizebutton('<strong>stations(<span>??</span>)</strong>',{'font-size':$.io.font.big},$.io.style.canvas.info,'onoff').onon(function(){$stationsadd.ioanimoutemptyin('fast')}).onoff(function(){A.selector($stationsadd,$.hk(A.info[A.mode]),function(v){A.movingfloor.find(A.stations2box[v],function(){A.movingfloor.moveby(0,50);});},A.last.name)}).on(true);$stationsadd=$stations.ioover({position:'absolute',top:'101%',left:'0px',width:'auto',height:'auto'});$stations.find('span').empty().append($.hk(A.info[A.mode]).length);A.body();}
A.body=function(reload){$floor.ioanimoutemptyin('fast',function(){$floor.css({top:'0px',left:'0px'})
var $stem=$floor.ioover().css({width:'10px'}).ioground('#000',0.4).iocenterh();var y=0;A.log('body : (mode='+A.mode+')',A.info[A.mode]);var one=function($box,k,L){A.log('L.length='+L.length);A.stations2box[k]=$box;var $under;var trains={};$box.ioground('#fff',0.5);var C=$box.svgcanvas();var W=$box.width();var H=$box.height();C.style({fill:'#fff',fillOpacity:0.2,stroke:'#fff',strokeOpacity:0.8,strokeWidth:0})
var $right=$box.ioover({position:'absolute',top:'0px',right:'3px',width:'45%','font-size':$.io.font.small,'text-align':'right',color:'#555'})
var $left=$box.ioover({position:'absolute',top:'0px',left:'3px',width:'45%','font-size':$.io.font.small,'text-align':'left',color:'#555'})
var $station=$box.ioover().css({width:'auto',height:'auto'})
var selectorone=function($box,v,c){$box.ioover(false).autosizebutton('<strong>'+v+'</strong>',{'font-size':$.io.font.big},$.io.style.canvas.link).onclick(function(){if(c)c(v);})}
var selector=function($box,L,c){$box.empty().ioloop($.hk(L),'1ms',function(dom,value,sleep,c2){if(!value.length)return c2();var k=value.shift();selectorone($box,L[k],c);c2(value);})}
var $trainbox=null;var $stationbox=null;var dotrain=function($box){if($trainbox&&$trainbox.isindom())return $trainbox.ioanimoutremove('fast');if(!$.hk(trains).length)return;$trainbox=$box.ioover({position:'absolute',right:'102%',top:'0px',width:'auto',height:'auto'})
selector($trainbox,$.hk(trains),function(v){})}
var dostation=function($box){if($stationbox&&$stationbox.isindom())return $stationbox.ioanimoutremove('fast');var info={};for(var i in L){var h2=L[i];var id=[];if(h2.role)id.push(h2.role);if(h2.type)id.push(h2.type);if(h2.label)id.push(h2.label);id=$.ltt(id,'--');info[id]=h2;}
$stationbox=$box.ioover({position:'absolute',left:'102%',top:'0px',width:'auto',height:'auto'})
selector($stationbox,$.hk(info),function(v){})}
var station=$station.ioover(false).autosizebutton('<span>(??)</span><strong>'+k+'</strong><span>(??)</span>',{'font-size':$.io.font.larger,color:'#fff'},$.io.style.canvas.alert,'onoff').onon(function(){$under.ioanimoutemptyin('fast')}).onoff(function(){selector($under,$.ttl('trains,stations'),function(v){if(v=='trains')dotrain($under.children().first());else dostation($under.children().last());},false)}).on(true)
for(var i in L){var h=L[i];if(!h.tags)continue;for(var ii in h.tags){var tag=h.tags[ii];if(A.trains[tag])trains[tag]=A.trains[tag];}}
$left.empty().append(trains?$.ltt($.hk(trains),' '):'');var left={};for(var i in L){var h=L[i];var ks='role,label,tags';if(A.mode=='by.role')ks='label,tags';if(A.mode=='by.label')ks='role,tags';if(A.mode=='by.train'||A.mode=='by.tag')ks='role,label';ks=$.ttl(ks);for(var i in ks){var k2=ks[i];if(!h[k2])continue;if(!$.isArray(h[k2]))left[h[k2]]=true;else for(var ii in h[k2])left[h[k2][ii]]=true;}}
$right.empty().append(left&&$.hk(left)?$.ltt($.hk(left),' '):'');station.inner().find('span').first().empty().append('('+$.hk(trains).length+')').css({'font-size':$.io.font.big})
station.inner().find('span').last().empty().append('('+L.length+')').css({'font-size':$.io.font.big})
$station.iocenterv();$station.iocenterh();$under=$station.ioover({position:'absolute',top:'101%',left:'0px'}).ioground('#fff',0.9).ioover(false);}
$stem.ioloop($.hk(A.info[A.mode]),'1ms',function(dom,value,sleep,c){if(!value.length){c();if(!reload&&donec)donec();return;}
var k=value.shift();var h=A.info[A.mode][k];y+=A.setup.vspace;var $box=$floor.ioover().css({top:y+'px',width:'100%',height:'1.3em','font-size':$.io.font.larger});A.log('body : ioloop : $box/k/h',$box,k,h);one($box,k,h);A.movingfloor.jumpfind($box);A.movingfloor.shiftby(0,50);c(value);})})}
A.process();}



$.fn.jobqueue=function(){var $me=$(this).eq(0);var a=$me.iomakegui(null,'jobqueue');a.logon();a.q=[];a.count=function(){return a.q.length;}
a.push=function(k,v){a.q.push({k:k,v:v});}
a.unshift=function(k,v){a.q.unshift({k:k,v:v});}
a.peek=function(){if(!a.q.length)return null;return a.q[0];}
a.shift=function(){if(!a.q.length)return null;return a.q.shift();}
a.extract=function(k,loose){var v=[];var q=[];for(var i in a.q){if((!loose&&a.q[i].k!=k)||(loose&&$.ttl('*'+a.q[i].k+'*',k).length==1))q.push(a.q[i]);else v.push(a.q[i].v);};a.q=q;return loose?v:(v.length?v[0]:null);}
a.cancel=function(k){var q=[];for(var i in a.q)if(a.q[i].k!=k)q.push(a.q[i]);a.q=q;}
if(donec)return donec(a);return a;}




if(!$.io)$.io={};var gapi=null;if(!$.io.cloudstorage)$.io.cloudstorage={drivers:{}}
if(!$.io.cloudstorage.drivers)$.io.cloudstorage.drivers={};$.fn.dropbox=function(keys,donec,retries,nobase64,simple){var $me=$(this).eq(0);var $me2=$me.ioover().css({width:'0px',height:'0px'});var a=$me.iomakegui(null,'DropboxClient');if(!keys||!$.isObject(keys))return donec(null);a.ticker=retries?retries:1;if(a.ticker>5)a.ticker=5;a.sleep=['500ms','1s','3s','5s','10s'];a.appkey=keys.appkey;if(!a.appkey)return donec(null);a.appsecret=keys.appsecret;if(!a.appsecret)return donec(null);a.reqauth=keys.reqauth;a.accauth=keys.accauth;a.xhr=function(method,url,params,header,body,onload,onerror){var $me3=$me.ioover().css({width:'0px',height:'0px'});var req=new XMLHttpRequest();var auth='';if(!a.reqauth&&!a.accauth)auth='OAuth oauth_version="1.0", oauth_signature_method="PLAINTEXT", oauth_consumer_key="'+a.appkey+'", oauth_signature="'+a.appsecret+'&"';if(a.reqauth&&!a.accauth)auth='OAuth oauth_version="1.0", oauth_signature_method="PLAINTEXT", oauth_consumer_key="'+a.appkey+'", oauth_token="'+a.reqauth.token+'", oauth_signature="'+a.appsecret+'&'+a.reqauth.tokensecret+'"';if(a.reqauth&&a.accauth)auth='OAuth oauth_version="1.0", oauth_signature_method="PLAINTEXT", oauth_consumer_key="'+a.appkey+'", oauth_token="'+a.accauth.token+'", oauth_signature="'+a.appsecret+'&'+a.accauth.tokensecret+'"';if(method=='GET'){if(!params)params={};params=$.hm(params,{oauth_consumer_key:a.appkey,oauth_token:a.accauth.token,oauth_signature_method:'PLAINTEXT',oauth_signature:a.appsecret+'%26'+a.accauth.tokensecret,oauth_nonce:$.mathRandom(10)});}
if(params)url+='?'+$.htt(params,'&');var DONE=false;req.open(method,url);if(method!='GET')req.setRequestHeader('Authorization',auth);if(header)for(var k in header)req.setRequestHeader(k,header[k]);if(onload)req.onload=function(v){DONE=true;if($me3&&$me3.isindom())$me3.stopTime().remove();var rep=null;var status;if(!v){if(onerror)onerror('no reply');return;}
if(v.currentTarget)v=v.currentTarget;if(v.status)status=v.status;if(v&&v.response)v=v.response;else{if(onerror)onerror('no reply');return;}
if($.isObject(v))rep=v;try{if(!rep&&v&&$.isObject($.json2h(v)))rep=$.json2h(v);}catch(e){}
if(!rep&&$.ttl(v,'&').length>$.ttl(v,',').length)rep=$.tth(v,'&');if(!rep&&v)rep=v;if(rep)return onload(rep,status);else if(onerror)onerror('bad response');}
if(onerror)req.onerror=function(v){DONE=true;if($me3&&$me3.isindom())$me3.stopTime().remove();onerror();}
if(onload&&body)return req.send(body);if(onload)return req.send();$me3.stopTime().oneTime($.ioutils.callbacktimeout,function(){if(!$me3&&!$me3.isindom()||DONE)return;$me3.remove();if(onerror)return onerror();if(onload)return onload(null,null);})
return req;}
a.read=function(filename,c,raw){a.xhr('GET','https://api-content.dropbox.com/1/files/sandbox/'+filename,null,null,null,function(rep,status){a.ticker--;if((!a.sleep.length||a.ticker<0)&&status!=200)return c(status,rep);if(status!=200)return $me2.stopTime().oneTime(a.sleep.shift(),function(){a.read(filename,c,raw);})
a.ticker=retries?retries:1;if(a.ticker>5)a.ticker=5;a.sleep=['500ms','1s','3s','5s','10s'];return c(status,raw?rep:(simple?$.json2anyutf8(rep,nobase64?false:true):rep));})}
a.chunkwritecommit=function(upload_id,filename,c){a.xhr('POST','https://api-content.dropbox.com/1/commit_chunked_upload/sandbox/'+filename,{overwrite:true,upload_id:upload_id},null,null,function(rep,status){a.ticker--;if((!a.sleep.length||a.ticker<0)&&status!=200)return c(status,rep);if(status!=200)return $me2.stopTime().oneTime(a.sleep.shift(),function(){a.chunkwritecommit(upload_id,filename,c);})
a.ticker=retries?retries:1;if(a.ticker>5)a.ticker=5;a.sleep=['500ms','1s','3s','5s','10s'];c(status,rep);})}
a.chunkwrite=function(upload_id,offset,stuff,c){var h={offset:offset};if(upload_id)h.upload_id=upload_id;a.xhr('PUT','https://api-content.dropbox.com/1/chunked_upload',h,null,stuff,function(rep,status){if(status==400&&rep.offset&&rep.upload_id)return(c?c(status,rep):null);a.ticker--;if((!a.sleep.length||a.ticker<0)&&status!=200)return c(status,rep);if(status!=200)return $me2.stopTime().oneTime(a.sleep.shift(),function(){a.chunkwrite(upload_id,offset,stuff,c);})
a.ticker=retries?retries:1;if(a.ticker>5)a.ticker=5;a.sleep=['500ms','1s','3s','5s','10s'];if(!upload_id&&rep.upload_id)upload_id=rep.upload_id;if(c)c(status,upload_id,offset);})}
a.write=function(stuff,filename,c,raw){a.xhr('PUT','https://api-content.dropbox.com/1/files_put/sandbox/'+filename,{overwrite:true},null,raw?stuff:(simple?$.any2jsonutf8(stuff,true):($.isObject(stuff)?$.any2jsonutf8(stuff,nobase64?false:true):stuff)),function(rep,status){a.ticker--;if((!a.sleep.length||a.ticker<0)&&status!=200)return c(status,rep);if(status!=200)return $me2.stopTime().oneTime(a.sleep.shift(),function(){a.write(stuff,filename,c,raw);})
a.ticker=retries?retries:1;if(a.ticker>5)a.ticker=5;a.sleep=['500ms','1s','3s','5s','10s'];c(status,rep);})}
a.auth=function(){a.xhr('POST','https://api.dropbox.com/1/oauth/request_token',null,null,null,function(rep,status){if(status!=200)return donec(null);a.reqauth={token:rep.oauth_token,tokensecret:rep.oauth_token_secret};window.showModalDialog('https://www.dropbox.com/1/oauth/authorize?oauth_token='+a.reqauth.token);a.xhr('POST','https://api.dropbox.com/1/oauth/access_token',null,null,null,function(rep,status){if(status!=200)return donec(null);a.accauth={token:rep.oauth_token,tokensecret:rep.oauth_token_secret,uid:rep.uid}
donec(a,{appkey:a.appkey,appsecret:a.appsecret,reqauth:a.reqauth,accauth:a.accauth})})})}
if(a.appkey&&a.appsecret&&a.reqauth&&a.accauth)return donec(a);a.auth();}
$.fn.dropbox2=function(token,donec,retries,timeout){var $me=$(this).eq(0);var $me2=$me.ioover().css({width:'0px',height:'0px'});var a=$me.iomakegui(null,'DropboxClient2');if(!timeout)timeout='60s';a.ticker=retries?retries:1;if(a.ticker>5)a.ticker=5;a.sleep=['1s','3s','5s','10s'];a.token=token;a.read=function(filename,c,mode){if(!mode)mode='base64';var sleeps=$.json2any($.any2json(a.sleep));var ticker=a.ticker;while(sleeps.length<ticker)sleeps.push(sleeps[sleeps.length-1]);a.log('read() entered with  sleeps'+$.any2json(sleeps)+'  ticker['+ticker+']');var done=function(raw){stuff=raw;a.log('done() raw',stuff);if(mode=='asis')return c(true,stuff);return c(true,$.json2anyutf8(stuff,mode=='nobase64'?false:true));}
var one=function(){$me.stopTime().oneTime(sleeps.shift(),function(){var req=new XMLHttpRequest();req.onload=function(){a.log('read() one() onload() status['+req.status+']');$me.stopTime();if(req.status===200)return done(req.response);ticker--;if(ticker>0)return one();return c(false,null);};req.open('POST','https://content.dropboxapi.com/2/files/download');req.setRequestHeader('Authorization','Bearer '+token);req.setRequestHeader('Dropbox-API-Arg',$.h2json({path:'/'+filename},false));req.send();a.log('read() one() ticker['+ticker+']  timeout['+timeout+']  mode['+mode+']');$me.stopTime().oneTime(timeout,function(){ticker--;if(ticker>0)return one();return c(false,null);});})};one();}
a.write=function(stuff,filename,c,mode){if(!mode)mode='base64';var sleeps=a.sleep;var ticker=a.ticker;while(sleeps.length<ticker)sleeps.push(sleeps[sleeps.length-1]);stuff=mode=='asis'?stuff:$.any2jsonutf8(stuff,mode=='nobase64'?false:true);a.log('sending',stuff);var buf=new ArrayBuffer(stuff.length);var buf2=new Uint8Array(buf);for(var i=0;i<stuff.length;i++)buf2[i]=stuff.charCodeAt(i);stuff={data:buf};var one=function(){$me.stopTime().oneTime(sleeps.shift(),function(){a.log('one() entered');var req=new XMLHttpRequest();req.onload=function(){$me.stopTime();if(req.status===200)return c(true);ticker--;if(ticker>0)return one();return c(false);};req.open('POST','https://content.dropboxapi.com/2/files/upload');req.setRequestHeader('Authorization','Bearer '+token);req.setRequestHeader('Content-Type','application/octet-stream');req.setRequestHeader('Dropbox-API-Arg',$.h2json({path:'/'+filename,mode:'overwrite'},false));req.send(stuff.data);$me.stopTime().oneTime(timeout,function(){ticker--;if(ticker>0)return one();return c(false);});})};one();}
if(donec)return donec(a);return a;}
$.fn.gdrive=function(keys,donec,retries,nobase64){var $me=$(this).eq(0);var $me2=$me.ioover().css({width:'0px',height:'0px'});var a=$me.iomakegui(null,'GDrive Client');if(!keys||!$.isObject(keys))return donec(null);a.ticker=retries?retries:1;if(a.ticker>5)a.ticker=5;a.sleep=['500ms','1s','3s','5s','10s'];$.jsloadbytag('https://apis.google.com/js/client.js');a.auth=function(){gapi.auth.authorize({'client_id':keys.clientid,'scope':'https://www.googleapis.com/auth/drive','immediate':false},function(h){$.log('auth',h);if(!h.access_token)return;keys.akeys=h.access_token;if(donec)return donec(a,keys);})}
a.wait=function(c){if(!a.sleep.length)return;$me.oneTime(a.sleep.shift(),function(){if(!gapi||!gapi.auth||!gapi.client)return a.wait(c);gapi.client.load('drive','v2',c);})}
a.wait(function(){if(!keys.userId)return a.auth();})}
$.fn.localbox=function(URL,donec){var $me=$(this).eq(0);var a=$me.iomakegui(null,'LocalBox');a.read=function(file,c){$.jsonload(URL,{action:'read',file:file},function(h){return c(200,h?h.stuff:null);})}
a.write=function(stuff,file,c){$.jsonload(URL,{action:'write',file:file,stuff:stuff},function(h){return c(200,h?h.stuff:null);})}
donec(a);return a;}
$.io.cloudstorage.drivers['dropbox']=$.fn.dropbox;$.io.cloudstorage.drivers['localbox']=$.fn.localbox;if(!$.io.cloudstorage.defaultdriver&&$.hk($.io.cloudstorage.drivers).length)$.io.cloudstorage.defaultdriver=$.hk($.io.cloudstorage.drivers).shift();$.fn.cloudstorage=function(keys,donec,errorc,options){var drivername=null;if($.fn[$.io.cloudstorage.defaultdriver])drivername=$.io.cloudstorage.defaultdriver;var checkandnotify=function(status,v1,v2,c){if(status==200)return c(status,v1,v2);if(errorc)return errorc(status,v1,v2);c(status,v1,v2);}
var done=function(driver){donec({read:function(filename,c){driver.read(filename,function(s,v1,v2){checkandnotify(s,v1,v2,c);});},write:function(stuff,filename,c){driver.write(stuff,filename,function(s,v1,v2){checkandnotify(s,v1,v2,c);});},chunkwrite:function(sid,offset,stuff,c){driver.chunkwrite(sid,offset,stuff,function(s,v1,v2){checkandnotify(s,v1,v2,c);});},chunkwritecommit:function(sid,filename,c){driver.chunkwritecommit(sid,filename,function(s,v1,v2){checkandnotify(s,v1,v2,c);});}})}
if(drivername=='dropbox')return $(this).dropbox(keys,donec,options);if(drivername=='localbox')return $(this).localbox(keys,donec);}
$.fn.dropboxlogger=function(keys,prefix,chunksize,donec){var $me=$(this).eq(0);var $me2=$me.ioover().css({width:'0px',height:'0px'});var a=$me.iomakegui(null,'DropboxLogger');a.logon();a.dbox=null;a.current=null;a.ticker=5;a.sleep=['500ms','1s','3s','5s','10s'];a.start=function(){if(!keys)return $me2.dropbox(null,donec);$me2.dropbox(keys,function(b){a.dbox=b;if(donec)donec(a);});}
a.wrap=function(c,session){if(session)a.current=session;var filename=prefix+'.'+$.iotime();a.ticker=5;a.sleep=['500ms','1s','3s','5s','10s'];var one=function(){a.dbox.chunkwritecommit(a.current.sid,filename,function(status){$.log('wrap() status',status);if(a.ticker--<0||!a.sleep.length)return c(null);if(status!=200)return $me.stopTime().oneTime(a.sleep.shift(),one)
a.ticker=5;a.sleep=['500ms','1s','3s','5s','10s'];a.current={sid:null,offset:0};if(c)c(a.current);})}
one();}
a.add=function(h,c,session){if(session)a.current=session;if(!a.current)a.current={offset:0,sid:null};var stuff=$.h2jsonutf8(h,true)+"\n";a.dbox.chunkwrite(a.current.sid,a.current.offset,stuff,function(status,sid,v){a.log('add() status,current',status,$.h2json(a.current));if(a.current.sid&&a.current.offset&&(a.ticker--<0||!a.sleep.length))return a.wrap(function(current){if(!current)return c(null);a.add(h,c);})
if(a.ticker--<0||!a.sleep.length)return c(null);if(status!=200)return $me.stopTime().oneTime(a.sleep.shift(),function(){a.add(h,c);})
a.ticker=5;a.sleep=['500ms','1s','3s','5s','10s'];if(!a.current.sid)a.current.sid=sid;a.current.offset+=stuff.length;if(a.current.offset<chunksize)return c(a.current);a.wrap(c);})}
a.restore=function(current){a.current=current;}
a.start();return a;}




if(!$.io)$.io={};if(!$.io.kvstorage)$.io.kvstorage={drivers:{}}
if(!$.io.kvstorage.drivers)$.io.kvstorage.drivers={};if(!$.io.kvstorage.defaultdriver)$.io.kvstorage.defaultdriver='chromestorage';$.fn.localstorage=function(donec){var $me=$(this).eq(0);var a=$me.iomakegui(null,'kvstorage.local');var SIZE=0;donec({set:function(h,c){for(var k in h){$.LSset(k,h[k]);SIZE+=h[k].length;};if(c)c();},get:function(ks,c){var h={};for(var i in ks)h[ks[i]]=$.LSget(ks[i]);if(c)c(h);},remove:function(ks,c){for(var i in ks){var v=$.LSget(ks[i]);$.LSremove(ks[i]);SIZE-=v?v.length:0;};if(SIZE<0)SIZE=0;if(c)c();},clear:function(c){$.LSclear();SIZE=0;if(c)c();},size:function(c){if(c)c(SIZE);}})}
$.fn.chromestorage=function(donec){var $me=$(this).eq(0);var a=$me.iomakegui(null,'kvstorage.chrome');a.storage=chrome.storage.local;donec({set:function(h,c){a.storage.set(h,c)},get:function(ks,c){var h={};if($.isString(ks))ks=[ks];var limit=100000;var one=function(){if(!ks.length||!limit--)return c(h);a.storage.get(ks.shift(),function(h2){if(!h2)return c(null);h=$.hm(h,h2);one();})}
one();},remove:function(ks,c){if($.isString(ks))ks=[ks];var limit=100000;var one=function(){if(!ks.length||!limit--)return c?c():null;a.storage.remove(ks.shift(),one);}
one();},clear:function(c){a.storage.clear();if(c)c();},size:function(c){c(a.storage.getBytesInUse());}})}
$.io.kvstorage.drivers['localstorage']=$.fn.localstorage;$.io.kvstorage.drivers['chromestorage']=$.fn.chromestorage;$.fn.kvstorage=function(donec,errorc,drivername){var $me=$(this).first();if(!drivername)drivername='chromestorage';$me[drivername](function(driver){donec({set:function(h,c,plaintext){if(!plaintext)for(var k in h)h[k]=$.any2jsonutf8(h[k],true);driver.set(h,c)},get:function(ks,c,plaintext){driver.get($.isString(ks)&&$.ttl(ks).length>1?$.ttl(ks):($.isString(ks)?[ks]:ks),function(h){if(!h)return c(null);if(!plaintext)for(var k in h)h[k]=h[k]?$.json2anyutf8(h[k],true):null;c(h);})},remove:function(ks,c){driver.remove(ks,c);},clear:function(c){driver.clear(c)},size:function(c){driver.size(c)}})});}



if(!$.io)$.io={}
$.io.stringex={shared:false,timeout:5000,timegapMin:1,timegapMax:3000,mask:2,vmapLimit:100,auth:null,keys:'one,two'}
$.fn.stringex=function(donec,auth){var $me=$(this).eq(0);var $me2=$me.ioover(true);var $me3=$me.ioover(true);var a=$me.iomakegui(null,'Stringex');a.logon();a.gtime=$.iotime();a.q=$me.jobqueue();a.dbox;a.setup=$.hm($.io.stringex);a.gap=a.setup.timegapMin;a.md5pair=function(v){var md5=$.md5(v);return{md5:mid5,md5p:md5.substr(0,a.setup.mask)};}
a.sync=function(all){$me2.stopTime().oneTime(a.gap,function(){var e=a.q.peek();if(!e){a.gap=a.setup.timegapMax;return a.sync();}
if($.iotime()-a.gtime<e.v.time){a.gap=a.setup.timegapMax;return a.sync();}
e=a.q.shift();})}
a.touch=function(h,donec){}
a.isdoc=function(h){}
a.find=function(h,donec){}
a.add=function(doc,donec,syncnow){}
a.remove=function(doc,donec,syncnow){}
$me.dropbox(auth,function(dbox){a.dbox=dbox;if(donec)donec(a);})
return a;}






var socket,onmsg,$body,$eyeL,$eyeR,$pupilR,$pupilL;var tobii={xmin:-40.92,xmax:1289.40,ymin:-99.65,ymax:2034.32};function init(){var host="ws://127.0.0.1:9000/echobot";try{socket=new WebSocket(host);console.log('WebSocket - status '+socket.readyState);socket.onopen=function(msg){console.log("Welcome - status "+this.readyState);}
socket.onmessage=function(msg){console.log("Received: "+msg.data);if(onmsg)onmsg(msg.data);}
socket.onclose=function(msg){console.log("Disconnected - status "+this.readyState);}}
catch(ex){console.log(ex);}}
function quit(){if(socket!=null){console.log("Goodbye!");socket.close();socket=null;}}
function reconnect(){quit();init();}
function rx(){$('title').first().empty().append('websockets');onmsg=function(msg){var h=$.tth(msg);var X=Math.round(100*((h.x-tobii.xmin)/(tobii.xmax-tobii.xmin)));var Y=Math.round(100*((h.y-tobii.ymin)/(tobii.ymax-tobii.ymin)));var W=$eyeR.width();var H=$eyeR.height();var w=$pupilR.width();h=$pupilR.height();var x=Math.round(X-(100*0.5*w)/ W);var y=Math.round(Y-(100*0.5*h)/ H);$pupilR.css({left:x+'%',top:y+'%'});$pupilL.css({left:x+'%',top:y+'%'});}};function start(){$body.stopTime().oneTime('3s',function(){$body.css({margin:'0px',padding:'0px',width:'100%',height:'100%','background-color':'#000'});$eyeL=$body.ioover().css($.tth('top=20%,left=10%,width=30%,height=30%,background-color=#fff,border=3px solid #666'));$eyeR=$body.ioover().css($.tth('top=20%,left=60%,width=30%,height=30%,background-color=#fff,border=3px solid #666'));$pupilL=$eyeL.ioover($.tth('display=block,position=absolute,top=40%,left=45%,width=30%,height=auto'),'img',{src:'pupil.png'});$pupilR=$eyeR.ioover($.tth('display=block,position=absolute,top=40%,left=45%,width=30%,height=auto'),'img',{src:'pupil.png'});try{socket.send("first");console.log('Sent "first"');}catch(ex){console.log(ex);}})};$(document).ready(function(){init();rx();$body=$('body').empty();start();})

</script>

